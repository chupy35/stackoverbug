30461031
configuring similarity algorithms elasticsearch
<p>I want to change default similarity algorithm of elastic search</p>&#xA;&#xA;<p>I viewed this link: <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules-similarity.html#default-base" rel="nofollow">https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules-similarity.html#default-base</a></p>&#xA;&#xA;<p>but I don't know how set this config by rest api or config file or etc...</p>&#xA;&#xA;<p>I also viewed this link:&#xA;<a href="https://www.elastic.co/guide/en/elasticsearch/guide/master/changing-similarities.html" rel="nofollow">https://www.elastic.co/guide/en/elasticsearch/guide/master/changing-similarities.html</a></p>&#xA;&#xA;<p>but in this link changing the similarity type when building property. </p>&#xA;
<p>One can change the default similarity of an index when you create the index as follows:</p>&#xA;&#xA;<pre><code>curl -XPUT "http://&lt;server&gt;/&lt;index&gt;" -d '&#xA;{&#xA;  "settings": {&#xA;    "similarity": {&#xA;      "default": { &#xA;        "type": "BM25"&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>If an index already exists it requires a rebuild since at the moment it is not possible to dynamically update the similarity of an index as mentioned in this  :<a href="https://github.com/elastic/elasticsearch/issues/6727" rel="nofollow">open issue</a></p>&#xA;&#xA;<p>You can change the  default similarity for all indexes by specifying the value for <em>index.similarity.default.type</em> in the config file :</p>&#xA;&#xA;<p>Example:</p>&#xA;&#xA;<pre><code>index.similarity.default.type: BM25&#xA;</code></pre>&#xA;
<p>Keety's answer is correct but you can also try using index templates.</p>&#xA;&#xA;<p>Index templates allow to define templates that will automatically be applied to new indices created. The templates include both settings and mappings, and a simple pattern template that controls if the template will be applied to the index created. </p>&#xA;&#xA;<p>In your case :</p>&#xA;&#xA;<pre><code>curl -XPUT localhost:9200/_template/template_1 -d '&#xA;{&#xA;  "template" : "te*",&#xA;  "settings": {&#xA;    "similarity": {&#xA;      "default": { &#xA;        "type": "BM25"&#xA;      }&#xA;    }&#xA;  }&#xA;}'&#xA;</code></pre>&#xA;&#xA;<p>Defines a template named template_1, with a template pattern of te*. The settings and mappings will be applied to any index name that matches the te* template.</p>&#xA;&#xA;<p>For more information about Index Templates, you can read the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/1.3/indices-templates.html" rel="nofollow">official documentation</a>.</p>&#xA;