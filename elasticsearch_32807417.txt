32807417
Why is fuzzy_like_this returning results from all types?
<p>I am surprised that <code>fuzzy_like_this</code> doesn't seem to be scoped to the index and type I'm searching. Instead, I get results from ALL types in my index. I am searching with <code>fuzzy_like_this</code> against a type, specifically <code>/places/places_city/_search</code>. Unfortunately it appears to return results from all types in the index, which seems like a bug.</p>&#xA;&#xA;<p>I have been trying by prefixing my fields with <code>places_city</code> but this is not  working.</p>&#xA;&#xA;<p>My code is given below</p>&#xA;&#xA;<pre><code>{&#xA;              "constant_score": { // here i am using this because to remove tf/idf factors from my scoring&#xA;              boost: .001,&#xA;                "query": {&#xA;                  "fuzzy_like_this" : {&#xA;                    "fields" : ["places_city.city"],&#xA;    //              "fields" : ['places_city.city'],&#xA;                    "like_text" : "bangaloremn",&#xA;                    "prefix_length": 3,&#xA;                    "fuzziness": 2&#xA;                  }&#xA;                }&#xA;              }&#xA;            }&#xA;</code></pre>&#xA;&#xA;<p>Here i have places_city as type name and city as its field i was using this typename.field convention in a normal query and it was working perfectly fine   for <strong>below query</strong> but i don't know why it is not working inside fuzzy like.</p>&#xA;&#xA;<pre><code>"must": [&#xA;                  {&#xA;                    "constant_score": { // here i am using this because to remove tf/idf factors from my scoring&#xA;                      boost: 1.04,&#xA;                      "query": {&#xA;                        query_string: {&#xA;                          query: location_search,&#xA;                          fields: ['places_city.city'],&#xA;          //               boost: 1.04&#xA;                        }&#xA;                      }&#xA;                    }&#xA;                  }&#xA;                ],&#xA;</code></pre>&#xA;&#xA;<p>Here ES is referencing to places_city as type name and city as its field but its not doing that in above code.</p>&#xA;