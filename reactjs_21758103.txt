21758103
React: Passing Props to Descendants
<p>Is there a recommended pattern for passing props to descendant components in React?</p>&#xA;&#xA;<p>Below, I'm passing the prop <code>callback</code> to a child component:</p>&#xA;&#xA;<pre class="lang-js prettyprint-override"><code>Master = React.createClass({&#xA;  render: function() {&#xA;    return (&#xA;      &lt;div&gt;&#xA;        &lt;ListComp items={this.props.items} callback={this.handleClick} /&gt;&#xA;      &lt;/div&gt;&#xA;    );&#xA;  }&#xA;});&#xA;&#xA;ListComp = React.createClass({&#xA;  render: function() {&#xA;&#xA;    this.props.items.forEach(function(item) {&#xA;      items.push(&lt;ItemView item={item} callback={this.props.callback} /&gt;);&#xA;    }, this);&#xA;&#xA;    return (&#xA;      &lt;ul&gt;{items}&lt;/ul&gt;&#xA;    );&#xA;  }&#xA;});&#xA;</code></pre>&#xA;&#xA;<p>And then the <code>callback</code> prop gets handed down to the descendant component:</p>&#xA;&#xA;<pre class="lang-js prettyprint-override"><code>ItemComp = React.createClass({&#xA;  render: function() {&#xA;    return (&#xA;      &lt;li&gt;&lt;a onClick={this.handleClick} href="#"&gt;Link&lt;/a&gt;&lt;/li&gt;&#xA;    );&#xA;  },&#xA;&#xA;  handleClick: function(e) {&#xA;    e.preventDefault();&#xA;    this.props.callback();&#xA;  }&#xA;});&#xA;</code></pre>&#xA;&#xA;<p>Is it correct to pass the prop down twice like this or should I be referencing its inheritance somehow?</p>&#xA;&#xA;<p>I see a <code>transferPropsTo</code> method in the docs, and from logging it looks like I could get to <code>callback</code> from the descendant via <code>this.props.__owner__.props</code> but those double-double underscores make me think I shouldn't.</p>&#xA;
<p>Yes, this is idiomatic. Think of each component as a function whose arguments are the props â€“ with that perspective, passing around the props explicitly seems a lot more normal. We've found that it makes things more maintainable to have everything be explicit so you can see what all the inputs to a component are and exactly what you're passing.</p>&#xA;&#xA;<p>(A future version of React will probably include a feature called "contexts" which makes it possible to pass things down implicitly, but it will probably make code harder to reason about so I'd still favor explicitness almost all of the time.)</p>&#xA;&#xA;<p><strong>UPDATE</strong> (not by original author)</p>&#xA;&#xA;<p>The documentation has finally been added (it was added sometime between summer 2015 and summer 2016, probably with release 0.14):</p>&#xA;&#xA;<p><a href="https://facebook.github.io/react/docs/context.html" rel="nofollow noreferrer">Official React Context Documentation</a>.</p>&#xA;&#xA;<p>Note that this is also how <a href="https://github.com/reactjs/react-redux" rel="nofollow noreferrer"><code>react-redux</code></a> simplifies passing of stores through the hierarchy.</p>&#xA;