28665399
Query with multiple fields and conditions in ElasticSearch
<p>In ElasticSearch is possible transform this SQL in one query?</p>&#xA;&#xA;<pre><code>SELECT * FROM table WHERE state IN ('NY', 'CA', 'FL') AND grade IN ('GOOD', 'BAD') AND active = 'YES' AND quantity &gt; 100 AND quantity &lt; 200&#xA;</code></pre>&#xA;
<p>You could use a <strong><a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/query-dsl-filtered-query.html" rel="nofollow"><code>filtered</code> query</a></strong> with a <strong><a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/query-dsl-bool-filter.html#query-dsl-bool-filter" rel="nofollow"><code>bool</code> filter</a></strong> for this</p>&#xA;&#xA;<pre><code>{&#xA;  "query" : {&#xA;    "filtered" : {&#xA;      "query" : {&#xA;        "match_all" : {}&#xA;      },&#xA;      "filter" : {&#xA;        "bool" : {&#xA;          "must" : [{&#xA;              "terms" : {&#xA;                "state" : [&#xA;                  "NY",&#xA;                  "CA",&#xA;                  "FL"&#xA;                ]&#xA;              }&#xA;            }, &#xA;            {&#xA;              "terms" : {&#xA;                "grade" : [&#xA;                  "GOOD",&#xA;                  "BAD"&#xA;                ]&#xA;              }&#xA;            }, &#xA;            {&#xA;              "term" : {&#xA;                "active" : "YES"&#xA;              }&#xA;            }, &#xA;            {&#xA;              "range" : {&#xA;                "quantity" : {&#xA;                  "gt" : 100,&#xA;                  "lt" : 200&#xA;                }&#xA;              }&#xA;            }&#xA;          ]&#xA;        }&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;