33760152
IllegalArgumentException - Only <= 256 finite strings are supported
<p>I'm getting this error when indexing my data. After some research I found why this is happening, and that increasing the <code>max_token_length</code> so I did this, but I'm still getting the same error of <code>TokenStream expanded to 912 finite strings. Only &lt;= 256 finite strings are supported</code></p>&#xA;&#xA;<p>Here is my analyzer settings:</p>&#xA;&#xA;<pre><code>"settings": {&#xA;    "index": {&#xA;        "analysis": {&#xA;            "analyzer": {&#xA;                "shingle_analyzer": {&#xA;                    "tokenizer": "standard",&#xA;                    "max_token_length": 920,&#xA;                    "filter": ["lowercase", "shingle_filter", "asciifolding"],&#xA;                    "char_filter": ["html_strip"],&#xA;                    "type": "custom"&#xA;                },&#xA;                "html_analyzer": {&#xA;                    "tokenizer": "standard",&#xA;                    "max_token_length": 920,&#xA;                    "filter": ["lowercase", "asciifolding"],&#xA;                    "char_filter": ["html_strip"],&#xA;                    "type": "custom"&#xA;                }&#xA;            },&#xA;            "tokenizer": {&#xA;                "standard": {&#xA;                    "type": "standard"&#xA;                }&#xA;            },&#xA;            "filter": {&#xA;                "shingle_filter": {&#xA;                    "min_shingle_size": 2,&#xA;                    "max_shingle_size": 5,&#xA;                    "type": "shingle"&#xA;                }&#xA;            }&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Here is an example of what I'm trying to insert:</p>&#xA;&#xA;<pre><code>POST /my_index/my_type/{id}&#xA;{&#xA;    "myField":{&#xA;        "input":"Abcdefghij kl Mnopqrstwx yz Abcdef g Hijklmno pq Rstwxy Zabc (DEF)",&#xA;        "weight":2,&#xA;        "payload":{&#xA;            "iD":"2786129"&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Here is the mapping for the <code>my_type</code> properties</p>&#xA;&#xA;<pre><code>"Suggestion": {&#xA;    "properties": {&#xA;        "id": {&#xA;            "index": "not_analyzed",&#xA;            "type": "integer"&#xA;        },&#xA;        "myField": {&#xA;            "type": "completion",&#xA;            "analyzer": "shingle_analyzer",&#xA;            "search_analyzer": "shingle_analyzer",&#xA;            "max_input_length": 150,&#xA;            "payloads": true&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>What am I missing?</p>&#xA;&#xA;<p>I will appreciate any help or clue to solve this problem, thanks!</p>&#xA;&#xA;<p><strong>EDIT:</strong>&#xA;Corrected <code>analyzer</code> enclosing missing</p>&#xA;
<p>Well, days ago I came around with a solution. I just remove the <code>max_token_length</code> property from my settings in the analyzer and decrease the <code>max_input_length</code> from the mapping in my field and that seems to solve my problem, but I'm honestly not sure why does this happened and why does this solved it. If anyone has and idea, please, feel free to share your knowledge :)</p>&#xA;