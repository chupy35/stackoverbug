30914961
elasticsearch query to find documents that don't exist
<p>Is there a way in Elasticsearch through filters, queries, aggregations etc to search for a list of document ids and have returned which ids did not hit?</p>&#xA;&#xA;<p>With a small list it is easy enough to compare the results against the requested ids list but I'm dealing with lists of ids in the tens of thousands and it is not going to be performant to do that.</p>&#xA;
<p>Do you mean, from <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-not-filter.html" rel="nofollow">https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-not-filter.html</a></p>&#xA;&#xA;<pre><code>"filtered" : {&#xA;    "query" : {&#xA;        "term" : { "name.first" : "shay" }&#xA;    },&#xA;    "filter" : {&#xA;        "not" : {&#xA;            "range" : {&#xA;                "postDate" : {&#xA;                    "from" : "2010-03-01",&#xA;                    "to" : "2010-04-01"&#xA;                }&#xA;            }&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Take a look at the guide at <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html" rel="nofollow">https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html</a></p>&#xA;