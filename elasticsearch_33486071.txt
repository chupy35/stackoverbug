33486071
Add alias to index from template?
<p>How do you add an alias to an index using a template?</p>&#xA;&#xA;<p>If I look at my current templates there are empty sections named aliases in mappings and in the parent of mappings.  I can't seem to find much documentation indicating their use.  What I'm hoping to do is not have to execute an alias add after the index is created.</p>&#xA;&#xA;<p>Thanks,&#xA;Pat</p>&#xA;
<p>When creating an <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-templates.html" rel="nofollow noreferrer">index template</a>, the <code>aliases</code> section contains the aliases that you want to be created at the same time a new index is created. For instance, with the command below, every time a new index whose name matches <code>index*</code> is created, then the aliases named <code>my_alias1</code> and <code>my_alias2</code> are also created at the same time.</p>&#xA;&#xA;<pre><code>curl -XPUT localhost:9200/_template/my_template -d '&#xA;{&#xA;    "template" : "index*",&#xA;    "settings" : {&#xA;        "number_of_shards" : 1&#xA;    },&#xA;    "aliases" : {&#xA;        "my_alias1" : {},&#xA;        "my_alias2" : {}&#xA;    }&#xA;}'&#xA;</code></pre>&#xA;&#xA;<p><em>UPDATE</em></p>&#xA;&#xA;<p>Note that as of ES6, <code>template</code> has been renamed to <code>index_patterns</code>:</p>&#xA;&#xA;<pre><code>curl -XPUT localhost:9200/_template/my_template -d '&#xA;{&#xA;    "index_patterns" : "index*",&#xA;    "settings" : {&#xA;        "number_of_shards" : 1&#xA;    },&#xA;    "aliases" : {&#xA;        "my_alias1" : {},&#xA;        "my_alias2" : {}&#xA;    }&#xA;}'&#xA;</code></pre>&#xA;