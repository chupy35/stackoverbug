31261281
Find misspelled documents in elasticsearch
<p>I have an Author document in my elasticsearch index. I have a user input to put new author in the index.</p>&#xA;&#xA;<p>Before storing those new Author, I want to check if the Author already exist in the index, even if it was first misspelled.</p>&#xA;&#xA;<p>I'm doing fuzzy search that seems to be the way of doing this.&#xA;Here is the request I'm doing:</p>&#xA;&#xA;<pre><code>curl 'http://localhost:9200/my_index/Author/_search?pretty' -d '{&#xA;  "query":&#xA;  {&#xA;    "fuzzy": {&#xA;      "name": {&#xA;        "value": "put a name here"&#xA;      }&#xA;    }&#xA;  }&#xA;}'&#xA;</code></pre>&#xA;&#xA;<p>Given I have an Author named "Daniel Bluefield".&#xA;The above request works well when I search "Danel".&#xA;But it don't return anythin if I search the full name, it did not return any result.</p>&#xA;&#xA;<p>How can I make a request for "Danel Bluefld" returns some results ?</p>&#xA;
<p>Change it to fuzzy_like_this_field,you might need to tweak the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-flt-field-query.html" rel="nofollow">fuzziness</a> parameter </p>&#xA;&#xA;<pre><code>curl 'http://localhost:9200/my_index/Author/_search?pretty' -d '{&#xA;  "query":&#xA;  {&#xA;    "fuzzy_like_this_field" : {&#xA;    "name" : {&#xA;        "like_text" : "Danel Bluefld",&#xA;        "max_query_terms" : 10&#xA;    }&#xA;   }&#xA;  }&#xA;}'&#xA;</code></pre>&#xA;
<p>The Mihai works well, however, I've managed to make it work another way:</p>&#xA;&#xA;<pre><code>{&#xA;  "min_score": 3,&#xA;  "query": {&#xA;    "match": {&#xA;      "name": {&#xA;        "query": "danil greenfld",&#xA;        "fuzziness": "AUTO"&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>But I can't really see the difference between those two queries...</p>&#xA;