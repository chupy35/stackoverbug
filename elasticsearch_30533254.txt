30533254
Index template with wildcard type names
<p>As we can read on <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-templates.html" rel="nofollow">this section</a> from the official documentation, we can set wildcards in the index names, I have tested it and works fine, but, there is any way to can do the same with the type names?. For example</p>&#xA;&#xA;<pre><code>{&#xA;    "user": {&#xA;        "template": "user-*",&#xA;        "settings": {&#xA;            "index.number_of_shards": 5,&#xA;            "index.number_of_replicas": 1&#xA;        },&#xA;        "mappings": {&#xA;             "info": {&#xA;                 "dynamic": "strict",&#xA;                 "properties": {&#xA;                     ...&#xA;                 }&#xA;            }&#xA;            "more": {&#xA;                 "template": "more-*",&#xA;                 "_parent": {&#xA;                    "type": "info"&#xA;                 },&#xA;                 "dynamic": "strict",&#xA;                 "properties": {&#xA;                     ...&#xA;                 }&#xA;            }&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Thise example doesn't work, sure, but I hope that there is another way to can do it.</p>&#xA;&#xA;<p>UPDATE:&#xA;Second aproximation</p>&#xA;&#xA;<pre><code>{&#xA;    "user": {&#xA;        "template": "user-*",&#xA;        "settings": {&#xA;            "index.number_of_shards": 5,&#xA;            "index.number_of_replicas": 1&#xA;        },&#xA;        "mappings": {&#xA;                "info": {&#xA;                    "dynamic": "strict",&#xA;                 "properties": {&#xA;                        ...&#xA;                    }&#xA;               }&#xA;            "more-*": {&#xA;                    "_parent": {&#xA;                    "type": "info"&#xA;                 },&#xA;                    "dynamic": "strict",&#xA;                 "properties": {&#xA;                        ...&#xA;                    }&#xA;               }&#xA;           }&#xA;       }&#xA;   }&#xA;</code></pre>&#xA;&#xA;<p>But when I try to create that type "more-2015" inside "user-0" index (/user-0/more-2015/) get the next exception: </p>&#xA;&#xA;<blockquote>&#xA;  <p>org.elasticsearch.ElasticsearchIllegalArgumentException: Can't specify&#xA;  parent if no parent field has been configured</p>&#xA;</blockquote>&#xA;
<p>So you want to have different types with the exact same mapping ?</p>&#xA;&#xA;<p><a href="https://www.elastic.co/guide/en/elasticsearch/guide/master/mapping.html#mapping" rel="nofollow">From the doc</a></p>&#xA;&#xA;<blockquote>&#xA;  <p>A type in Elasticsearch represents a class of similar documents. A type consists of a name—such as user or blogpost—and a mapping. The mapping, like a database schema, describes the fields or properties that documents of that type may have, the datatype of each field—such as string, integer, or date—and how those fields should be indexed and stored by Lucene</p>&#xA;</blockquote>&#xA;&#xA;<p>You wouldn't have different classnames, with the same structure.  Has I said in my comment, you cannot have  a wildcard in type name, because it wouldn't make any sense.</p>&#xA;&#xA;<p>From what I can see, you use year as a dimension. Have you considered having one index per year, and your types info &amp; more-info ?</p>&#xA;