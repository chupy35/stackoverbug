30967666
ElasticSearch Rest API in JAVA
<p>I am trying to write a simple JAVA REST Client through which I want to PUT/GET  elasticsearch document information.&#xA;PUT is working fine, my json data got added into index.&#xA;But the problem is GET, Response Code is 200, but it is not returning any data.</p>&#xA;&#xA;<p>Can anyone please help.</p>&#xA;&#xA;<pre><code>public static String httpGet(String resturl){&#xA;    String output = null; &#xA;    try {&#xA;&#xA;            URL url = new URL(resturl);&#xA;            HttpURLConnection conn = (HttpURLConnection) url.openConnection();&#xA;            conn.setRequestMethod("GET");&#xA;            conn.setRequestProperty("Content-Type", "application/json");&#xA;&#xA;            if (conn.getResponseCode() != 200) {&#xA;                throw new RuntimeException("Failed : HTTP error code : "&#xA;                        + conn.getResponseCode());&#xA;            }&#xA;&#xA;            BufferedReader br = new BufferedReader(new InputStreamReader(&#xA;                (conn.getInputStream())));&#xA;&#xA;&#xA;            System.out.println("Output from Server .... \n");&#xA;            while ((output = br.readLine()) != null) {&#xA;                //System.out.println(output);&#xA;            }&#xA;&#xA;            conn.disconnect();&#xA;&#xA;          } catch (MalformedURLException e) {&#xA;&#xA;            e.printStackTrace();&#xA;&#xA;          } catch (IOException e) {&#xA;&#xA;            e.printStackTrace();&#xA;&#xA;          }&#xA;&#xA;      return output;&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>I am calling as</p>&#xA;&#xA;<p>RestClient.httpGet("<a href="http://localhost:9200/gabsindex/employee/_search" rel="nofollow">http://localhost:9200/gabsindex/employee/_search</a>")</p>&#xA;
<p>You <code>println</code> call is currently commented out. If you uncomment it, you'll get the response from the server on one single line, something like</p>&#xA;&#xA;<pre><code>{"took":50,"timed_out":false,"_shards":{"total":5,"successful":5,"failed":0},"hits":{"total":7056,"max_score":1.0,"hits":[...]}}&#xA;</code></pre>&#xA;&#xA;<p>If you are trying to follow this approach educationally, this can be ok. Remember, nonetheless, that there are a number of libraries that can be used exactly for this use. You should check out the <a href="https://www.elastic.co/guide/en/elasticsearch/client/community/current/clients.html" rel="nofollow">clients page</a>.</p>&#xA;