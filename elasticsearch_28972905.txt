28972905
Is there a way to programatically modify an elastic search service's startup Java options after the service has already been installed (Windows)?
<p>I have some custom JVM options for my <strong><em>elastic search service</em></strong> that I want to execute with. I have tried setting the <code>%ES_JAVA_OPTS%</code> environment variable, but it seems that the <strong><em>elastic search service</em></strong> only looks at that variable when it is installing the service in the <code>service.bat</code> script:</p>&#xA;&#xA;<pre><code>:doInstall&#xA;...&#xA;if exist "%JVM_DLL%" goto foundJVM&#xA;...&#xA;:foundJVM&#xA;...&#xA;if not "%ES_JAVA_OPTS%" == "" set JVM_ES_JAVA_OPTS=%ES_JAVA_OPTS: =#%&#xA;if not "%ES_JAVA_OPTS%" == "" set JVM_OPTS=%JVM_OPTS%;%JVM_ES_JAVA_OPTS%&#xA;&#xA;if "%ES_START_TYPE%" == "" set ES_START_TYPE=manual&#xA;if "%ES_STOP_TIMEOUT%" == "" set ES_STOP_TIMEOUT=0&#xA;&#xA;"%EXECUTABLE%" //IS//%SERVICE_ID% --Startup %ES_START_TYPE% --StopTimeout  %ES_STOP_TIMEOUT% --StartClass org.elasticsearch.bootstrap.Elasticsearch --StopClass org.elasticsearch.bootstrap.Elasticsearch --StartMethod main --StopMethod close --Classpath "%ES_CLASSPATH%" --JvmSs %JVM_SS% --JvmMs %JVM_XMS% --JvmMx %JVM_XMX% --JvmOptions %JVM_OPTS% ++JvmOptions %ES_PARAMS% %LOG_OPTS% --PidFile "%SERVICE_ID%.pid" --DisplayName "Elasticsearch %ES_VERSION% (%SERVICE_ID%)" --Description "Elasticsearch %ES_VERSION% Windows Service - http://elasticsearch.org" --Jvm "%JVM_DLL%" --StartMode jvm --StopMode jvm --StartPath "%ES_HOME%"&#xA;</code></pre>&#xA;&#xA;<p>I was able to manually add my options by going in to the service manager and copying in the value of my environment variable in to the "Java Options" field under the "Java" tab. Is there some way I can do this programmatically without uninstalling and re-installing the service?</p>&#xA;&#xA;<p>I am on elasticsearch v1.3.4 and Windows Server 2012 R2.</p>&#xA;
<p>I think you are looking for the Windows <code>sc</code> command.  Please try this <a href="https://superuser.com/a/252850">answer</a></p>&#xA;