34101464
How to convert filtered query with Multi_Match to filtered query with Common Terms
<p>I am using ES 2.0. I have the following filtered query with <code>multi_match</code>:</p>&#xA;&#xA;<pre><code>{&#xA;    "filtered" : {&#xA;        "query": { &#xA;                "multi_match" : {&#xA;                    "query" : "sleep",&#xA;                    "fields" : ["title.*^10","introduction.*"],&#xA;                    "cutoff_frequency" : 0.001,&#xA;                    "operator" : "or",&#xA;                    "analyzer" : "standard"&#xA;                }&#xA;        },&#xA;        "filter" : {&#xA;            ...&#xA;        }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Because of stop words issue, I would like to replace the Multi_Match with Common Terms explained here: <a href="https://www.elastic.co/blog/stop-stopping-stop-words-a-look-at-common-terms-query" rel="nofollow">https://www.elastic.co/blog/stop-stopping-stop-words-a-look-at-common-terms-query</a></p>&#xA;&#xA;<p>How can I just replace the above <code>multi_match</code> with Common Terms? I cannot figure out how to handle the search on multiple fields based on Common Terms.</p>&#xA;&#xA;<p>Thanks!</p>&#xA;
<p>When specifying the <code>cutoff_frequency</code> in your <code>multi_match</code> query, you're already using common terms, as mentioned in the blog article you linked to: </p>&#xA;&#xA;<blockquote>&#xA;  <p>"Common Terms has also been incorporated into the Match query and can&#xA;  be enabled by setting <code>cutoff_frequency</code> to a value like 0.001"</p>&#xA;</blockquote>&#xA;&#xA;<p>The documentation for <code>match</code> and <code>multi_match</code> on <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query.html#query-dsl-match-query-cutoff" rel="nofollow"><code>cutoff_frequency</code></a> also mention this fact.</p>&#xA;