31818317
Storing nested data in ElasticSearch
<p>I have the following model of data:</p>&#xA;&#xA;<h2>Topic</h2>&#xA;&#xA;<p>Title</p>&#xA;&#xA;<p>Body</p>&#xA;&#xA;<p>Children - Contains more topics</p>&#xA;&#xA;<p>I'm trying to figure out the best way to store this information. Should I flatten all the documents and store them individually or should I store documents such that the children of topics and their children and so on are all nested within a single document? The latter approach makes me think that it may not be flexible.</p>&#xA;&#xA;<p>Any advice would be much appreciated</p>&#xA;
<p>It depends what you want to do:</p>&#xA;&#xA;<p>For fast full text search, it's better to use inverted index:</p>&#xA;&#xA;<blockquote>&#xA;  <p>An inverted index consists of a list of all the unique words that appear in any document, and for each word, a list of the documents in which it appears.&#xA;  <a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/inverted-index.html" rel="nofollow">https://www.elastic.co/guide/en/elasticsearch/guide/current/inverted-index.html</a></p>&#xA;</blockquote>&#xA;&#xA;<p>Otherwise: use forward index with nested objects (faster indexing, slower queries). Or else parent-child relationships (more efficient indexing)</p>&#xA;&#xA;<p><a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/parent-child.html" rel="nofollow">https://www.elastic.co/guide/en/elasticsearch/guide/current/parent-child.html</a></p>&#xA;