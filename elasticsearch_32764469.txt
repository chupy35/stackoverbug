32764469
Should query with "AND" operator in Elasticsearch?
<p>I want to write a query inside should such that when both matches the document then i will boost the score by 2 but when any one of them or none of them matches i do not want any boost my code is given below now can anyone please tell me how should i write my "Should" query so that i can do my work. </p>&#xA;&#xA;<pre><code>query: {&#xA;                bool: {&#xA;                  must: {&#xA;                    query_string: {&#xA;                      query: shop_search,&#xA;                      fields: ['shop_name'],&#xA;                      boost: 3.0&#xA;                    }&#xA;                  }, should: [&#xA;                    {&#xA;                      term : { 'address.area2' : search_area2 }&#xA;                    },&#xA;                    {&#xA;                      term : { "address.area1" : search_area1 }&#xA;                    }&#xA;                  ], "boost": 2.0&#xA;                } &#xA;              }&#xA;</code></pre>&#xA;
<p>Nest another boolean query inside your should clause:</p>&#xA;&#xA;<pre><code>"query": {&#xA;    "bool": {&#xA;        "must": {&#xA;            "query_string": {&#xA;                "query": shop_search,&#xA;                "fields": ["shop_name"],&#xA;                "boost": 3.0&#xA;            }&#xA;        },&#xA;        "should": {&#xA;            "bool": {&#xA;                "must": [{&#xA;                    "term": {&#xA;                        "address.area2": search_area2&#xA;                    }&#xA;                }, {&#xA;                    "term": {&#xA;                        "address.area1": search_area1&#xA;                    }&#xA;                }],&#xA;                "boost": 2.0&#xA;            }&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;