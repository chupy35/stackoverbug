32994868
Elasticsearch cat indices in JSON format
<p>Using Elasticsearch 1.7, I want to see the results of <code>_cat/indices</code> in  JSON format.  I understand <a href="https://www.elastic.co/guide/en/elasticsearch/reference/1.7/cat.html" rel="noreferrer">the results are meant to be aligned/pretty/readable</a>, but is there a way to convert it to JSON using Elasticsearch API?</p>&#xA;
<p>It looks like I can get what I need using <code>/*/_aliases</code> and use all the keys of the response, <a href="https://stackoverflow.com/questions/24371439/elasticsearch-get-a-list-of-indexes">similar to what is suggested here</a>.</p>&#xA;
<p>Per <a href="https://www.elastic.co/guide/en/elasticsearch/reference/1.7/cat.html" rel="noreferrer">the documentation of cat APIs</a>:</p>&#xA;&#xA;<blockquote>&#xA;  <p>JSON is great… for computers. Even if it’s pretty-printed, trying to find relationships in the data is tedious. Human eyes, especially when looking at an ssh terminal, need compact and aligned text. The cat API aims to meet this need.</p>&#xA;</blockquote>&#xA;&#xA;<p>In other words, the cat API is designed to give data in this format. So you will want to use a different form of the API. The problem is (at least this was my problem) that googling "elasticsearch list indices" brings up the cat API as the first result, so this question is pretty reasonable.</p>&#xA;&#xA;<p>To get all of the indices in JSON form, it's as easy as running this:</p>&#xA;&#xA;<pre><code>GET /*/_stats&#xA;</code></pre>&#xA;&#xA;<p>That's a lot of data though. You likely want JSON because you want to do some sort of processing on it. Going back to how I found this question, I actually wanted to get a list of indices sorted by the store size and I didn't want to have to use <code>curl</code> and <code>sort</code> unix commands to do so. That command looks like this:</p>&#xA;&#xA;<pre><code>GET /*/_stats/store&#xA;</code></pre>&#xA;&#xA;<p>Unfortunately, the sort in the search body won't work for the <code>_stats</code> command (at least, I haven't been able to make it work). But adding the <code>store</code> attribute will make it so you only get back the information about the data stores for each index. </p>&#xA;&#xA;<p>More information about the metrics attributes can be found in <a href="https://www.elastic.co/guide/en/elasticsearch/reference/1.7/indices-stats.html" rel="noreferrer">the _stats documentation</a>.</p>&#xA;
<p>In general with this and other REST apis, set the "Accept" header to the content type you need. For example, with elasticsearch 5.1.1 you need to specify "application/json" as the accepted content type and elasticsearch will honor that.</p>&#xA;
<h3>Append <code>format</code> param, eg: <code>_cat/indices?format=json</code></h3>&#xA;&#xA;<p>You can also make it pretty-formatted with: <code>_cat/indices?format=json&amp;pretty=true</code></p>&#xA;
<p>Yes it can be done by adding format=json at the end.</p>&#xA;&#xA;<pre><code>localhost:9200/_cat/indices?format=json&#xA;</code></pre>&#xA;