34337244
multiple match must fields not working in elastic search
<p>below query is fetching result if i give existing record that is fine , but if i change name field from 'John' to 'John1' then still record is fetching.</p>&#xA;&#xA;<pre><code>{&#xA; "query" : {&#xA;            "bool" : {&#xA;              "must" : [&#xA;                 { "match" : {"employeeId" : "1234"}}, &#xA;                 { "match" : {"name" : "John"}} &#xA;              ]&#xA;           }&#xA;   }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>I tried another alternative query  as well but still giving result.which query is correct in terms of performance?but both are giving results if i change name record from 'John' to 'John1'</p>&#xA;&#xA;<pre><code>{&#xA;&#xA; "filter": {&#xA;  "bool" : {&#xA;    "must" : {&#xA;      "term" : {&#xA;        "employeeId" : "1234"&#xA;      }&#xA;     }&#xA;    }&#xA;    },&#xA;    "query": {&#xA;      "match" : {&#xA;        "name" : {&#xA;          "query" : "John",&#xA;          "type" : "phrase"&#xA;        }&#xA;      } &#xA;   }&#xA;}&#xA;</code></pre>&#xA;
<p>This because you are doing match, if you want do exact search you need to use filter&#xA;Notice we assuce the mapping of name column is analyzed</p>&#xA;&#xA;<pre><code>{&#xA;    "query" :{&#xA;        "filtered" : {&#xA;            "filter" : {&#xA;                "bool" : {&#xA;                  "must" : [&#xA;                     { "term" : {"employeeId" : "1234"}}, &#xA;                     { "term" : {"name" : "john"}} &#xA;                  ]&#xA;               }&#xA;          }&#xA;       }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;