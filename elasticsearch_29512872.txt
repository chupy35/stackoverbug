29512872
How can I scroll the results of a multisearch query in Elasticsearch?
<p>I have tried the following two ways to scroll the results of an elasticsearch multisearch query.</p>&#xA;&#xA;<p><strong>Approach #1</strong></p>&#xA;&#xA;<pre><code>curl -XGET "http://localhost:9200/indexname/_msearch?scroll=10m" -d'&#xA;{ "type": "parent" }&#xA;{"query": {"match_all": {}}}&#xA;{ "type": "child" }&#xA;{"query": {"match_all": {}}}&#xA;'&#xA;</code></pre>&#xA;&#xA;<p><strong>Approach #2</strong></p>&#xA;&#xA;<pre><code>curl -XGET "http://localhost:9200/indexname/_msearch" -d'&#xA;{ "type": "parent", "scroll": "10m" }&#xA;{"query": {"match_all": {}}}&#xA;{ "type": "child", "scroll": "10m" }&#xA;{"query": {"match_all": {}}}&#xA;'&#xA;</code></pre>&#xA;&#xA;<p>Both approaches don't seem to work, since they don't return a scroll ID in the response. What can I do? What am I doing wrong?&#xA;Thanks in advance. </p>&#xA;
<p>Check out <code>from</code> and <code>size</code> - these can be used alongside each query. eg:</p>&#xA;&#xA;<pre><code>{ "type": "parent" }&#xA;{ "from":20,"size":10, "query": {...}}&#xA;</code></pre>&#xA;&#xA;<p><a href="http://www.elastic.co/guide/en/elasticsearch/reference/1.4/search-request-from-size.html" rel="nofollow">http://www.elastic.co/guide/en/elasticsearch/reference/1.4/search-request-from-size.html</a></p>&#xA;