32312681
Get a weighted average score for Elastic Search query
<p>I have a bool query with different set of queries</p>&#xA;&#xA;<p>Say like</p>&#xA;&#xA;<pre><code>{&#xA;  "bool": {&#xA;    "must": [&#xA;      {&#xA;        "match": {&#xA;          "firstName": {&#xA;            "query": "abcde",&#xA;            "fuzziness": 2&#xA;          }&#xA;        }&#xA;      },&#xA;      {&#xA;        "match": {&#xA;          "lastName": {&#xA;            "query": "qrs"&#xA;          }&#xA;        }&#xA;      },&#xA;      {&#xA;        "match": {&#xA;          "middleName": {&#xA;            "query": "asdfg",&#xA;            "fuzziness": 1&#xA;          }&#xA;         }&#xA;      }&#xA;    ]&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>I need to have a threshold to match this query say 70 </p>&#xA;&#xA;<p>I have a score like 40% of the total score to lastName, 30% of the total score for firstName, 30% of the total score for middleName</p>&#xA;&#xA;<p>So at least lastName and firstName should match or the lastName and middleName should match to satisfy the query. </p>&#xA;&#xA;<p>How to achieve this.</p>&#xA;