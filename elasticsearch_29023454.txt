29023454
Elasticsearch: how to return all facet values in an aggregation
<p>I am learning Elasticsearch by reading the book called Elasticsearch Cookbook (2ed). It has the following sample query:</p>&#xA;&#xA;<pre><code>{&#xA;    "query": {&#xA;        "match_all": {}&#xA;    },&#xA;    "aggs": {&#xA;        "tag": {&#xA;            "terms": {&#xA;                "field": "tag",&#xA;                "size": 10&#xA;            }&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>According to the book, </p>&#xA;&#xA;<pre><code>size (by default 10): This controls the number of facets value that is to be returned.&#xA;</code></pre>&#xA;&#xA;<p>I am curious about this: how to return all facet values if I don't know the total number of facet values in advance?</p>&#xA;&#xA;<p>Sorry if my question is so obvious.</p>&#xA;&#xA;<p>Thanks and regards.</p>&#xA;
<p>set size to 0 (which is the same as setting it to Integer.MAX_VALUE)</p>&#xA;&#xA;<p>Be careful though, as this will perform horribly if you have a lot of facet values.</p>&#xA;&#xA;<p>See <a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-terms-aggregation.html" rel="nofollow">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-terms-aggregation.html</a></p>&#xA;