33696944
How do I enable remote access/request in Elasticsearch 2.0?
<p>Starting from v2.0 Elasticsearch is listening only on localhost by default, but I'd like to make request outside localhost.</p>&#xA;&#xA;<p>For example, a request like this is allowed:</p>&#xA;&#xA;<p><code>http://localhost:9200/</code></p>&#xA;&#xA;<p>But this is not:</p>&#xA;&#xA;<p><code>http://server_name:9200/</code> (from outside of the server, eg: a local computer in the same LAN).</p>&#xA;&#xA;<p>Thanks for your help.</p>&#xA;
<p>Rename the elasticsearch.yml file to elasticsearch.json inside config folder and add:</p>&#xA;&#xA;<pre><code>{&#xA;    "network" : {&#xA;        "host" : "10.0.0.4"&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Another option is to provide the settings externally either using the ES_JAVA_OPTS or as parameters to the elasticsearch command, for example:</p>&#xA;&#xA;<p><code>$ elasticsearch -Des.network.host=10.0.0.4</code></p>&#xA;&#xA;<p>Another option is to set es.default. prefix instead of es. prefix, which means the default setting will be used only if not explicitly set in the configuration file.</p>&#xA;&#xA;<p>Another option is to use the <code>${...}</code> notation within the configuration file which will resolve to an environment setting, for example:</p>&#xA;&#xA;<pre><code>{&#xA;    "network" : {&#xA;        "host" : "${ES_NET_HOST}"&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>The location of the configuration file can be set externally using a system property:</p>&#xA;&#xA;<p><code>$ elasticsearch -Des.config=/path/to/config/file</code></p>&#xA;&#xA;<p>For more info, check out <a href="https://www.elastic.co/guide/en/elasticsearch/reference/1.4/setup-configuration.html">https://www.elastic.co/guide/en/elasticsearch/reference/1.4/setup-configuration.html</a></p>&#xA;
<p>In <code>config/elasticsearch.yml</code> put</p>&#xA;&#xA;<pre><code>network.host: 0.0.0.0&#xA;</code></pre>&#xA;
<p>In config/elasticsearch.yml, put network.host: 0.0.0.0 as @arsent said.&#xA;And also add Inbound Rule in firewall for your ElasticSearch port(9200 ByDefault).&#xA;It worked in ElasticSearch version 2.3.0</p>&#xA;
<p>As @arsent mentioned add that ip address to the config file:</p>&#xA;&#xA;<pre><code>sudo nano /etc/elasticsearch/elasticsearch.yml&#xA;</code></pre>&#xA;&#xA;<p>Jay also added an important point - if you're using a firewall, remember to add a rule allowing traffic to that port. </p>&#xA;&#xA;<p>If you want to allow a master server to access ES over http, then add a rule allowing access to only from that particular address. For example, say you are using ufw, then run this command to add your port:</p>&#xA;&#xA;<pre><code>sudo ufw allow from xxx.xxx.xxx.xxx to any port zzzz&#xA;</code></pre>&#xA;&#xA;<p>Replace xxx.xxx.xxx.xxx with your master server IP address and zzzz with the port you configured in <code>config/elasticsearch.yml</code></p>&#xA;&#xA;<p>It is recommended to use a custom port and not keep the default 9200</p>&#xA;&#xA;<p>To test it, SSH into your master server and ping the ES ip with the correct port to see if you get a response:</p>&#xA;&#xA;<pre><code>curl -X GET 'http://xxx.xxx.xxx.xxx:zzzz'&#xA;</code></pre>&#xA;&#xA;<p>You can also verify ES is inaccessible from other IPs by trying it with your browser.</p>&#xA;&#xA;<p>There's <a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-elasticsearch-on-ubuntu-16-04" rel="nofollow noreferrer">an excellent article</a> that shows how to set up ES on Ubuntu on DigitalOcean</p>&#xA;
<p>By default http transport and internal elasticsearch transport only listens to localhost.&#xA;If you want to access Elasticsearch from the host other than localhost then try adding following configurations in <strong>config/elasticsearch.yml</strong>.</p>&#xA;&#xA;<pre><code>transport.host: localhost &#xA;transport.tcp.port: 9300 &#xA;http.port: 9200&#xA;network.host: 0.0.0.0&#xA;</code></pre>&#xA;&#xA;<p>Here, network.host as 0.0.0.0 allow access from any host within the network.</p>&#xA;
<p>In <code>/etc/elasticsearch/elasticsearch.yml</code>:</p>&#xA;&#xA;<pre><code>network.host: 0.0.0.0&#xA;network.bind_host: 0.0.0.0&#xA;network.publish_host: 0.0.0.0&#xA;</code></pre>&#xA;