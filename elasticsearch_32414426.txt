32414426
Elasticsearch reboot, number_of_pending_tasks keeps increasing indefinitely
<p>I had to restart the master elasticsearch, the status was red, then after some time the status went yellow (primary shards get assigned).</p>&#xA;&#xA;<p>Now when I'm doing the query <code>curl http://x.x.x.x/_cluster/health?pretty</code> I can see that <strong>the "number_of_pending_tasks" keeps increasing (now it is at 200k)</strong></p>&#xA;&#xA;<p>I had a look at the pending tasks and I can see that it is mainly this tasks that get buffered:</p>&#xA;&#xA;<pre><code>, {&#xA;    "insert_order" : 58176,&#xA;    "priority" : "NORMAL",&#xA;    "source" : "indices_store",&#xA;    "executing" : false,&#xA;    "time_in_queue_millis" : 619596,&#xA;    "time_in_queue" : "10.3m"&#xA;  },&#xA;</code></pre>&#xA;&#xA;<p>In the meantime I get the error about a rejected execution due to the queue capacity:</p>&#xA;&#xA;<pre><code>Caused by: org.elasticsearch.common.util.concurrent.EsRejectedExecutionException: rejected execution (queue capacity 200) on org.elasticsearch.transport.netty.MessageChannelHandler$RequestHandler@34c87ed9&#xA;</code></pre>&#xA;&#xA;<p>How can I solve this? </p>&#xA;