29328620
Marking nested makes terms query and aggregation not working
<p>to achieve proper query on attributes array , i declared the field as nested. Now the terms query nor the normal match query is not giving any results. Is there something i should do specific about this type ?</p>&#xA;
<p>To make this working , you need to use</p>&#xA;&#xA;<ol>&#xA;<li><a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-nested-query.html" rel="nofollow">Nested query</a> for querying nested fields</li>&#xA;<li><a href="http://www.elastic.co/guide/en/elasticsearch/reference/1.x/query-dsl-nested-filter.html" rel="nofollow">Nested filter</a> for filtering</li>&#xA;<li><a href="http://www.elastic.co/guide/en/elasticsearch/reference/1.4/search-aggregations-bucket-nested-aggregation.html" rel="nofollow">Nested aggregation</a> for aggregation</li>&#xA;</ol>&#xA;&#xA;<p>This is due to the change that the for each element in the nested array , a new nested lucene document is made and you need separate set of query/agg to access them. Else it looks in the root document , where it is not present.</p>&#xA;