32959690
How to get data from elasticsearch?
<p>This is elasticsearch query to get the document where owner1First is Donald and owner2Last is Brown. But this query gives all the documents as the result and doesn't filter.</p>&#xA;&#xA;<pre><code>curl -XGET "http://localhost:9200/test2/extract/_search" -d"&#xA;{"query" :&#xA; {"filtered" :&#xA;  { "filter" : &#xA;   {"bool" :&#xA;    {"should" :&#xA;     [{ "term" :&#xA;       {"owner1First" :"Donald"}},&#xA;       { "term" :{"owner1Last" : "Brown"}} &#xA;     ]&#xA;       }&#xA;      }&#xA;     }&#xA;    }&#xA;   }"&#xA;</code></pre>&#xA;
<p>You need to change to a <code>bool/must</code> instead:</p>&#xA;&#xA;<pre><code>curl -XGET 'http://localhost:9200/test2/extract/_search' -d '{&#xA;  "query": {&#xA;    "filtered": {&#xA;      "filter": {&#xA;        "bool": {&#xA;          "must": [        &lt;---- use must here !&#xA;            {&#xA;              "term": {&#xA;                "owner1First": "donald"&#xA;              }&#xA;            },&#xA;            {&#xA;              "term": {&#xA;                "owner1Last": "brown"&#xA;              }&#xA;            }&#xA;          ]&#xA;        }&#xA;      }&#xA;    }&#xA;  }&#xA;}'&#xA;</code></pre>&#xA;