32499245
Elasticsearch with mutilple search criteria
<p>I am try to build a full text search engine using elasticsearch. We have a application which has conferences running across the globe. We have the future and past conferences data. For a POC we have already loaded the conferences details into elasticsearch and it contains fields like title,date,venue,geo_location of the venue as document. </p>&#xA;&#xA;<p>I am able to do simple search using match all query. And also by using function_score I can get the current on going conferences and also using user geo location i can get nearby conferences to users location. </p>&#xA;&#xA;<p>But there are some uses cases where i got stuck and could not proceed. Use cases are. </p>&#xA;&#xA;<p>1) If user try to search with "title + location" then I should not use the user current geo location rather whatever user has provided the city_name use that place geo location and retrieve those doc. Here I know some programming is also required.  </p>&#xA;&#xA;<p>2) User search with "title + year", for ex. cardio 2014. User interested to see all the caridology conf of 2014 and it should retrieve that year documents only. But using function score it is retrieving the current years documents. </p>&#xA;&#xA;<p>First of all let me know that above two use cases can be handled in single query. I am thinking to handle it one request, but got stuck.</p>&#xA;&#xA;<p>Any help.</p>&#xA;
<p>A proper solution would require you to write your own query parser in your application (outside of elasticsearch) that will parse the query and extract dates, locations, etc. Once all features are extracted, the parser should generate a <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html" rel="nofollow">bool</a> query where each feature would become an appropriate <code>must</code> clause. So, the date would became a range query, the location - <code>geo_location</code> query and everything else would go into a <code>match</code> query for full text matching. Then this query can be sent to elasticsearch.</p>&#xA;