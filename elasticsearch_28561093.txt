28561093
Elastic Search Index Status
<p>I am trying to setup a scripted reindex operation as suggested in: <a href="http://www.elasticsearch.org/blog/changing-mapping-with-zero-downtime/" rel="nofollow">http://www.elasticsearch.org/blog/changing-mapping-with-zero-downtime/</a> </p>&#xA;&#xA;<p>To go with the suggestion of creating a new index, aliasing then deleting the old index I would need to have a way to tell when the indexing operation on the new index was complete. Ideally via the REST interface.</p>&#xA;&#xA;<p>It has 80 million rows to index and can take a few hours.</p>&#xA;&#xA;<p>I can't find anything helpful in the docs..</p>&#xA;
<p>You can try with _stats : <a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/indices-stats.html" rel="nofollow">http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/indices-stats.html</a></p>&#xA;&#xA;<p>Eg : </p>&#xA;&#xA;<pre><code>{&#xA;  "_shards" : {&#xA;    "total" : 10,&#xA;    "successful" : 5,&#xA;    "failed" : 0&#xA;  },&#xA;  "_all" : {&#xA;    "primaries" : {&#xA;      "docs" : {&#xA;        "count" : 0,&#xA;        "deleted" : 0&#xA;      },&#xA;      "store" : {&#xA;        "size_in_bytes" : 575,&#xA;        "throttle_time_in_millis" : 0&#xA;      },&#xA;      "indexing" : {&#xA;        "index_total" : 0,&#xA;        "index_time_in_millis" : 0,&#xA;        "index_current" : 0,&#xA;        "delete_total" : 0,&#xA;        "delete_time_in_millis" : 0,&#xA;        "delete_current" : 0,&#xA;        "noop_update_total" : 0,&#xA;        "is_throttled" : false,&#xA;        "throttle_time_in_millis" : 0&#xA;      },&#xA;</code></pre>&#xA;&#xA;<p>I think, you can compare _all.total.docs.count and _all.total.indexing.index_current</p>&#xA;