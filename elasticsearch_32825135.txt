32825135
MAC Elasticsearch snapshot location
<p>In MAC elasticsearch to build repository</p>&#xA;&#xA;<pre class="lang-js prettyprint-override"><code>PUT http://localhost:9400/_snapshot/my_backup &#xA;{&#xA;    "type": "fs", &#xA;    "settings": {&#xA;        "location": "/Users/Edison/Elasticsearch/Repository" &#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>My computer is MacOS</p>&#xA;&#xA;<p>I don't understand , how setting my location path..</p>&#xA;&#xA;<p>This is my error message:</p>&#xA;&#xA;<pre><code>{&#xA;   "error": "RepositoryException[[my_backup] failed to create repository]; nested: CreationException[Guice creation errors:\n\n1) Error injecting constructor, org.elasticsearch.repositories.RepositoryException: [my_backup] location [/Users/Edison/Elasticsearch/Repository] doesn't match any of the locations specified by path.repo because this setting is empty\n  at org.elasticsearch.repositories.fs.FsRepository.&lt;init&gt;(Unknown Source)\n  while locating org.elasticsearch.repositories.fs.FsRepository\n  while locating org.elasticsearch.repositories.Repository\n\n1 error]; nested: RepositoryException[[my_backup] location [/Users/Edison/Elasticsearch/Repository] doesn't match any of the locations specified by path.repo because this setting is empty]; ",&#xA;   "status": 500&#xA;}&#xA;</code></pre>&#xA;
<p>Elasticsearch nodes require a shared drive for each node to save to, this shared directory is what the location property is referring to.</p>&#xA;&#xA;<p>The first task is to set up this shared storage, for example you could choose a straightforward NFS mount: <a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-an-nfs-mount-on-ubuntu-12-04" rel="nofollow">https://www.digitalocean.com/community/tutorials/how-to-set-up-an-nfs-mount-on-ubuntu-12-04</a> Once you have a mounted directory on each node, you can then register your backup location.</p>&#xA;&#xA;<p>Alternatively you can use a Samba share, for which this seems to be a guide for: <a href="http://vichargrave.com/creating-elasticsearch-snapshots/" rel="nofollow">http://vichargrave.com/creating-elasticsearch-snapshots/</a></p>&#xA;
<p>Error which I had faced,</p>&#xA;&#xA;<p><strong>"repository_exception","reason":"[my_backup] location [/tmp/my_backup] doesn't match any of the locations specified by path.repo because this setting is empty"}}}</strong></p>&#xA;&#xA;<p>Operating system Centos</p>&#xA;&#xA;<pre><code>[ec2-user@ip-10-33-207-201 config]$ curl -XPUT 'http://localhost:9200/_snapshot/my_backup' -d '{&#xA;&gt; "type": "fs",&#xA;&gt; "settings": {&#xA;&gt; "location": "/tmp/my_backup",&#xA;&gt; "compress": true&#xA;&gt; }&#xA;&gt; }'&#xA;{"acknowledged":true}[ec2-user@ip-10-33-207-201 config]$&#xA;</code></pre>&#xA;&#xA;<p><strong>Solution</strong></p>&#xA;&#xA;<p>You need's to add the repository path to elasticsearch.yml file</p>&#xA;&#xA;<pre><code>path.repo: ["/tmp/my_backup"]&#xA;</code></pre>&#xA;&#xA;<p><strong>Reference</strong>&#xA;<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-snapshots.html" rel="nofollow">https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-snapshots.html</a></p>&#xA;