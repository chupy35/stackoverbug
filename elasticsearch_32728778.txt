32728778
GroovyScriptExecutionException Whenn Trying to use lat_lon: true inside geo_points mapping in Elasticsearch?
<p>I was using geo_point type in elasticsearch and i defined its mapping as this</p>&#xA;&#xA;<pre><code>location          : {"type":"geo_point"},&#xA;</code></pre>&#xA;&#xA;<p>now when i was trying to use script_ields like this </p>&#xA;&#xA;<pre><code>script_fields : {&#xA;      distance : {&#xA;        script : "doc['location'].arcDistanceInKm(12.34,23.12)"&#xA;      } &#xA;    }&#xA;</code></pre>&#xA;&#xA;<p>Everything was working fine but now when i changed my mapping type to this for indexing lats and longs also (because i want to use bounded box now) </p>&#xA;&#xA;<pre><code>location          : {"type":"geo_point", "lat_lon":true},&#xA;</code></pre>&#xA;&#xA;<p>now when i am trying to use above script i am facing below error</p>&#xA;&#xA;<pre><code>GroovyScriptExecutionException[ElasticsearchIllegalArgumentException[No field found for [location] in mapping with types [restaurant]]]&#xA;</code></pre>&#xA;&#xA;<p>Where restaurant is the type of my index.</p>&#xA;&#xA;<p>Now can anyone please tell me why i am getting this Error and how can i solve this It will be really really helpful if you guys just put just a little light on this problem.</p>&#xA;&#xA;<p>Thank You In Advance.</p>&#xA;
<p>In your mapping you have <code>shop_type: { properties:{ location : {"type":"geo_point"} } }</code>. Why does the exception refer to <code>restaurant</code> type but your mapping shows <code>shop_type</code> as the type?</p>&#xA;&#xA;<p>You may want to check the correctness of your query and make sure the right type is being queried.</p>&#xA;