32990825
Elastic search query all fields with name
<p>Let's say I have the following documents:</p>&#xA;&#xA;<pre><code>{&#xA;    "name" : "abc",&#xA;    "something" : {&#xA;        "url" : "asd"&#xA;    }&#xA;}&#xA;&#xA;{&#xA;    "name" : "abc",&#xA;    "something-else" : {&#xA;        "url" : "asd"&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Is it possible to create a query which would ask for all documents with any field <code>url = asd</code>?</p>&#xA;
<p>You can use <code>should</code> filter:</p>&#xA;&#xA;<pre><code>{&#xA;  "query": {&#xA;    "filtered": {&#xA;      "query": {&#xA;        "match_all": {}&#xA;      },&#xA;      "filter": {&#xA;        "bool": {&#xA;           "should" : [&#xA;             { "term": { "something.url": "asd" }},&#xA;             { "term": { "something-else.url": "asd" }}&#xA;           ]&#xA;        }&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;
<p>Try this:</p>&#xA;&#xA;<pre><code>GET /index/type/_search&#xA;{&#xA;  "query": {&#xA;    "multi_match": {&#xA;      "query": "asd",&#xA;      "fields": ["*.url"]&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>or with <code>query_string</code>:</p>&#xA;&#xA;<pre><code>GET /index/type/_search&#xA;{&#xA;  "query": {&#xA;    "query_string": {&#xA;      "fields": ["*.url"],&#xA;      "query": "asd"&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;