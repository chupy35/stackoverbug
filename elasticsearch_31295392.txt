31295392
Elasticsearch and the use of wildcard in the message element
<p>I am having difficulty with searching for a partial search in the message element of my elasticsearch messages.&#xA;I copied an extract of a message below. Now I have the following and tried other searches for the "Process*"-query (termQuery, wildcardQuery, with a star, without a star) but to no success. &#xA;Can you help me out</p>&#xA;&#xA;<p>Code:</p>&#xA;&#xA;<pre><code>QueryBuilder qb = QueryBuilders.boolQuery()&#xA;           .must(termQuery("environment", "dev"))&#xA;           .must(termQuery("message", "ProcessOrder*"));&#xA;&#xA;SearchResponse response = client.prepareSearch("logstash-2015.07.08")&#xA;                 .setSearchType(SearchType.DFS_QUERY_AND_FETCH)&#xA;                 .setQuery(qb)&#xA;                 .execute()&#xA;                 .actionGet();&#xA;</code></pre>&#xA;&#xA;<p>ES _source:</p>&#xA;&#xA;<pre><code>{&#xA;    "@timestamp": "2015-07-08T09:59:34.699Z",&#xA;    "@version": "1",&#xA;    "environment": "dev",&#xA;    "file": "/#####/server.log",&#xA;    "host": "#######",&#xA;    "instance": "####",&#xA;    "message": "10:59:32,566 DEBUG ExternalOrderMessage=&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;ns2:ProcessOrderFulfilmentMessage&gt;#####\n&lt;/ns2:ProcessOrderFulfilmentMessage&gt;\n",&#xA;    "offset": [],&#xA;    "tags": ["multiline"],&#xA;    "type": "jboss"&#xA;}&#xA;</code></pre>&#xA;
<p>I suggest you to change term query to <a href="https://www.elastic.co/guide/en/elasticsearch/reference/1.6/query-dsl-query-string-query.html#_wildcards" rel="nofollow">query string</a> query in case you are interested in searching with wildcard.</p>&#xA;&#xA;<pre><code>{&#xA;    "query": {&#xA;        "query_string": {&#xA;           "default_field": "message",&#xA;           "query": "processorde*"&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;