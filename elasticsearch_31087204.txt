31087204
Get all index and types' names from cluster in ElasticSearch
<p>I have my cluster and I want to know all indexes and types' names in it. I use Sense.</p>&#xA;
<pre><code>curl -XGET 'http://localhost:9200/_cat/indices?v'&#xA;</code></pre>&#xA;&#xA;<p>will give you all the indexes.</p>&#xA;&#xA;<pre><code>curl -XGET 'http://localhost:9200/_mapping?pretty=true'&#xA;</code></pre>&#xA;&#xA;<p>will give you the document types in these indexes, together with their mappings.</p>&#xA;
<p>The answer by yvespeirsman is correct but if you want to just see types for indexes you can use jq to get a more compact answer.</p>&#xA;&#xA;<pre><code>curl -s -XGET 'http://localhost:9200/_mapping' | jq 'to_entries | .[] | {(.key): .value.mappings | keys}'&#xA;</code></pre>&#xA;
<p>Some mappings are too large to efficiently use the <code>_mapping</code> to parse out types. Instead consider an <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations.html" rel="noreferrer">aggregation</a>. Would likely be much faster. For indexes:</p>&#xA;&#xA;<pre><code>curl -XGET "http://localhost:9200/_search" -d'&#xA;{&#xA;  "aggs": {&#xA;    "indicesAgg": {&#xA;      "terms": {&#xA;        "field": "_index",&#xA;        "size": 200&#xA;      }&#xA;    }&#xA;  },&#xA;  "size": 0&#xA;}'&#xA;</code></pre>&#xA;&#xA;<p>And for types for a specific index (or to get all types across all indexes, simply exclude the index name {myIndex} in the url):</p>&#xA;&#xA;<pre><code>curl -XGET "http://localhost:9200/myIndex/_search" -d'&#xA;{&#xA;  "aggs": {&#xA;    "typesAgg": {&#xA;      "terms": {&#xA;        "field": "_type",&#xA;        "size": 200&#xA;      }&#xA;    }&#xA;  },&#xA;  "size": 0&#xA;}'&#xA;</code></pre>&#xA;&#xA;<p>I'm sure you could write a single agg to return both as well.</p>&#xA;