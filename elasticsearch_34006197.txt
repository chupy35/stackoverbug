34006197
ElasticSearch query with query inputs
<p>i have an index of data in ElasticSearch</p>&#xA;&#xA;<pre><code>{&#xA;  "name":"john",&#xA;  "type":"main",&#xA;  "address":"26, pression road, next to maha maul, Atlanta, USA",&#xA;  "description":"i am from atlanta. i a need of help on elastic search. my name is john wosniak"&#xA;},&#xA;{&#xA;  "name":"shailesh",&#xA;  "type":"other",&#xA;  "address":"c-401, greenfield road, next to cyber city, mumbai, india",&#xA;  "description":"i am from mumbai. i dont need. my name shailesh"&#xA;},&#xA;{&#xA;  "name":"pratik",&#xA;  "type":"main",&#xA;  "address":"c-116, parmar society, john main road, andhari, India",&#xA;  "description":"i am from andhari. i a need of help on elastic search. my name is pratik doshi, i am good friend of john"&#xA;},...&#xA;</code></pre>&#xA;&#xA;<p>i want to search using some advance query such that it searches <code>"type":"main"</code> and <code>"john"</code> in rest of all the fields. </p>&#xA;&#xA;<p>for now i am using the query</p>&#xA;&#xA;<pre><code>{&#xA;    "query_string" : {&#xA;        "fields" : ["name", "type","address", "description"],&#xA;        "query" : "main john*"&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>it is not giving me desired result as per my requirement.</p>&#xA;&#xA;<p>hope i have explained clearly. thanks for the help in advance.</p>&#xA;
<p>Did you look at <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html" rel="nofollow">bool query</a>?</p>&#xA;&#xA;<p>You can achieve desired results with <a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/_boosting_query_clauses.html" rel="nofollow">boosting</a></p>&#xA;&#xA;<pre><code> {&#xA;  "query": {&#xA;    "bool": {&#xA;      "should": [&#xA;        {&#xA;          "match": {&#xA;            "type": {&#xA;              "query": "main",&#xA;              "boost": 10&#xA;            }&#xA;          }&#xA;        },&#xA;        {&#xA;          "multi_match": {&#xA;            "query": "john",&#xA;            "fields": [&#xA;              "name",&#xA;              "address",&#xA;              "description"&#xA;            ]&#xA;          }&#xA;        }&#xA;      ]&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;