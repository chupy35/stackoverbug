30697557
Elasticsearch : match query with empty string as a value for field
<p>I have a match query that query the fields <code>title1</code>, <code>title2</code>  with <code>param</code> that contains sometimes an empty string.</p>&#xA;&#xA;<p>When the value of the <code>param</code> is empty the query returns no results which is normal.</p>&#xA;&#xA;<p>My question is if it possible to make in one single query , this :&#xA;if the <code>param</code>  is not an empty string query all documents, otherwise do a normal multi_match query .</p>&#xA;&#xA;<p>The pseudo code of my query:</p>&#xA;&#xA;<pre><code>{&#xA; "query" : {&#xA;     "bool" : {&#xA;       "must" : {&#xA;          "multi_match" : {&#xA;                "query":    param, &#xA;                "fields": [ "title1", "title2" ] &#xA;              },&#xA;           "match" : {&#xA;                 "query": { "publish" : true}&#xA;            }&#xA;&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Thanks,</p>&#xA;