33921824
ElasticSearch Window Scroll Size
<p>How do I increase the scroll size of my ES scroll search query? The default appears to be 50 hits, but I would like to increase that to 100 or so. I cannot find a reference to adjusting the scroll window size in the documentation.</p>&#xA;
<p>In your initial <code>scan</code> search request, simply specify the <code>size</code> parameter with how many documents you'd like each scroll request to return, e.g. 100:</p>&#xA;&#xA;<pre><code>POST /your_index/_search?search_type=scan&amp;scroll=1m &#xA;{&#xA;    "query": { "match_all": {}},&#xA;    "size":  100&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>or more simply</p>&#xA;&#xA;<pre><code>GET /your_index/_search?search_type=scan&amp;scroll=1m&amp;size=100&#xA;</code></pre>&#xA;&#xA;<p>Also note that you will get more than 100 documents back, because the <code>size</code> is per-shard, so if you really want only 100 docs per batch and your have (e.g.) 5 shards per index, simply use <code>size: 20</code>, it'll do. </p>&#xA;
<pre><code>POST /your_index/_search?search_type=scan&#xA;{    &#xA;    "scroll:" "1M"&#xA;    "query": { "match_all": {}},&#xA;    "size":  100    &#xA;}&#xA;</code></pre>&#xA;&#xA;<p>This should also work. Putting the scroll into the braces. Will be neater for reading later.</p>&#xA;