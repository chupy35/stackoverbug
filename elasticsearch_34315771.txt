34315771
Elasticsearch: Filter on array field that is subset of another array
<p>I have documents in elasticsearch that one of their fields is an array field. i.e.</p>&#xA;&#xA;<pre><code>document = {&#xA;        id : ###,&#xA;        name: 'SSSSS',&#xA;        items : ['itemA', 'itemB', 'itemC'] &#xA;       }&#xA;</code></pre>&#xA;&#xA;<p>I want to get all the documents that their <code>items</code> field is a subset of some input array.</p>&#xA;&#xA;<p>for example, if I filter on </p>&#xA;&#xA;<pre><code>['itemA', 'itemB', 'itemC', 'itemD', 'itemE'] &#xA;</code></pre>&#xA;&#xA;<p>I'll get the document above because all of the items in <code>document.items</code> are in the input array. </p>&#xA;&#xA;<p>But if I filter on:</p>&#xA;&#xA;<pre><code>['itemA', 'itemB','itemD', 'itemE'] &#xA;</code></pre>&#xA;&#xA;<p>Then I won't get the document above, becuase the document has <code>itemC</code> and the input array doesn't. </p>&#xA;&#xA;<p>Is there a way to perform this using the Query DSL?</p>&#xA;&#xA;<p>Thanks.</p>&#xA;