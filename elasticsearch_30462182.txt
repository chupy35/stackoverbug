30462182
Is it possible to define default mapping for an inner object in ElasticSearch?
<p>Say I have a document like this:</p>&#xA;&#xA;<pre><code>{&#xA;    "events" : [&#xA;        { &#xA;         "event_id" : 123,&#xA;         "props" : {&#xA;              "version": "33"&#xA;        },&#xA;        {&#xA;         "event_id" : 124,&#xA;         "props" : {&#xA;              "version": "44a"&#xA;         }&#xA;    ]&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Is it possible to specify that the <code>events.props.version</code> be mapped to some type?</p>&#xA;&#xA;<p>I've tried:</p>&#xA;&#xA;<pre><code>{&#xA;  "template" : "logstash-*",&#xA;  ...&#xA;  "mappings" : {&#xA;    "_default_" : {&#xA;       "properties" : {&#xA;         "events.props.version" : { "type" : "string" }&#xA;       }&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>But that doesn't seem to work.</p>&#xA;
<p>Sure, but you need to use the "object" type:</p>&#xA;&#xA;<p>From the doc ( <a href="https://www.elastic.co/guide/en/elasticsearch/reference/1.5/mapping-object-type.html" rel="nofollow">https://www.elastic.co/guide/en/elasticsearch/reference/1.5/mapping-object-type.html</a> ) if you want to map</p>&#xA;&#xA;<pre><code>{&#xA;    "tweet" : {&#xA;        "person" : {&#xA;            "name" : {&#xA;                "first_name" : "Shay",&#xA;                "last_name" : "Banon"&#xA;            },&#xA;            "sid" : "12345"&#xA;        },&#xA;        "message" : "This is a tweet!"&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>you can write:</p>&#xA;&#xA;<pre><code>{&#xA;    "tweet" : {&#xA;        "properties" : {&#xA;            "person" : {&#xA;                "type" : "object",&#xA;                "properties" : {&#xA;                    "name" : {&#xA;                        "type" : "object",&#xA;                        "properties" : {&#xA;                            "first_name" : {"type" : "string"},&#xA;                            "last_name" : {"type" : "string"}&#xA;                        }&#xA;                    },&#xA;                    "sid" : {"type" : "string", "index" : "not_analyzed"}&#xA;                }&#xA;            },&#xA;            "message" : {"type" : "string"}&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;
<p>Please have a look at <code>mapping</code> API in elasticsearch <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-put-mapping.html" rel="nofollow">Mapping API</a>.</p>&#xA;&#xA;<p>To set any analyzer in the inner element we need to consider each and every inner field as a separate properties set. try the following</p>&#xA;&#xA;<pre><code>{&#xA;    "mappings": {&#xA;        "properties": {&#xA;            "events": {&#xA;                "properties": {&#xA;                    "event_id": {&#xA;                        "type": "string",&#xA;                        "analyzer": "keyword"&#xA;                    },&#xA;                    "props": {&#xA;                        "properties": {&#xA;                            "version": {&#xA;                                "type": "string"&#xA;                            }&#xA;                        }&#xA;                    }&#xA;                }&#xA;            }&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>if this not works please provide me you mapping.</p>&#xA;