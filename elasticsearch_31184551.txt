31184551
Elasticsearch: how to update indexed scripts (search templates)
<p>How does someone update search templates that are under <code>.scripts</code> index in Elasticsearch?</p>&#xA;&#xA;<p>In my scenario, i've created a search template and after a while I updated it, however it still produces output as in version 1.</p>&#xA;&#xA;<p>How do I update script (indexed search template) ?&#xA;Do I need to turn something on?</p>&#xA;&#xA;<p><code>.scripts</code> index has refresh interval set to -1, I tried manually refreshing index - that didn't help.</p>&#xA;
<p>From the chat we had, I found out that you are using ES 1.5.0. My tests with 1.6.0 were working perfectly. You still had the unknown related to <code>refresh_interval: -1</code> but that was just a red herring.</p>&#xA;&#xA;<p>The most likely reason for this is a <a href="https://github.com/elastic/elasticsearch/pull/10526" rel="nofollow">bug introduced in 1.5.0, but fixed in 1.5.2</a>.</p>&#xA;&#xA;<p>In my tests I restarted the node and the template started to work with the updated version. Which proves that the restart (implicitly clearing the cache), made the problem go away and matched the bug description.</p>&#xA;&#xA;<p>The solution is to upgrade and, if you are doing this, maybe consider upgrading to the latest ES version.</p>&#xA;