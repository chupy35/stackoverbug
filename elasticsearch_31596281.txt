31596281
ElasticSearch: Search across multiple fields with input strings (NumberFormatException)
<p>I am searching across multiple fields in a query using the <code>*</code> asterisk notation (Ex: I want all fields startings with <code>source</code> so I specify fields <code>source.*</code>) and I specify a query of <code>foobar</code> as string. I am using a <code>Query String</code> type query.</p>&#xA;&#xA;<p>I keep getting a <code>NumberFormatException</code> and I have some fields in there with a mapping type of <code>long</code> and <code>double</code>.</p>&#xA;&#xA;<p>Any idea how to go about this? I need to do a multi-field search.</p>&#xA;&#xA;<p>My query is posted below:</p>&#xA;&#xA;<pre><code>{&#xA;    "query": {&#xA;        "bool": {&#xA;            "must": [{&#xA;                "query_string": {&#xA;                    "default_field": "source.*",&#xA;                    "query": "foobar"&#xA;                }&#xA;            }],&#xA;            "must_not": [],&#xA;            "should": []&#xA;        }&#xA;    },&#xA;    "from": 0,&#xA;    "size": 100000,&#xA;    "sort": [],&#xA;    "facets": {}&#xA;}&#xA;</code></pre>&#xA;
<p>set <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html" rel="nofollow">lenient</a> to <strong><em>true</em></strong> to ignore format based failures</p>&#xA;&#xA;<p>example :</p>&#xA;&#xA;<pre><code>"query_string": &#xA; {&#xA;      "default_field": "source.*",&#xA;      "query": "foobar",&#xA;      "lenient": true&#xA;&#xA; }&#xA;</code></pre>&#xA;