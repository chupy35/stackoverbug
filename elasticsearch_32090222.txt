32090222
"took" returned from output increases when "from" increases
<p>Given that my query would return 100,000 matching records, but for each page I only want to return 100 records:</p>&#xA;&#xA;<pre><code>{&#xA;    "from": 0,&#xA;    "size": 100,&#xA;    //and here goes the usual stuff&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Assume that the complexity of the query is consistent, I have observed that when the number of "from" increases, the time taken to process and produce output will significantly increases as well. </p>&#xA;&#xA;<p>If I start from the 1st record, the time taken is approximately 100ms++, but if it starts from let's say, 32,188th, the time taken would have doubled or gone much longer to 300ms++.</p>&#xA;&#xA;<p>Is this an expected behaviour? What can be done to improve and shorten the time taken?</p>&#xA;
<p>Yes this is definitely normal behavior. What you're experiencing is called <a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/pagination.html?q=pagination" rel="nofollow">"deep paging"</a>. You should only use <code>from/size</code> for the first few pages, but never to navigate too far in the results. The reason for this is that the further you navigate the more results need to be retrieved <strong>just to return a few</strong>. The worst case for you would be to retrieve the last page of 100 results. In that case, all the 100K documents need to be retrieved from all shards (for sorting and scoring purposes) and then only the top 100 matching documents will be returned.</p>&#xA;&#xA;<p>If you need to go over all your documents, the best approach is to use <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-scroll.html#scroll-scan" rel="nofollow">scroll &amp; scan</a>.</p>&#xA;