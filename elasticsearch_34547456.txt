34547456
Grouping data in elasticsearch taking whitespaces into account
<p>I'm trying to execute aggregations the same way they're executed here:&#xA;<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/_executing_aggregations.html" rel="nofollow">https://www.elastic.co/guide/en/elasticsearch/reference/current/_executing_aggregations.html</a></p>&#xA;&#xA;<p>The problem I'm facing at the moment is that some values in the fields have whitespaces. Imagine that a possible value is "El Paso". When I execute the following, I get buckets for "El" and for "Paso", but I don't get a bucket for "El Paso".</p>&#xA;&#xA;<pre><code>curl -XPOST 'localhost:9200/myIndex/_search?pretty' -d '&#xA;{&#xA;  "size": 0,&#xA;  "aggs": {&#xA;    "group_by_city": {&#xA;      "terms": {&#xA;        "field": "city"&#xA;      }&#xA;    }&#xA;  }&#xA;}'&#xA;</code></pre>&#xA;&#xA;<p>My desired result is that each field is treated as an indivisible unit. How do I do this?</p>&#xA;&#xA;<p>EDIT 1: Creating the index and importing the data again would take enormous amounts of time, since that index has millions of documents, so I would like a solution that doesn't involve doing all the work again.</p>&#xA;
<p>you have to make the index fields as <strong>not_analysed</strong> as mentioned in this <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/_multi_fields.html" rel="nofollow">page</a> to achieve this</p>&#xA;&#xA;<p>example</p>&#xA;&#xA;<pre><code>"title": {&#xA;    "type": "string",&#xA;    "fields": {&#xA;        "raw":   { "type": "string", "index": "not_analyzed" }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;