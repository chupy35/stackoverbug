33957531
Sort based on the smallest occurrence of integers
<p>Each document has an array of integers. I need to sort them based on the smallest occurrence of these integers. Do I need to use scripts to employ such a sorting, and if yes how to do it?</p>&#xA;
<p>Yes, you can use <a href="https://www.elastic.co/guide/en/elasticsearch/reference/1.7/search-request-sort.html#_script_based_sorting" rel="nofollow">script-based sorting</a> with a small groovy script that returns the smallest integer from your array (here named <code>your_array</code>).</p>&#xA;&#xA;<pre><code>{&#xA;  "query": {&#xA;    "match_all": {}&#xA;  },&#xA;  "sort": {&#xA;    "_script": {&#xA;      "script": "doc.your_array.values.min()"&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Also make sure to <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-scripting.html#enable-dynamic-scripting" rel="nofollow">enable dynamic scripting</a> in order for this to work.</p>&#xA;