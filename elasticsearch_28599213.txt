28599213
Index not created in jdbc river plugin (elastic search)
<p>New to world of elastic search.I am trying to connect elastic search to mysql db using jdbc river plugin.&#xA;Query Used:</p>&#xA;&#xA;<pre><code>curl -XPUT 'localhost/_river/my_jdbc_river/_meta' -d '{&#xA;"type" : "jdbc",&#xA;"jdbc" : {&#xA;    "url" : "jdbc:mysql://local/test",&#xA;    "user" : "",&#xA;    "password" : "",&#xA;    "sql" : "select * from orders ",&#xA;&#xA;&#xA;}&#xA;}'&#xA;</code></pre>&#xA;&#xA;<p>Exception Observed :</p>&#xA;&#xA;<pre><code>[ERROR][river.jdbc.BulkNodeClient] cluster state is RED and not YELLOW, cowardly refusing to continue with operations&#xA;java.io.IOException: cluster state is RED and not YELLOW, cowardly refusing to continue with operations&#xA;    at org.xbib.elasticsearch.plugin.jdbc.client.ClientHelper.waitForCluster(ClientHelper.java:85)&#xA;    at org.xbib.elasticsearch.plugin.jdbc.client.node.BulkNodeClient.waitForCluster(BulkNodeClient.java:411)&#xA;    at org.xbib.elasticsearch.plugin.jdbc.client.node.BulkNodeClient.newClient(BulkNodeClient.java:205)&#xA;    at org.xbib.elasticsearch.plugin.jdbc.river.JDBCRiver$1.create(JDBCRiver.java:237)&#xA;    at org.xbib.elasticsearch.river.jdbc.strategy.simple.SimpleRiverMouth.setIngestFactory(SimpleRiverMouth.java:88)&#xA;    at org.xbib.elasticsearch.river.jdbc.strategy.simple.SimpleRiverMouth.setIngestFactory(SimpleRiverMouth.java:45)&#xA;    at org.xbib.elasticsearch.river.jdbc.strategy.simple.SimpleRiverFlow.createRiverMouth(SimpleRiverFlow.java:304)&#xA;    at org.xbib.elasticsearch.river.jdbc.strategy.simple.SimpleRiverFlow.beforeFetch(SimpleRiverFlow.java:184)&#xA;    at org.xbib.elasticsearch.river.jdbc.strategy.simple.SimpleRiverFlow.execute(SimpleRiverFlow.java:148)&#xA;    at org.xbib.elasticsearch.plugin.jdbc.RiverPipeline.request(RiverPipeline.java:88)&#xA;    at org.xbib.elasticsearch.plugin.jdbc.RiverPipeline.call(RiverPipeline.java:66)&#xA;    at org.xbib.elasticsearch.plugin.jdbc.RiverPipeline.call(RiverPipeline.java:30)&#xA;    at java.util.concurrent.FutureTask.run(FutureTask.java:262)&#xA;    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&#xA;    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&#xA;    at java.lang.Thread.run(Thread.java:745)&#xA;[2015-02-19 10:39:20,175][INFO ][river.jdbc.SimpleRiverMouth] creating index jdbc with settings {} and mappings null&#xA;[2015-02-19 10:39:20,175][ERROR][river.jdbc.SimpleRiverFlow] client is closed&#xA;org.elasticsearch.ElasticsearchIllegalStateException: client is closed&#xA;    at org.xbib.elasticsearch.plugin.jdbc.client.node.BulkNodeClient.newIndex(BulkNodeClient.java:473)&#xA;    at org.xbib.elasticsearch.plugin.jdbc.client.node.BulkNodeClient.newIndex(BulkNodeClient.java:53)&#xA;    at org.xbib.elasticsearch.river.jdbc.strategy.simple.SimpleRiverMouth.beforeFetch(SimpleRiverMouth.java:106)&#xA;    at org.xbib.elasticsearch.river.jdbc.strategy.simple.SimpleRiverFlow.beforeFetch(SimpleRiverFlow.java:207)&#xA;    at org.xbib.elasticsearch.river.jdbc.strategy.simple.SimpleRiverFlow.execute(SimpleRiverFlow.java:148)&#xA;    at org.xbib.elasticsearch.plugin.jdbc.RiverPipeline.request(RiverPipeline.java:88)&#xA;    at org.xbib.elasticsearch.plugin.jdbc.RiverPipeline.call(RiverPipeline.java:66)&#xA;    at org.xbib.elasticsearch.plugin.jdbc.RiverPipeline.call(RiverPipeline.java:30)&#xA;    at java.util.concurrent.FutureTask.run(FutureTask.java:262)&#xA;    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&#xA;    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&#xA;at java.lang.Thread.run(Thread.java:745)&#xA;</code></pre>&#xA;&#xA;<p>Can someone help fix this issue?</p>&#xA;&#xA;<p>Additional info : &#xA;Elastic search version :-1.4.2&#xA;Plugin version:-1.4.0.9</p>&#xA;
<p>you could install a plugin named "head".</p>&#xA;&#xA;<pre><code>cd $ES_HOME/bin&#xA;./plugin -install mobz/elasticsearch-head&#xA;</code></pre>&#xA;&#xA;<p>then you can view it in a web browser by visiting <a href="http://localhost:9200/_plugin/head" rel="nofollow">http://localhost:9200/_plugin/head</a> . It's easy to see the status of shard.</p>&#xA;