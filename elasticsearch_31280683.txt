31280683
Create ElasticSearch dynamic template to ensure all fields are set to not_analyzed
<p>I have an ElasticSearch type for which I want the mapping to be set dynamically. There are a few select fields on that type that I want to be analyzed, but everything else should be set to "not_analyzed".</p>&#xA;&#xA;<p>I've come up with the following snippet. This sets all <em>string</em> fields to not be analyzed, but doesn't cover all other data types. I tried using the "generic" field shown in the documentation but it didn't help. Can anyone tell me how I can accomplish this?</p>&#xA;&#xA;<pre><code>{&#xA;  "TypeName": {&#xA;    "dynamic_templates": [&#xA;      {&#xA;        "template_name": {&#xA;          "match": "*",&#xA;          "match_mapping_type": "string",&#xA;          "mapping": {&#xA;            "index": "no",&#xA;            "type": "string"&#xA;          }&#xA;        }&#xA;      }&#xA;    ],&#xA;    "dynamic": true,&#xA;    "properties": {&#xA;      "url": {&#xA;        "index": "analyzed",&#xA;        "type": "string"&#xA;      },&#xA;      "resourceUrl": {&#xA;        "index": "analyzed",&#xA;        "type": "string"&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;
<pre><code>{&#xA;  "mappings": {&#xA;    "TypeName": {&#xA;      "dynamic_templates": [&#xA;        {&#xA;          "base": {&#xA;            "mapping": {&#xA;              "index": "not_analyzed"&#xA;            },&#xA;            "match": "*",&#xA;            "match_mapping_type": "*"&#xA;          }&#xA;        }&#xA;      ],&#xA;      "dynamic": true,&#xA;      "properties": {&#xA;        "url": {&#xA;          "index": "analyzed",&#xA;          "type": "string"&#xA;        },&#xA;        "resourceUrl": {&#xA;          "index": "analyzed",&#xA;          "type": "string"&#xA;        }&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Overall, index-level template:</p>&#xA;&#xA;<pre><code>{&#xA;  "mappings": {&#xA;    "_default_": {&#xA;      "dynamic_templates": [&#xA;        {&#xA;          "base": {&#xA;            "mapping": {&#xA;              "index": "not_analyzed"&#xA;            },&#xA;            "match": "*",&#xA;            "match_mapping_type": "*"&#xA;          }&#xA;        }&#xA;      ]&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;