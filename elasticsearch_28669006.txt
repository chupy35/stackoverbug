28669006
Configure an Elasticsearch mapping to match stemmed terms as well as unstemmed terms
<p>I am trying to setup stemming in my ES mapping. I pass the name of the stemming analyzer through the indexed document (de_analyzer)</p>&#xA;&#xA;<p>I observe that the below mapping properly adds the stemmed terms to the index, but now I can no longer search for the unstemmed terms. No matches are returned. It seems that only the stemmed terms are indexed?</p>&#xA;&#xA;<p>This is the index configuration showing the filter, index analyzer, search analyzer and field configuration.</p>&#xA;&#xA;<p>What am I overseeing?</p>&#xA;&#xA;<p>Thanks!</p>&#xA;&#xA;<pre><code>{&#xA;    "globalfashionmonitor": {&#xA;        "template": "myindex*",&#xA;        "settings": {&#xA;            "index.number_of_shards": 5,&#xA;            "default_search": "analyzer_search",&#xA;            "analysis": {&#xA;                "filter": {&#xA;                    "de_stem_filter": {&#xA;                        "type": "stemmer",&#xA;                        "name": "minimal_german"&#xA;                    }&#xA;                }&#xA;            },&#xA;            "analyzer": {&#xA;                "analyzer_search": {&#xA;                    "type": "custom",&#xA;                    "tokenizer": "icu_tokenizer",&#xA;                    "filter": [&#xA;                        "icu_folding"&#xA;                    ]&#xA;                },&#xA;                "de_analyzer": {&#xA;                    "type": "custom",&#xA;                    "filter": [&#xA;                        "icu_normalizer",&#xA;                        "de_stop_filter",&#xA;                        "de_stem_filter",&#xA;                        "icu_folding"&#xA;                    ],&#xA;                    "tokenizer": "icu_tokenizer"&#xA;                }&#xA;            },&#xA;            "mappings": {&#xA;                "items": {&#xA;                    "_analyzer": {&#xA;                        "path": "use_analyzer"&#xA;                    },&#xA;                    "properties": {&#xA;                        "summarizedArticle": {&#xA;                            "fields": {&#xA;                                "stemmed": {&#xA;                                    "index_analyzer": "de_analyzer",&#xA;                                    "type": "string",&#xA;                                    "index": "analyzed"&#xA;                                }&#xA;                            },&#xA;                            "type": "string"&#xA;                        }&#xA;                    }&#xA;                }&#xA;            }&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;