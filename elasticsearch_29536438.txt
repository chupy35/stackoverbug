29536438
Elasticsearch prefer exact match over partial matches when doing typeahead searches
<p>I have configured es to do autocomplete and I can also get exact match preferred over suggestions. </p>&#xA;&#xA;<p>For example if someone type London, the api returns London first then Londonderry. But if someone type Londo then es returns Londonderry first then London. Surely, London is a closer match than Londonderry.</p>&#xA;&#xA;<p>Same thing happens with "New York" and York. "New York" is preferred over York when I search for York.</p>&#xA;&#xA;<p>I am using the solution provided here.&#xA;<a href="https://stackoverflow.com/questions/26130699/favor-exact-matches-over-ngram-in-elasticsearch">Favor exact matches over nGram in elasticsearch</a></p>&#xA;
<p>This code was helpfull for me:</p>&#xA;&#xA;<pre><code>"query": {&#xA;    "match": {&#xA;         "message": {&#xA;              "query": inputQuery,&#xA;              "fuzziness": 3,&#xA;              "prefix_length": 2&#xA;         }&#xA;     }&#xA; }&#xA;</code></pre>&#xA;&#xA;<p>first of all you should use <code>fuzziness</code> - <a href="http://www.elastic.co/guide/en/elasticsearch/reference/1.3/query-dsl-fuzzy-query.html" rel="nofollow">ES documentation</a></p>&#xA;&#xA;<p>I hope it will help you also.</p>&#xA;