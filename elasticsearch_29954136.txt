29954136
How to Get Field Name Given Value in ElasticSearch
<p>Lets say I have the following in my Colours index:</p>&#xA;&#xA;<pre><code>{&#xA;     "primary_colours": ["Red", "Yellow", "Blue"],&#xA;     "secondary_colours": ["Green", "Orange", "Purple"],&#xA;     "complex_colours": ["Amber", "Apricot", "Aqua", "Olive"]&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>What I'd like to achieve is find the field name by searching in all fields. In other words: Given a query, I do NOT know in which field the query should be found.</p>&#xA;&#xA;<pre><code>curl -XPOST 'localhost:9200/colours/_search?pretty' -d '&#xA;     {"query": &#xA;          {"match": {"_all": "Aqua"} } &#xA;     }'&#xA;</code></pre>&#xA;&#xA;<p>In the _source section of the hits, I would like elasticsearch to tell me that which field had the value and not just return me the entire document.</p>&#xA;&#xA;<p>Any help in figuring this out will be appreciated. </p>&#xA;
<p>I'm not sure if your documents are structured well for your query. It's hard to suggest a better structure without knowing what other queries you're going to need to use, but it sounds like the "color type" can be a <a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations.html" rel="nofollow">bucketed aggregation</a>. With this you can have each color indexed with a facet saying which type of color you'd want to look up. Like I said it's difficult to know what structure would work best without knowing more about the queries you're hoping to run.</p>&#xA;