32195184
Practical usage of keyword analyzer
<p>What is the scenario when you would need to use a mapping of <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-keyword-analyzer.html" rel="nofollow">Keyword-Analyzer</a> compared to marking it as <code>not_analyzed</code> with <a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/doc-values.html" rel="nofollow">Doc values </a> turned on for the field. </p>&#xA;&#xA;<ol>&#xA;<li>From the elasticsearch documentation, it seems that if a field is not analyzed , then it is better to turn doc_Values on for this field. </li>&#xA;<li>The elasticsearch documentation also states specifically that <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-keyword-analyzer.html" rel="nofollow">[sic]</a> <code>Note, when using mapping definitions, it might make more sense to simply mark the field as not_analyzed</code></li>&#xA;</ol>&#xA;&#xA;<p>I am a bit confused as to why the <strong>Keyword</strong> Analyzer will ever be used ?</p>&#xA;
<p>According to a core committer, <a href="https://groups.google.com/forum/#!topic/elasticsearch/Z_GaWBNpnp4" rel="nofollow">both are equivalent</a>.</p>&#xA;&#xA;<p>That wouldn't be the case of the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-keyword-tokenizer.html" rel="nofollow"><code>keyword</code> tokenizer</a>, though, which can be combined with other filters (lowercase, etc) and thus participate in many different ways of tokenizing your input.</p>&#xA;
<p>I had the exact usecase for <strong>keyword</strong> analyzer, analyzers allow you to add character filters in addition to common filters and that's where they are used. </p>&#xA;&#xA;<p>I had a field containing numeric values including whitespaces. Numbers may be persian , for ex <code>۱۲۳۴۵۶۷۸۹</code> or English, so i needed a char filter to normalize them to english ones with a char filter without any other tokenizing process, when I marked the field <strong>not_analyzed</strong> I was unable to use my char filter.</p>&#xA;