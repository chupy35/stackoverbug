30059351
Elasticsearch use doc_values at field creation time
<p>According to the elastic documentation, you can use doc_values by adding them to your mapping.</p>&#xA;&#xA;<pre><code>PUT /music/_mapping/song&#xA;{&#xA;  "properties" : {&#xA;    "tag": {&#xA;      "type":       "string",&#xA;      "index" :     "not_analyzed",&#xA;      "doc_values": true &#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>It appears that doc_values can be added automatically when the field is created. </p>&#xA;&#xA;<blockquote>&#xA;  <p>Setting doc_values to true at field creation time is all that is&#xA;  required to use disk-based fielddata instead of in-memory fielddata.</p>&#xA;</blockquote>&#xA;&#xA;<p><a href="http://www.elastic.co/guide/en/elasticsearch/guide/current/doc-values.html" rel="nofollow noreferrer">http://www.elastic.co/guide/en/elasticsearch/guide/current/doc-values.html</a></p>&#xA;&#xA;<p>How do you set this value by default?</p>&#xA;&#xA;<p><a href="https://stackoverflow.com/questions/29926637/elasticsearch-kibana-field-data-too-large">Related SO question</a></p>&#xA;
<p>This will be the standard in 2.0 (enabled by default): <a href="https://github.com/elastic/elasticsearch/issues/8312" rel="nofollow">https://github.com/elastic/elasticsearch/issues/8312</a></p>&#xA;&#xA;<p>In the meantime, I can only think of using a dynamic mapping for any <em>new</em> fields to have <code>"doc_values": true</code>, otherwise (for any static mapping) you need to do this manually for every field where you want <code>doc_values</code> enabled.</p>&#xA;