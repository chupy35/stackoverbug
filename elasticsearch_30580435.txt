30580435
ElasticSearch - Map _type to one of the field in document
<p>We transfer data from Couchbase to ElasticSearch. When we transfer the data to ES the _type field value becomes 'couchbaseDocument'. Instead of this we want to point _type field to one of the field in the JSON document.</p>&#xA;&#xA;<p>Is it possible?</p>&#xA;&#xA;<p>Below is the sample document - </p>&#xA;&#xA;<pre><code>{&#xA;    "UserID": 1,&#xA;    "Type": "UserDocument",&#xA;    "Username": "User1",&#xA;    "UserAssignments": [&#xA;        { "Role": "Role1", "Permission": "P2" },&#xA;        { "Role": "Role2", "Permission": "P1" }&#xA;    ]&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>I want to map "Type" field to "_type" field.</p>&#xA;&#xA;<p>We use below classes to push the data to Couchbase using Couchbase .NET SDK.</p>&#xA;&#xA;<pre><code>public class UserDetails&#xA;{&#xA;        public int UserID { get; set; }&#xA;        public string Type { get; set; }       &#xA;        public string Username { get; set; }&#xA;        public string Username { get; set; }&#xA;        public List&lt;Assignments&gt; UserAssignments { get; set; }&#xA;}&#xA;&#xA;public class UserAssignments&#xA;{&#xA;        public string Role { get; set; }&#xA;        public string Permission { get; set; }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>The link you provided is outdated. So i used Couchbase views to get metadata for the document. PSB metadata for the above document.</p>&#xA;&#xA;<pre><code>{&#xA;    "total_rows": 1,&#xA;    "rows": [&#xA;        { "id": "1", "key": "1", "value": { "id": "1", "rev": "2-13e4e93ffafcbcc30000000000000000", "expiration": 0, "flags": 0, "type": "json" } }&#xA;    ]&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Hope this is what you were looking for.</p>&#xA;&#xA;<p>Thanks,&#xA;Sameer</p>&#xA;