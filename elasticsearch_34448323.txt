34448323
Performance: Calculations inside query, ES vs Mysql
<p>Calculation in select query which is faster, mysql or elastic search? Why?</p>&#xA;&#xA;<pre><code>{&#xA;"query" : {&#xA;  ...&#xA;  },&#xA;    "script_fields" : {&#xA;         "gross_profit" : {&#xA;                 script: "((((doc['price_in_cents'].value * 100)/(100 +#{location.gst_rate})) - doc['cost_in_cents'].value)*(doc['quantity'].value)) "&#xA;                          }&#xA;           }&#xA;       }&#xA;</code></pre>&#xA;&#xA;<p>or</p>&#xA;&#xA;<pre><code>   SELECT ((price_in_cents*100)/100/(100+#{location.gst_rate})) - cost_in_cents * quantity) as gross_profit FROM ...&#xA;&#xA;&#xA;   location.gst_rate is a dynamic variable (Note: Using ruby on rails syntax)&#xA;</code></pre>&#xA;&#xA;<p>Following is my mysql schema (it have many other columns and relations, not including since they are irrelevant here):</p>&#xA;&#xA;<pre><code> Table Name: Sales&#xA; Columns:&#xA; sales_id : integer&#xA; price_in_cents : double&#xA; cost_in_cents : double&#xA; quantity : tiny int&#xA;&#xA;Elastic search Index:&#xA;Name: Sales&#xA;id: integer&#xA;price_in_cents : double&#xA;cost_in_cents : double&#xA;quantity : tiny int&#xA;</code></pre>&#xA;