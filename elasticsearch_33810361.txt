33810361
Query muilt filed by date and ip in elasticesarch
<p>in elasticsearch data load from next josn data.&#xA;,i want  get the max value  of  cpu0 and in_eth1 for every ip  in elasticsearch and sorted by  date , so some one can help me with the flowing query?</p>&#xA;&#xA;<pre><code>{&#xA;  "ip":"10.235.13.172",&#xA;  "date":"2015-11-09",&#xA;  "time":"18:30:00",&#xA;  "cpu0":7"cpu13":2,&#xA;  "cpu14":1,&#xA;  "diskio(%)":0,&#xA;  "memuse(MB)":824,&#xA;  "in_eth1(Mbps)":34&#xA;}&#xA;     "aggs": {&#xA;         "events_by_date": {&#xA;            "date_histogram": {&#xA;               "field": "date",&#xA;               "interval": "day"&#xA;            },&#xA;           "aggs" : {&#xA;                   "genders" : {&#xA;                       "terms" : {&#xA;                           "field" : "ip",&#xA;                           "size": 100000,&#xA;                            "order" : { "_count" : "asc" }&#xA;                       },&#xA;                       "aggs" : {&#xA;                           "maxcpu" : { "max" : { "field" : "cpu(%)" } },&#xA;                           "maxin" : { "max" : { "field" : "in_eth1(Mbps)" } },&#xA;                       }&#xA;                   }&#xA;               }&#xA;         }&#xA;      } &#xA;</code></pre>&#xA;