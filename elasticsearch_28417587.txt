28417587
Big ElasticSearch bool query: Somehow mark items that match a particular piece of the query
<p>I have a giant ElasticSearch query that I am executing. It consists of a number of "subqueries" joined by <code>should</code>'s on a <code>bool</code>. I need to know which resulting items match which <code>should</code>'s of the query.</p>&#xA;&#xA;<p>I sort and then limit the size of the query. I cannot split the query into multiple queries and then msearch due to the huge volume of data that would be returned in order to then later sort the full result set and again truncate to size.</p>&#xA;&#xA;<p>Is there a way to tag results that match a portion of a query, so that I can later identify which pieces caused those results?</p>&#xA;
<p>Yes, have a look at <code>Named Queries</code>.</p>&#xA;&#xA;<p><a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/search-request-named-queries-and-filters.html" rel="nofollow">http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/search-request-named-queries-and-filters.html</a></p>&#xA;