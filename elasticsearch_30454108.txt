30454108
How to solve MapperParsingException: object mapping for [test] tried to parse as object, but got EOF
<p>In ElasicSearch i created one index "test" and mappings like below</p>&#xA;&#xA;<pre><code>{&#xA;  "index": {&#xA;    "_index": "test",&#xA;    "_type": "test"&#xA;  },&#xA;  "settings": {&#xA;    "index.number_of_replicas": 0,&#xA;    "index.number_of_shards": 2&#xA;  },&#xA;  "mappings": {&#xA;    "_default_": {&#xA;      "date_detection": false&#xA;    },&#xA;    "test": {&#xA;      "properties": {&#xA;        "dateModified": {&#xA;          "dynamic": "true",&#xA;          "properties": {&#xA;            "date": {&#xA;              "type": "string"&#xA;            },&#xA;            "time": {&#xA;              "type": "string"&#xA;            }&#xA;          }&#xA;        }&#xA;      }&#xA;    }&#xA;  }&#xA;}   &#xA;</code></pre>&#xA;&#xA;<p>Index is created successfully.&#xA;I given date like </p>&#xA;&#xA;<pre><code>{"index":{"_index":"test","_type":"test"}}&#xA;{"dateModified":{"date":"25/05/2015","time":"17:54 IST"}}&#xA;</code></pre>&#xA;&#xA;<p>Record inserted succesfully.If i give data like below it giving error</p>&#xA;&#xA;<pre><code>{"index":{"_index":"test","_type":"test"}}&#xA;    {"dateModified":"25/05/2015"}&#xA;&#xA;org.elasticsearch.index.mapper.MapperParsingException: object mapping for [test] tried to parse as object, but got EOF, has a concrete value been provided to it?&#xA;    at org.elasticsearch.index.mapper.object.ObjectMapper.parse(ObjectMapper.java:498)&#xA;    at org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:541)&#xA;    at org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:490)&#xA;    at org.elasticsearch.index.shard.service.InternalIndexShard.prepareCreate(InternalIndexShard.java:392)&#xA;    at org.elasticsearch.action.index.TransportIndexAction.shardOperationOnPrimary(TransportIndexAction.java:193)&#xA;    at org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$AsyncShardOperationAction.performOnPrimary(TransportShardReplicationOperationAction.java:511)&#xA;    at org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$AsyncShardOperationAction$1.run(TransportShardReplicationOperationAction.java:419)&#xA;    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&#xA;    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&#xA;    at java.lang.Thread.run(Thread.java:745)&#xA;</code></pre>&#xA;&#xA;<p>Then how to solve this problem,I read some blog and posts related to this issue but they don't given solution to this problem.</p>&#xA;
<p>To solve this issue, you need to index a same type of value in the field <code>dateModified</code>. it sounds you index a inner element in one document and the string value in the next document.</p>&#xA;&#xA;<p>The mapping for <code>dateModified</code> field is kind of a <code>inner object</code> which has 2 fields, <code>date</code> &amp; <code>time</code>. The mapping also <code>dynamic</code> which has created while you index the first document.</p>&#xA;&#xA;<p><strong>1st Document</strong></p>&#xA;&#xA;<pre><code>{&#xA;    "dateModified": {&#xA;        "date": "25/05/2015",&#xA;        "time": "17:54 IST"&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p><strong>2nd Document</strong></p>&#xA;&#xA;<pre><code>{&#xA;    "dateModified": "25/05/2015"&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>It clearly says that you are trying to index a document with different type of values for a particular field. which is not supported by elastic search. each and every field should have a unique data type and the values also should be same as defined in the mapping.</p>&#xA;&#xA;<p>This cause the problem. Don't try to index different type of values in a single field in different document.</p>&#xA;