29174101
How to store raw values for all properties?
<p>How can I store raw values for all properties in elasticsearch ?</p>&#xA;&#xA;<p>I need raw values for aggregation, properties are not known a-priory.</p>&#xA;&#xA;<p><strong>Update:</strong></p>&#xA;&#xA;<p>Want all properties be</p>&#xA;&#xA;<pre><code>{&#xA;   "type": "string",&#xA;   "fields": { &#xA;        "raw": { &#xA;            "type": "string", &#xA;            "index": "not_analyzed"&#xA;        }&#xA;    } &#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Whereas properties are dynamic</p>&#xA;&#xA;<p>Thanks in advance.</p>&#xA;
<pre><code>You have to use PUT method to add data to elasticsearch. &#xA;&#xA;Example: &#xA;&#xA;`$ curl -XPUT 'http://localhost:9200/products/product/123' -d '{&#xA;  "ProductID": 123,&#xA;  "SellingPrice": 1200.00,&#xA;  "DiscountAmount":0.00,&#xA;  "Discount": {&#xA;    "Type": "percentage",&#xA;    "Amount": 25,&#xA;    "StartDate": "2014-08-13T12:05:00",&#xA;    "EndDate": "2014-12-31T12:10:00"&#xA;  }&#xA;}'`&#xA;&#xA;CURL library can be used to send data to your elasticsearch. For testing purpose you can use [chrome sense plugin][1]. &#xA;&#xA;For getting aggregation use POST or GET method. &#xA;&#xA;Example:&#xA;&#xA;`$ curl -XGET 'http://localhost:9200/products/product/_search?search_type=count' -d '{&#xA;  "aggregations": {&#xA;    "my_agg": {&#xA;      "terms": {&#xA;        "field": "SellingPrice"&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;'`&#xA;&#xA;Above example will return aggregation result as below:&#xA;&#xA; `{&#xA;   "took": 48,&#xA;   "timed_out": false,&#xA;   "_shards": {&#xA;      "total": 5,&#xA;      "successful": 5,&#xA;      "failed": 0&#xA;   },&#xA;   "hits": {&#xA;      "total": 117,&#xA;      "max_score": 0,&#xA;      "hits": []&#xA;   },&#xA;   "aggregations": {&#xA;      "my_agg": {&#xA;         "doc_count_error_upper_bound": 0,&#xA;         "sum_other_doc_count": 0,&#xA;         "buckets": [&#xA;            {&#xA;               "key": 1200,&#xA;               "doc_count": 1&#xA;            }&#xA;         ]&#xA;      }&#xA;   }&#xA;}`&#xA;&#xA;&#xA;&#xA;  [1]: https://chrome.google.com/webstore/detail/sense-beta/lhjgkmllcaadmopgmanpapmpjgmfcfig?hl=en&#xA;</code></pre>&#xA;
<p>found solution</p>&#xA;&#xA;<pre><code>curl -X PUT /index&#xA;&#xA;{&#xA;"mappings": {&#xA;    "_default_": {&#xA;        "dynamic_templates": [&#xA;            {&#xA;                "default": {&#xA;                    "match": "*",&#xA;                    "match_mapping_type": "string",&#xA;                    "mapping": {&#xA;                        "type": "string",&#xA;                        "index": "not_analyzed"&#xA;                    }&#xA;                }&#xA;            }&#xA;        ]&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>}</p>&#xA;