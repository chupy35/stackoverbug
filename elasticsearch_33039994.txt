33039994
Do query results impact elasticsearch phrase suggestions?
<p>I'd like to know whether Elasticsearch users query results to populate phrase suggestions for direct generator or not?</p>&#xA;&#xA;<p>Or it simply picks tokens from given index?</p>&#xA;&#xA;<p>My queries are based on some permission sets.</p>&#xA;&#xA;<p>So for instance, that'd be my query:</p>&#xA;&#xA;<pre><code>{&#xA;  "size" : 0,&#xA;  "query" : {&#xA;    "filtered" : {&#xA;      "query" : {&#xA;        "match_all" : {}&#xA;      },&#xA;      "filter" : {&#xA;        "bool" : {&#xA;          "must" : [{&#xA;              "terms" : {&#xA;                "Permissions" : ["permission1", "permission2", "permission3"&#xA;                ]&#xA;              }&#xA;            }&#xA;          ]&#xA;        }&#xA;      }&#xA;    }&#xA;  },&#xA;  "suggest" : {&#xA;    "DidYouMean" : {&#xA;      "text" : "{{SearchPhrase}}",&#xA;      "phrase" : {&#xA;        "field" : "_all",&#xA;        "analyzer" : "simple",&#xA;        "size" : 1,&#xA;        "real_word_error_likelihood" : 0.96,&#xA;        "max_errors" : 5,&#xA;        "gram_size" : 3,&#xA;        "direct_generator" : [{&#xA;            "field" : "_all",&#xA;            "suggest_mode" : "popular",&#xA;            "min_word_length" : 3&#xA;          }&#xA;        ]&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>How would I ensure that direct generator creates suggestions and doesn't violate my permissions clause? </p>&#xA;&#xA;<p>Is this even possible?</p>&#xA;
<p>The term suggester and phrase suggester feeds on the tokens for generating suggest results. The query does not affect the suggest results. The suggester directly works on the reverse index and get the tokens from them. So its scope is global and never the query</p>&#xA;