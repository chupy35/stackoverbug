28598511
Norms, Document Frequency and Suggestions in Elasticsearch
<p>If I have a field called name and I use the suggest api to get suggestions for misspellings do I need to have document frequencies or norms enabled in order to do accurate suggestions? My assumption is yes but I am curious if maybe there is a separate suggestions index in lucene that handles frequency and/or norms even if I have it disabled for the field in my main index.</p>&#xA;
<p>I doubt if suggester can work without field length normalization, as disabling norm means you are looking for a binary value whether the term is present or not in the document field and which in turn will have impact on the similarity score of each document.</p>&#xA;&#xA;<pre><code>These three factors—term frequency, inverse document frequency, and field-length norm—are calculated and stored at index time. Together, they are used to calculate the weight of a single term in a particular document.&#xA;</code></pre>&#xA;&#xA;<p><strong>"but I am curious if maybe there is a separate suggestions index in lucene that handles frequency and/or norms even if I have it disabled for the field in my main index."</strong>&#xA;Any suggester will use Vector Space Model by default to calculate the cosine similarity, which in turn will use the tf-idf-norm based scoring calculated during indexing for each term to rank the suggestions, so I doubt if suggester can score documents accurately without field norm.</p>&#xA;&#xA;<p>theory behind relevance scoring:</p>&#xA;&#xA;<p><a href="http://www.elasticsearch.org/guide/en/elasticsearch/guide/current/scoring-theory.html#field-norm" rel="nofollow">http://www.elasticsearch.org/guide/en/elasticsearch/guide/current/scoring-theory.html#field-norm</a></p>&#xA;