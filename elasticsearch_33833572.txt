33833572
Query_string not returning anything in Elasticsearch?
<p>Hello All i am having a problem that when i was using query_string with mappings given below everything was working fine i am just using default analyzers with no filters.</p>&#xA;&#xA;<pre><code>mappings : {&#xA;    places_area1: {&#xA;      properties:{&#xA;        area1         : {"type" : "string", "index": "analyzed"},&#xA;        city         : {"type" : "string", "index": "analyzed"}&#xA;        },&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>but now when i am trying to use query_string with this mapping it is not working can someone please tell me what am i doing wrong, i guess its because of whitespace tokenizer but why.</p>&#xA;&#xA;<pre><code>"settings": {&#xA;    "index": {&#xA;      "analysis": {&#xA;        "analyzer": {&#xA;          "synonym_wildcard": {&#xA;            "tokenizer": "whitespace",&#xA;            "filter": ["filter_wildcard"]&#xA;          },&#xA;          "synonym_term": {&#xA;            "tokenizer": "keyword",&#xA;            "filter": ["filter_term"]&#xA;          },&#xA;          "simple_wildcard": {&#xA;            "tokenizer": "whitespace"&#xA;          }&#xA;        },&#xA;        "filter": {&#xA;          "filter_term": {&#xA;            "tokenizer": "keyword", // here you have to write this only for tokenizer keyword but not for whitespace&#xA;            "type": "synonym",&#xA;            "synonyms_path": "synonyms.txt",&#xA;          },&#xA;          "filter_wildcard": {&#xA;            "type": "synonym",&#xA;            "synonyms_path": "synonyms.txt",&#xA;          }&#xA;        }&#xA;      }&#xA;    }&#xA;  },&#xA;  mappings : {&#xA;    places_area1: {&#xA;      properties:{&#xA;        area1         : {"type" : "string", "index": "analyzed", "analyzer": "simple_wildcard"},&#xA;        city         : {"type" : "string", "fields": {&#xA;          "raw": {&#xA;            "type": "string",&#xA;            "analyzer": "synonym_term"&#xA;          },&#xA;          "raw_wildcard": {&#xA;            "type": "string",&#xA;            "analyzer": "synonym_wildcard"&#xA;          }&#xA;        } },&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;
<p>I think the problem could be your query is lowercased because by default <code>"lowercase_expanded_terms"</code> is true</p>&#xA;&#xA;<pre><code> {&#xA;      "query": {&#xA;        "query_string": {&#xA;          "default_field": "state",&#xA;          "query": "Ban*",&#xA;          "lowercase_expanded_terms": false&#xA;        }&#xA;      }&#xA;    }&#xA;</code></pre>&#xA;&#xA;<p>Now this should match Bangalore</p>&#xA;