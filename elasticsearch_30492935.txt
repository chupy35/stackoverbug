30492935
ElasticSearch highlight showing wrong field
<p>If I insert this data in ElasticSearch:</p>&#xA;&#xA;<pre><code>PUT /a/b/1&#xA;{&#xA;   "content": "&lt;a&gt;Mussum&lt;a&gt; ipsum&lt;a&gt; cacilds&lt;a&gt;",&#xA;   "content_processed": "Mussum ipsum cacilds",&#xA;   "content.processed": "Mussum ipsum cacilds",&#xA;   "content.processed.x": "Mussum ipsum cacilds"&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>And perform the following query:</p>&#xA;&#xA;<pre><code>GET /a/_search&#xA;{&#xA;   "query": {&#xA;      "query_string": {&#xA;         "query": "cacilds"&#xA;      }&#xA;   },&#xA;   "highlight": {&#xA;      "pre_tags": [&#xA;         "&lt;tag1&gt;&lt;div class='h1'&gt;&lt;/div&gt;",&#xA;         "&lt;tag2&gt;"&#xA;      ],&#xA;      "post_tags": [&#xA;         "&lt;/tag1&gt;",&#xA;         "&lt;/tag2&gt;"&#xA;      ],&#xA;      "fields": {&#xA;         "_all": {},&#xA;         "content": {},&#xA;         "content_processed": {},&#xA;         "content.processed": {},&#xA;         "content.processed.x": {}&#xA;      }&#xA;   }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>The highlights I receive are:</p>&#xA;&#xA;<pre><code>        "highlight": {&#xA;           "content_processed": [&#xA;              "Mussum ipsum &lt;tag1&gt;&lt;div class='h1'&gt;&lt;/div&gt;cacilds&lt;/tag1&gt;"&#xA;           ],&#xA;           "content.processed": [&#xA;              "&lt;a&gt;Mussum&lt;a&gt; ipsum&lt;a&gt; &lt;tag1&gt;&lt;div class='h1'&gt;&lt;/div&gt;cacilds&lt;/tag1&gt;&lt;a&gt;"&#xA;           ],&#xA;           "content": [&#xA;              "&lt;a&gt;Mussum&lt;a&gt; ipsum&lt;a&gt; &lt;tag1&gt;&lt;div class='h1'&gt;&lt;/div&gt;cacilds&lt;/tag1&gt;&lt;a&gt;"&#xA;           ],&#xA;           "content.processed.x": [&#xA;              "&lt;a&gt;Mussum&lt;a&gt; ipsum&lt;a&gt; &lt;tag1&gt;&lt;div class='h1'&gt;&lt;/div&gt;cacilds&lt;/tag1&gt;&lt;a&gt;"&#xA;           ]&#xA;        }&#xA;</code></pre>&#xA;&#xA;<p>"content" and "content_processed" values is what I would expect. But "content.processed" and "content.processed.x" seems to be showing wrong data. I would expect them to have same result as "content_processed" but instead they have same result as "content". Why this? Am I doing something wrong?</p>&#xA;
<p>Currently field names should not include a dot.&#xA;There is an open issue with regard to supporting such fields : <a href="https://github.com/elastic/elasticsearch/issues/9059" rel="nofollow">issue #9059</a>  and <a href="https://github.com/elastic/elasticsearch/issues/7112" rel="nofollow">issue #7112</a></p>&#xA;