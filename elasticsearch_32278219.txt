32278219
Elasticsearch ports
<p>I am running an Elasticsearch server. Apart from 9200/9300 ports, Elasticsearch opens lot of ports like below. </p>&#xA;&#xA;<pre><code>elasticsearch-service-x64.exe   11036   TCP Mymachine   52377   localhost   52378   ESTABLISHED&#xA;</code></pre>&#xA;&#xA;<p>Where is the config for these ports?</p>&#xA;
<p>All nodes in an Elasticsearch cluster form a <a href="https://www.elastic.co/blog/found-elasticsearch-networking" rel="noreferrer">full-mesh cluster</a>, which means that every node that participates in an Elasticsearch cluster needs to talk to the every other nodes of the cluster, in a bi-directional way. So there are a lot of TCP connections opened in addition to the ones opened for the clients to bind to (i.e. the 9200 and 9300 ranges).</p>&#xA;&#xA;<p>In addition to that, Elasticsearch has a concept of "channel". A channel is a specific set of TCP connections for performing a specific type of operation, such as "recovery", "bulk", "regular", "cluster state", "ping". </p>&#xA;&#xA;<p>So without entering too much into the details, each node has 13 TCP connections to each other node and vice versa: </p>&#xA;&#xA;<ul>&#xA;<li>2 connections for recovery operations, </li>&#xA;<li>3 connections for bulk operations, </li>&#xA;<li>6 connections for regular operations (search, etc), </li>&#xA;<li>1 connection for cluster state operations and </li>&#xA;<li>1 connection for ping operations.</li>&#xA;</ul>&#xA;&#xA;<p>In a two-nodes cluster, that means 26 connections. In a three-nodes cluster, that means 39 TCP connections, etc.</p>&#xA;&#xA;<p>To sum it up, that's the main reason why you're seeing so many opened TCP ports on your machine.</p>&#xA;