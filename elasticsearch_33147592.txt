33147592
Why does this range query returns empty results?
<p>I am querying an elasticsearch (2.0) cluster and would like to get events with a timestamp older than a specific one (30 August 2015 in the case below):</p>&#xA;&#xA;<pre><code>POST /constant_scan/vulnerability/_search&#xA;{&#xA;   "query":{&#xA;      "filtered":{&#xA;         "filter":{&#xA;            "range":{&#xA;               "HOST_START_iso":{&#xA;                  "lt":"2015-08-30"&#xA;               }&#xA;            }&#xA;         }&#xA;      }&#xA;   }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>This search returns</p>&#xA;&#xA;<pre><code>{&#xA;   "took": 44,&#xA;   "timed_out": false,&#xA;   "_shards": {&#xA;      "total": 5,&#xA;      "successful": 5,&#xA;      "failed": 0&#xA;   },&#xA;   "hits": {&#xA;      "total": 0,&#xA;      "max_score": null,&#xA;      "hits": []&#xA;   }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>The DB has relevant records. A query for all elements returns, among others, an entry with a timestamp on August 20 (older than August 30)</p>&#xA;&#xA;<pre><code>{&#xA;   "took": 241,&#xA;   "timed_out": false,&#xA;   "_shards": {&#xA;      "total": 5,&#xA;      "successful": 5,&#xA;      "failed": 0&#xA;   },&#xA;   "hits": {&#xA;      "total": 58517,&#xA;      "max_score": 1,&#xA;      "hits": [&#xA;         {&#xA;            "_index": "scan_constant",&#xA;            "_type": "vulnerability",&#xA;            "_id": "10.89.0.103",&#xA;            "_score": 1,&#xA;            "_source": {&#xA;               "private": true,&#xA;               "authenticated": false,&#xA;               "HOST_START_iso": "2015-08-20T10:19:24+00:00"&#xA;            }&#xA;         },&#xA;         (...)&#xA;</code></pre>&#xA;&#xA;<p>I tried to use a full ISO date as the delimiter, tried <code>lte</code> instead of <code>lt</code> - same results. Searching for events newer that the date yields the same (there are events on both sides of that date)</p>&#xA;
<p>You're querying the <code>constant_scan</code> index</p>&#xA;&#xA;<pre><code>POST /constant_scan/vulnerability/_search&#xA;</code></pre>&#xA;&#xA;<p>while your documents are stored in the <code>scan_constant</code> index (according to the sample document you provided)</p>&#xA;&#xA;<p>Try POSTing your query to this URL instead:</p>&#xA;&#xA;<pre><code>POST /scan_constant/vulnerability/_search&#xA;</code></pre>&#xA;