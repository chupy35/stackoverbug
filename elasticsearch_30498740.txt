30498740
Elasticsearch: 2-node cluster with failover
<p>I am using <strong>Elasticsearch 1.5.2</strong> and trying to setup a 2-node cluster. These 2 nodes are primarily for failover strategy (if any one node goes down, the other one is still there to handle requests), I don't need to divide primary shards or something like that, (total data is no more than 500mb on hard-disk).</p>&#xA;&#xA;<p>Everything goes well, until <strong>Split Brains</strong> thing kicks in. Now, since I don't have much data, I don't feel any requirement of 3 nodes. And I want to have failover mechanism too. Which means, <code>discovery.zen.minimum_master_nodes</code> cannot be more than <code>1</code>.</p>&#xA;&#xA;<p>Now, I have two questions:</p>&#xA;&#xA;<ol>&#xA;<li>Is there any configuration possible, which could overcome <strong>2 master nodes</strong> or <strong>Split Brains</strong> problem?</li>&#xA;<li>If not, what all other options do I have to make it work? Like, keeping both in different clusters (one online, other one offline) and updating offline with online, time to time, for the time when online cluster goes down. Or, do I have to go for 3-node cluster?</li>&#xA;</ol>&#xA;&#xA;<p>I am going on production environment. Please help.</p>&#xA;