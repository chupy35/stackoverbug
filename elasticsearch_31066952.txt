31066952
Is ElasticSearch Auto-Generated Ids sequential?
<p>If we do not specify an Id when inserting a document to elasticsearch, the Id is automatically generated. I also understand that the Ids are Flake Ids, which have a predictive pattern.</p>&#xA;&#xA;<p>My question is are these generated Flake Ids sequential enough that I can perform a sort on _id or _uid and be myself sure the results are in the same order as inserted?</p>&#xA;
<p>Elasticsearch autogenerated _id is random,  not sequential and same is the case for _uid. If you want to sort sequentially, then easy step is enabling _timestamp so _timestamp will have time of document inserted.</p>&#xA;&#xA;<p>But, _timestamp is updated when document is updated. So, you may want to create new date field providing current time manually . </p>&#xA;&#xA;<p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-timestamp-field.html" rel="nofollow">https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-timestamp-field.html</a></p>&#xA;
<p>The autogenerated <code>_id</code> is not sequential. It is an URL-safe, Base64-encoded GUID generated using modified <code>FlakeID</code> algorithm. FlakeID is a decentralized algorithm that generates k-ordered unique IDs.</p>&#xA;&#xA;<p>Note that Elasticsearch does not generate the <code>_id</code> using the random UUIDs anymore. </p>&#xA;&#xA;<p>See for more details:</p>&#xA;&#xA;<ul>&#xA;<li><a href="https://github.com/elastic/elasticsearch/issues/5941" rel="nofollow noreferrer">https://github.com/elastic/elasticsearch/issues/5941</a></li>&#xA;<li><a href="https://github.com/elastic/elasticsearch/pull/7531" rel="nofollow noreferrer">https://github.com/elastic/elasticsearch/pull/7531</a></li>&#xA;<li><a href="https://github.com/ppearcy/elasticflake" rel="nofollow noreferrer">https://github.com/ppearcy/elasticflake</a></li>&#xA;</ul>&#xA;