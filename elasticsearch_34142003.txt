34142003
Sorting based on different properties with elasticsearch
<p>In my ES, I have two different kind of index that represent different models.&#xA;For example, in the first index, I have <code>_body:{created_at : Date}</code> and in the second index I have <code>_body:{date : Date}</code>.</p>&#xA;&#xA;<p>Is it possible query the server in order to have sorted results from both indexes related to different properties (in the example <code>created_at</code> and <code>date</code>)? To be more clear, the order should be based on the combination of the two fields.</p>&#xA;
<p>You can do it with function score</p>&#xA;&#xA;<pre><code>"query": {&#xA;    "function_score": {&#xA;        "query": {},&#xA;        "functions": [&#xA;            {&#xA;                 "field_value_factor": {&#xA;                     "field": "created_at",&#xA;                     "factor": 2,&#xA;                     "missing": 1&#xA;                 }&#xA;             },&#xA;            {&#xA;                 "field_value_factor": {&#xA;                     "field": "date",&#xA;                     "factor": 2,&#xA;                     "missing": 1&#xA;                 }&#xA;             },&#xA;        ],&#xA;        "score_mode": "sum",&#xA;        "boost_mode": "sum"&#xA;    }&#xA;&#xA;}&#xA;</code></pre>&#xA;