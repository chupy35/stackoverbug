21285262
React: leave the contents of a component alone
<p>Is it possible to have React ignore a subtree? i.e., don't compare or update it?</p>&#xA;&#xA;<p>My use case is migrating to React. Re-writing all our Handlebars templates at once isn't feasible, but if we could use our existing templates for some subcomponents, we could adopt it slowly over time.</p>&#xA;
<p>Yes, if you don't modify a subtree within React then the DOM won't be touched at all. It's easy to wrap non-React functionality like a Handlebars template in React. You can either use <code>dangerouslySetInnerHTML</code>:</p>&#xA;&#xA;<pre><code>render: function() &#xA;    return &lt;div dangerouslySetInnerHTML={{__html: template(values)}}&gt;;&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>or you can simply return an empty div and populate (or attach event handlers, etc) it in componentDidMount:</p>&#xA;&#xA;<pre><code>render: function() &#xA;    return &lt;div /&gt;;&#xA;},&#xA;componentDidMount: function() {&#xA;    var node = React.findDOMNode(this);&#xA;    node.innerHTML = template(values);&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>In the latter case, React won't touch the DOM after the initial render because <code>render</code> always returns the same thing.</p>&#xA;
<p>Have a look at this module. Simple and very effective.&#xA;<a href="https://gist.github.com/alexeisavca/d4ff175fd16c93c8785d" rel="nofollow">https://gist.github.com/alexeisavca/d4ff175fd16c93c8785d</a></p>&#xA;&#xA;<p>Here's a coffeescript version of it.</p>&#xA;&#xA;<pre><code>module.exports = ReactIgnore = React.createClass&#xA;  shouldComponentUpdate: -&gt;&#xA;    false&#xA;  render: -&gt;&#xA;    React.Children.only @props.children&#xA;</code></pre>&#xA;&#xA;<p>And wrap your component in it:</p>&#xA;&#xA;<pre><code>&lt;ReactIgnore&gt;&#xA;  YourComponent&#xA;&lt;/ReactIgnore&gt;&#xA;</code></pre>&#xA;