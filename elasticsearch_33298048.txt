33298048
Why are specific shards unallocated?
<p>Two specific shards on my elasticsearch server (<code>2.0.0-rc1</code>) are stubbornly unallocated. These are always the same shards on the same index (all other shards/indexes are fine).</p>&#xA;&#xA;<p>I <a href="https://t37.net/how-to-fix-your-elasticsearch-cluster-stuck-in-initializing-shards-mode.html" rel="nofollow">forced them to reallocate</a> by using <code>/_cluster/reroute</code>, the cluster turned to green for some time (a few hours) and I see this morning that the issue is back.</p>&#xA;&#xA;<p>I deleted the index and recreated it - same issue. All the nodes are OK (they are available, memory, heap, CPU are all fine). None of the other indexes have the issue (and never had). I have also restarted all the nodes.</p>&#xA;&#xA;<p><strong>What can be the reasons for specific shards of a specific index to be (and come back) to an "unallocated" state?</strong></p>&#xA;&#xA;<p>The log of the master node. It shows some cryptic messages regarding shards relocating (beyond my capacities)</p>&#xA;&#xA;<pre><code>[2015-10-22 10:19:14,281][INFO ][node                     ] [eu4] version[2.0.0-rc1], pid[21767], build[4757962/2015-10-01T10:06:08Z]&#xA;[2015-10-22 10:19:14,281][INFO ][node                     ] [eu4] initializing ...&#xA;[2015-10-22 10:19:14,597][INFO ][plugins                  ] [eu4] loaded [], sites [head, kopf]&#xA;[2015-10-22 10:19:14,910][INFO ][env                      ] [eu4] using [1] data paths, mounts [[/ (/dev/sda3)]], net usable_space [217.8gb], net total_space [809gb], spins? [possibly], types [ext3]&#xA;[2015-10-22 10:19:18,603][INFO ][node                     ] [eu4] initialized&#xA;[2015-10-22 10:19:18,603][INFO ][node                     ] [eu4] starting ...&#xA;[2015-10-22 10:19:18,835][INFO ][transport                ] [eu4] publish_address {10.81.163.129:9300}, bound_addresses {10.81.163.129:9300}&#xA;[2015-10-22 10:19:18,849][INFO ][discovery                ] [eu4] security/XzHqhAC-Rmm4bOwD7Jxn5w&#xA;[2015-10-22 10:19:22,086][INFO ][cluster.service          ] [eu4] detected_master {eu5}{4nyuFXa5TTWi08Xtq9tkhg}{10.81.147.186}{10.81.147.186:9300}, added {{eu3}{fmjphsGPRu-Bj1ZerSEi4Q}{10.81.163.112}{10.81.163.112:9300}{master=true},{LENOV27}{fpDgEjXrRrmpNsZ4evXawA}{10.233.85.45}{10.233.85.45:9300}{master=false},{eu5}{4nyuFXa5TTWi08Xtq9tkhg}{10.81.147.186}{10.81.147.186:9300},{eu2}{nHV1K3b8RUWayqzpN-xf3w}{10.242.136.232}{10.242.136.232:9300},}, reason: zen-disco-receive(from master [{eu5}{4nyuFXa5TTWi08Xtq9tkhg}{10.81.147.186}{10.81.147.186:9300}])&#xA;[2015-10-22 10:19:22,747][INFO ][http                     ] [eu4] publish_address {10.81.163.129:9200}, bound_addresses {10.81.163.129:9200}&#xA;[2015-10-22 10:19:22,747][INFO ][node                     ] [eu4] started&#xA;[2015-10-22 10:19:23,144][DEBUG][action.admin.indices.stats] [eu4] [indices:monitor/stats] failed to execute operation for shard [[gnopgn1.html][4], node[XzHqhAC-Rmm4bOwD7Jxn5w], [P], v[36], s[INITIALIZING], a[id=moyNCX6WR5-D7azHXzPzCw], unassigned_info[[reason=CLUSTER_RECOVERED], at[2015-10-22T08:15:48.363Z]]]&#xA;[gnopgn1.html][[gnopgn1.html][4]] BroadcastShardOperationFailedException[operation indices:monitor/stats failed]; nested: ShardNotFoundException[no such shard];&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.onShardOperation(TransportBroadcastByNodeAction.java:399)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.messageReceived(TransportBroadcastByNodeAction.java:376)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.messageReceived(TransportBroadcastByNodeAction.java:365)&#xA;    at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:350)&#xA;    at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)&#xA;    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&#xA;    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&#xA;    at java.lang.Thread.run(Thread.java:745)&#xA;Caused by: [gnopgn1.html][[gnopgn1.html][4]] ShardNotFoundException[no such shard]&#xA;    at org.elasticsearch.index.IndexService.shardSafe(IndexService.java:198)&#xA;    at org.elasticsearch.action.admin.indices.stats.TransportIndicesStatsAction.shardOperation(TransportIndicesStatsAction.java:98)&#xA;    at org.elasticsearch.action.admin.indices.stats.TransportIndicesStatsAction.shardOperation(TransportIndicesStatsAction.java:47)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.onShardOperation(TransportBroadcastByNodeAction.java:395)&#xA;    ... 7 more&#xA;[2015-10-22 10:19:23,150][DEBUG][action.admin.indices.stats] [eu4] [indices:monitor/stats] failed to execute operation for shard [[rwsnsr1.html][4], node[XzHqhAC-Rmm4bOwD7Jxn5w], [P], v[17], s[INITIALIZING], a[id=Z3r0lXjgT-6zRiArXoTnyA], unassigned_info[[reason=CLUSTER_RECOVERED], at[2015-10-22T08:15:48.363Z]]]&#xA;[rwsnsr1.html][[rwsnsr1.html][4]] BroadcastShardOperationFailedException[operation indices:monitor/stats failed]; nested: ShardNotFoundException[no such shard];&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.onShardOperation(TransportBroadcastByNodeAction.java:399)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.messageReceived(TransportBroadcastByNodeAction.java:376)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.messageReceived(TransportBroadcastByNodeAction.java:365)&#xA;    at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:350)&#xA;    at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)&#xA;    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&#xA;    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&#xA;    at java.lang.Thread.run(Thread.java:745)&#xA;Caused by: [rwsnsr1.html][[rwsnsr1.html][4]] ShardNotFoundException[no such shard]&#xA;    at org.elasticsearch.index.IndexService.shardSafe(IndexService.java:198)&#xA;    at org.elasticsearch.action.admin.indices.stats.TransportIndicesStatsAction.shardOperation(TransportIndicesStatsAction.java:98)&#xA;    at org.elasticsearch.action.admin.indices.stats.TransportIndicesStatsAction.shardOperation(TransportIndicesStatsAction.java:47)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.onShardOperation(TransportBroadcastByNodeAction.java:395)&#xA;    ... 7 more&#xA;[2015-10-22 10:19:23,152][DEBUG][action.admin.indices.stats] [eu4] [indices:monitor/stats] failed to execute operation for shard [[wvarrr1.html][4], node[XzHqhAC-Rmm4bOwD7Jxn5w], [P], v[22], s[INITIALIZING], a[id=uQCmezoHTwmpjdW_6WXzUQ], unassigned_info[[reason=CLUSTER_RECOVERED], at[2015-10-22T08:15:48.363Z]]]&#xA;[wvarrr1.html][[wvarrr1.html][4]] BroadcastShardOperationFailedException[operation indices:monitor/stats failed]; nested: ShardNotFoundException[no such shard];&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.onShardOperation(TransportBroadcastByNodeAction.java:399)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.messageReceived(TransportBroadcastByNodeAction.java:376)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.messageReceived(TransportBroadcastByNodeAction.java:365)&#xA;    at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:350)&#xA;    at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)&#xA;    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&#xA;    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&#xA;    at java.lang.Thread.run(Thread.java:745)&#xA;Caused by: [wvarrr1.html][[wvarrr1.html][4]] ShardNotFoundException[no such shard]&#xA;    at org.elasticsearch.index.IndexService.shardSafe(IndexService.java:198)&#xA;    at org.elasticsearch.action.admin.indices.stats.TransportIndicesStatsAction.shardOperation(TransportIndicesStatsAction.java:98)&#xA;    at org.elasticsearch.action.admin.indices.stats.TransportIndicesStatsAction.shardOperation(TransportIndicesStatsAction.java:47)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.onShardOperation(TransportBroadcastByNodeAction.java:395)&#xA;    ... 7 more&#xA;[2015-10-22 10:19:23,153][DEBUG][action.admin.indices.stats] [eu4] [indices:monitor/stats] failed to execute operation for shard [[phppath][4], node[XzHqhAC-Rmm4bOwD7Jxn5w], [P], v[63], s[INITIALIZING], a[id=w9IukO9ySBSWK0uKGrFDSA], unassigned_info[[reason=CLUSTER_RECOVERED], at[2015-10-22T08:15:48.364Z]]]&#xA;[phppath][[phppath][4]] BroadcastShardOperationFailedException[operation indices:monitor/stats failed]; nested: ShardNotFoundException[no such shard];&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.onShardOperation(TransportBroadcastByNodeAction.java:399)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.messageReceived(TransportBroadcastByNodeAction.java:376)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.messageReceived(TransportBroadcastByNodeAction.java:365)&#xA;    at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:350)&#xA;    at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)&#xA;    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&#xA;    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&#xA;    at java.lang.Thread.run(Thread.java:745)&#xA;Caused by: [phppath][[phppath][4]] ShardNotFoundException[no such shard]&#xA;    at org.elasticsearch.index.IndexService.shardSafe(IndexService.java:198)&#xA;    at org.elasticsearch.action.admin.indices.stats.TransportIndicesStatsAction.shardOperation(TransportIndicesStatsAction.java:98)&#xA;    at org.elasticsearch.action.admin.indices.stats.TransportIndicesStatsAction.shardOperation(TransportIndicesStatsAction.java:47)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.onShardOperation(TransportBroadcastByNodeAction.java:395)&#xA;    ... 7 more&#xA;[2015-10-22 10:19:27,107][DEBUG][action.admin.indices.stats] [eu4] [indices:monitor/stats] failed to execute operation for shard [[flex2gateway][3], node[XzHqhAC-Rmm4bOwD7Jxn5w], [R], v[21], s[INITIALIZING], a[id=r347ICHmQ6yVUp2K4iepkA], unassigned_info[[reason=CLUSTER_RECOVERED], at[2015-10-22T08:15:48.362Z]]]&#xA;[flex2gateway][[flex2gateway][3]] BroadcastShardOperationFailedException[operation indices:monitor/stats failed]; nested: IllegalIndexShardStateException[CurrentState[RECOVERING] operations only allowed when shard state is one of [POST_RECOVERY, STARTED, RELOCATED]];&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.onShardOperation(TransportBroadcastByNodeAction.java:399)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.messageReceived(TransportBroadcastByNodeAction.java:376)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.messageReceived(TransportBroadcastByNodeAction.java:365)&#xA;    at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:350)&#xA;    at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)&#xA;    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&#xA;    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&#xA;    at java.lang.Thread.run(Thread.java:745)&#xA;Caused by: [flex2gateway][[flex2gateway][3]] IllegalIndexShardStateException[CurrentState[RECOVERING] operations only allowed when shard state is one of [POST_RECOVERY, STARTED, RELOCATED]]&#xA;    at org.elasticsearch.index.shard.IndexShard.readAllowed(IndexShard.java:957)&#xA;    at org.elasticsearch.index.shard.IndexShard.acquireSearcher(IndexShard.java:791)&#xA;    at org.elasticsearch.index.shard.IndexShard.docStats(IndexShard.java:612)&#xA;    at org.elasticsearch.action.admin.indices.stats.CommonStats.&lt;init&gt;(CommonStats.java:131)&#xA;    at org.elasticsearch.action.admin.indices.stats.TransportIndicesStatsAction.shardOperation(TransportIndicesStatsAction.java:165)&#xA;    at org.elasticsearch.action.admin.indices.stats.TransportIndicesStatsAction.shardOperation(TransportIndicesStatsAction.java:47)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.onShardOperation(TransportBroadcastByNodeAction.java:395)&#xA;    ... 7 more&#xA;[2015-10-22 10:19:27,109][DEBUG][action.admin.indices.stats] [eu4] [indices:monitor/stats] failed to execute operation for shard [[parngo1.html][2], node[XzHqhAC-Rmm4bOwD7Jxn5w], [R], v[50], s[INITIALIZING], a[id=L6zq9BYXTHKpDQHgyvqNoA], unassigned_info[[reason=CLUSTER_RECOVERED], at[2015-10-22T08:15:48.360Z]]]&#xA;[parngo1.html][[parngo1.html][2]] BroadcastShardOperationFailedException[operation indices:monitor/stats failed]; nested: ShardNotFoundException[no such shard];&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.onShardOperation(TransportBroadcastByNodeAction.java:399)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.messageReceived(TransportBroadcastByNodeAction.java:376)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.messageReceived(TransportBroadcastByNodeAction.java:365)&#xA;    at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:350)&#xA;    at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)&#xA;    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&#xA;    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&#xA;    at java.lang.Thread.run(Thread.java:745)&#xA;Caused by: [parngo1.html][[parngo1.html][2]] ShardNotFoundException[no such shard]&#xA;    at org.elasticsearch.index.IndexService.shardSafe(IndexService.java:198)&#xA;    at org.elasticsearch.action.admin.indices.stats.TransportIndicesStatsAction.shardOperation(TransportIndicesStatsAction.java:98)&#xA;    at org.elasticsearch.action.admin.indices.stats.TransportIndicesStatsAction.shardOperation(TransportIndicesStatsAction.java:47)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.onShardOperation(TransportBroadcastByNodeAction.java:395)&#xA;    ... 7 more&#xA;[2015-10-22 10:24:39,980][DEBUG][action.admin.indices.stats] [eu4] [indices:monitor/stats] failed to execute operation for shard [[logs][4], node[XzHqhAC-Rmm4bOwD7Jxn5w], [R], v[12], s[INITIALIZING], a[id=wS-A9m3GSnWRTsuioUXt9w], unassigned_info[[reason=REPLICA_ADDED], at[2015-10-22T08:21:03.653Z]], expected_shard_size[76525]]&#xA;[logs][[logs][4]] BroadcastShardOperationFailedException[operation indices:monitor/stats failed]; nested: IllegalIndexShardStateException[CurrentState[RECOVERING] operations only allowed when shard state is one of [POST_RECOVERY, STARTED, RELOCATED]];&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.onShardOperation(TransportBroadcastByNodeAction.java:399)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.messageReceived(TransportBroadcastByNodeAction.java:376)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.messageReceived(TransportBroadcastByNodeAction.java:365)&#xA;    at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:350)&#xA;    at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)&#xA;    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&#xA;    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&#xA;    at java.lang.Thread.run(Thread.java:745)&#xA;Caused by: [logs][[logs][4]] IllegalIndexShardStateException[CurrentState[RECOVERING] operations only allowed when shard state is one of [POST_RECOVERY, STARTED, RELOCATED]]&#xA;    at org.elasticsearch.index.shard.IndexShard.readAllowed(IndexShard.java:957)&#xA;    at org.elasticsearch.index.shard.IndexShard.acquireSearcher(IndexShard.java:791)&#xA;    at org.elasticsearch.index.shard.IndexShard.docStats(IndexShard.java:612)&#xA;    at org.elasticsearch.action.admin.indices.stats.CommonStats.&lt;init&gt;(CommonStats.java:131)&#xA;    at org.elasticsearch.action.admin.indices.stats.TransportIndicesStatsAction.shardOperation(TransportIndicesStatsAction.java:165)&#xA;    at org.elasticsearch.action.admin.indices.stats.TransportIndicesStatsAction.shardOperation(TransportIndicesStatsAction.java:47)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.onShardOperation(TransportBroadcastByNodeAction.java:395)&#xA;    ... 7 more&#xA;[2015-10-22 10:24:44,977][DEBUG][action.admin.indices.stats] [eu4] [indices:monitor/stats] failed to execute operation for shard [[logs][4], node[XzHqhAC-Rmm4bOwD7Jxn5w], [R], v[12], s[INITIALIZING], a[id=wS-A9m3GSnWRTsuioUXt9w], unassigned_info[[reason=REPLICA_ADDED], at[2015-10-22T08:21:03.653Z]], expected_shard_size[76525]]&#xA;[logs][[logs][4]] BroadcastShardOperationFailedException[operation indices:monitor/stats failed]; nested: IllegalIndexShardStateException[CurrentState[RECOVERING] operations only allowed when shard state is one of [POST_RECOVERY, STARTED, RELOCATED]];&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.onShardOperation(TransportBroadcastByNodeAction.java:399)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.messageReceived(TransportBroadcastByNodeAction.java:376)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.messageReceived(TransportBroadcastByNodeAction.java:365)&#xA;    at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:350)&#xA;    at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)&#xA;    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&#xA;    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&#xA;    at java.lang.Thread.run(Thread.java:745)&#xA;Caused by: [logs][[logs][4]] IllegalIndexShardStateException[CurrentState[RECOVERING] operations only allowed when shard state is one of [POST_RECOVERY, STARTED, RELOCATED]]&#xA;    at org.elasticsearch.index.shard.IndexShard.readAllowed(IndexShard.java:957)&#xA;    at org.elasticsearch.index.shard.IndexShard.acquireSearcher(IndexShard.java:791)&#xA;    at org.elasticsearch.index.shard.IndexShard.docStats(IndexShard.java:612)&#xA;    at org.elasticsearch.action.admin.indices.stats.CommonStats.&lt;init&gt;(CommonStats.java:131)&#xA;    at org.elasticsearch.action.admin.indices.stats.TransportIndicesStatsAction.shardOperation(TransportIndicesStatsAction.java:165)&#xA;    at org.elasticsearch.action.admin.indices.stats.TransportIndicesStatsAction.shardOperation(TransportIndicesStatsAction.java:47)&#xA;    at org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$BroadcastByNodeTransportRequestHandler.onShardOperation(TransportBroadcastByNodeAction.java:395)&#xA;    ... 7 more&#xA;[2015-10-22 14:07:08,773][WARN ][monitor.jvm              ] [eu4] [gc][young][13667][8] duration [1.2s], collections [1]/[1.3s], total [1.2s]/[1.4s], memory [1.9gb]-&gt;[111.4mb]/[15.7gb], all_pools {[young] [1.8gb]-&gt;[15.8mb]/[1.8gb]}{[survivor] [75mb]-&gt;[65.6mb]/[232.9mb]}{[old] [8.6mb]-&gt;[31.4mb]/[13.7gb]}&#xA;</code></pre>&#xA;&#xA;<p>EDIT: extra commands per request in comments</p>&#xA;&#xA;<hr>&#xA;&#xA;<pre><code>GET /_cat/shards?index=rwsnsr1.html&amp;v&#xA;&#xA;index        shard prirep state   docs store ip             node        &#xA;rwsnsr1.html 1     p      STARTED    0  156b 10.81.147.186  eu5         &#xA;rwsnsr1.html 1     r      STARTED    0  156b 10.233.85.45   LENOV27 &#xA;rwsnsr1.html 3     p      STARTED    0  156b 10.81.163.112  eu3         &#xA;rwsnsr1.html 3     r      STARTED    0  156b 10.81.163.129  eu4         &#xA;rwsnsr1.html 2     p      STARTED    0  156b 10.81.147.186  eu5         &#xA;rwsnsr1.html 2     r      STARTED    0  156b 10.242.136.232 eu2         &#xA;rwsnsr1.html 4     r      STARTED    0  156b 10.81.163.112  eu3         &#xA;rwsnsr1.html 4     p      STARTED    0  156b 10.81.163.129  eu4         &#xA;rwsnsr1.html 0     p      STARTED    0  156b 10.233.85.45   LENOV27&#xA;rwsnsr1.html 0     r      STARTED    0  156b 10.242.136.232 eu2    &#xA;</code></pre>&#xA;&#xA;<hr>&#xA;&#xA;<pre><code>GET /_cat/indices?v&#xA;&#xA;health status index               pri rep docs.count docs.deleted store.size pri.store.size &#xA;green  open   logstash-2015.01.30   5   1          3            0     30.9kb         15.5kb &#xA;green  open   lcds                  5   1          0            0      1.5kb           780b &#xA;green  open   .kibana               1   1         26            3    102.3kb         51.1kb &#xA;green  open   flex2gateway          5   1          0            0      1.5kb           780b &#xA;green  open   wvarrr1.html          5   1          0            0      1.5kb           780b &#xA;green  open   webui                 5   1          0            0      1.5kb           780b &#xA;green  open   logstash-2015.01.28   5   1          3            0     39.9kb         19.9kb &#xA;green  open   messagebroker         5   1          0            0      1.5kb           780b &#xA;green  open   spipe                 5   1          0            0      1.5kb           780b &#xA;green  open   veaees1.html          5   1          0            0      1.5kb           780b &#xA;green  open   rwsnsr1.html          5   1          0            0      1.5kb           780b &#xA;green  open   phppath               5   1          0            0      1.5kb           780b &#xA;green  open   scan_vulns            5   1    2139930            0      1.5gb        784.6mb &#xA;green  open   nessus_logs           5   1    1852503            0        1gb        531.1mb &#xA;green  open   blazeds               5   1          0            0      1.5kb           780b &#xA;green  open   ogrnge1.html          5   1          0            0      1.5kb           780b &#xA;green  open   wnoaog1.html          5   1          0            0      1.5kb           792b &#xA;green  open   ips                   5   1      69405         3329     20.7mb         10.3mb &#xA;green  open   enarow1.html          5   1          0            0      1.5kb           780b &#xA;green  open   scan_constant         5   1      72673        22028    623.9mb          325mb &#xA;green  open   gnopgn1.html          5   1          0            0      1.5kb           780b &#xA;green  open   gawvoo1.html          5   1          0            0      1.5kb           780b &#xA;green  open   ssllabs               5   1        183            0    215.6kb        107.8kb &#xA;red    open   logs                  5   1        360            0    474.6kb        243.9kb &#xA;green  open   parngo1.html          5   1          0            0      1.5kb           780b &#xA;green  open   logstash-2015.01.29   5   1         11            0    141.9kb         70.9kb &#xA;green  open   rossae1.html          5   1          0            0      1.5kb           780b &#xA;green  open   perl                  5   1          0            0      1.5kb           780b &#xA;</code></pre>&#xA;&#xA;<hr>&#xA;&#xA;<pre><code>GET /_cat/shards?index=logs&amp;v&#xA;&#xA;index shard prirep state      docs  store ip             node        &#xA;logs  1     p      STARTED      94 78.5kb 10.81.163.112  eu3         &#xA;logs  1     r      STARTED      94 24.5kb 10.242.136.232 eu2         &#xA;logs  3     p      UNASSIGNED                                        &#xA;logs  3     r      UNASSIGNED                                        &#xA;logs  2     r      STARTED      87 63.9kb 10.81.147.186  eu5         &#xA;logs  2     p      STARTED      87 23.1kb 10.233.85.45   LENOV27&#xA;logs  4     p      STARTED      96 65.3kb 10.81.163.129  eu4         &#xA;logs  4     r      STARTED      96 65.2kb 10.242.136.232 eu2         &#xA;logs  0     p      STARTED      83 76.9kb 10.81.147.186  eu5         &#xA;logs  0     r      STARTED      83 76.9kb 10.81.163.112  eu3      &#xA;</code></pre>&#xA;&#xA;<hr>&#xA;&#xA;<pre><code>curl -XGET -s "localhost:9200/_cat/segments?v&amp;h=i,s,p,seg,g,v" |grep ^logs&#xA;&#xA;logs                0 p _u      30 5.2.1&#xA;logs                0 p _v      31 5.2.1&#xA;logs                0 p _w      32 5.2.1&#xA;logs                0 p _x      33 5.2.1&#xA;logs                0 p _y      34 5.2.1&#xA;logs                0 p _z      35 5.2.1&#xA;logs                0 p _10     36 5.2.1&#xA;logs                0 p _11     37 5.2.1&#xA;logs                0 p _12     38 5.2.1&#xA;logs                0 r _k      20 5.2.1&#xA;logs                0 r _v      31 5.2.1&#xA;logs                0 r _w      32 5.2.1&#xA;logs                0 r _x      33 5.2.1&#xA;logs                0 r _y      34 5.2.1&#xA;logs                0 r _z      35 5.2.1&#xA;logs                0 r _10     36 5.2.1&#xA;logs                0 r _11     37 5.2.1&#xA;logs                0 r _12     38 5.2.1&#xA;logs                1 p _14     40 5.2.1&#xA;logs                1 p _15     41 5.2.1&#xA;logs                1 p _16     42 5.2.1&#xA;logs                1 p _17     43 5.2.1&#xA;logs                1 p _18     44 5.2.1&#xA;logs                1 p _19     45 5.2.1&#xA;logs                1 p _1a     46 5.2.1&#xA;logs                1 p _1b     47 5.2.1&#xA;logs                1 p _1c     48 5.2.1&#xA;logs                1 r _1e     50 5.2.1&#xA;logs                2 r _14     40 5.2.1&#xA;logs                2 r _15     41 5.2.1&#xA;logs                2 r _16     42 5.2.1&#xA;logs                2 r _17     43 5.2.1&#xA;logs                2 r _18     44 5.2.1&#xA;logs                2 r _19     45 5.2.1&#xA;logs                2 r _1a     46 5.2.1&#xA;logs                2 p _14     40 5.2.1&#xA;logs                4 p _14     40 5.2.1&#xA;logs                4 p _15     41 5.2.1&#xA;logs                4 p _16     42 5.2.1&#xA;logs                4 p _17     43 5.2.1&#xA;logs                4 p _18     44 5.2.1&#xA;logs                4 p _19     45 5.2.1&#xA;logs                4 p _1a     46 5.2.1&#xA;logs                4 r _14     40 5.2.1&#xA;logs                4 r _15     41 5.2.1&#xA;logs                4 r _16     42 5.2.1&#xA;logs                4 r _17     43 5.2.1&#xA;logs                4 r _18     44 5.2.1&#xA;logs                4 r _19     45 5.2.1&#xA;logs                4 r _1a     46 5.2.1&#xA;</code></pre>&#xA;&#xA;<hr>&#xA;&#xA;<pre><code>{&#xA;   "logs": {&#xA;      "settings": {&#xA;         "index": {&#xA;            "creation_date": "1445537462267",&#xA;            "uuid": "EUzsk149T8-Wo6Qvf_O8Vw",&#xA;            "number_of_replicas": "1",&#xA;            "number_of_shards": "5",&#xA;            "version": {&#xA;               "created": "2000051"&#xA;            }&#xA;         }&#xA;      }&#xA;   }&#xA;}    &#xA;</code></pre>&#xA;