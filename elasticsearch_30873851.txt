30873851
Elasticsearch: How to query using partial phrases in quotation marks
<p>I am trying to implement a search behavior that supports partial phrases. A possible search input could look like this:</p>&#xA;&#xA;<blockquote>&#xA;  <p>example "hello world" elasticsearch</p>&#xA;</blockquote>&#xA;&#xA;<p>Now I want to get all documents, that contain the words <code>example</code> and <code>elasticsearch</code> as well as the phrase <code>hello world</code>.</p>&#xA;&#xA;<p>As this is a very typical use case for searches I was surprised that I couldn't find much on this topic.</p>&#xA;&#xA;<p>I tried several approaches (pattern tokenizer, pattern capture filter) but none of them worked properly. Before I start to implement a custom approach to build a complex query definition programmatically, is there a recommended way to achieve this?</p>&#xA;&#xA;<p>Any help is greatly appreciated!</p>&#xA;
<p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html" rel="nofollow">query_string</a> will do just this.</p>&#xA;&#xA;<pre><code>{&#xA;  "query": {&#xA;    "query_string": {&#xA;      "query": "example \"hello world\" elasticsearch",&#xA;      "default_operator": "AND"&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;