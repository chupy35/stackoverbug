33288915
Is it possible to highlight only match_phrase query?
<p>I have a bool query like this</p>&#xA;&#xA;<pre><code>{&#xA;  "query": {&#xA;    "bool": {&#xA;      "must": [&#xA;        {&#xA;          "terms": {&#xA;            "type": [&#xA;              "bill",&#xA;              "press release"&#xA;            ]&#xA;          }&#xA;        },&#xA;        {&#xA;          "match_phrase": {&#xA;            "title": "health"&#xA;          }&#xA;        }&#xA;      ]&#xA;    }&#xA;  },&#xA;  "highlight": {&#xA;    "fields": {&#xA;      "policy_content": {}&#xA;    }&#xA;  },&#xA;  "sort": [&#xA;    {&#xA;      "publishdate": {&#xA;        "order": "desc"&#xA;      }&#xA;    }&#xA;  ]&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>User is searching for keyword "health" and the keyword gets highlighted but 'bill' and 'press release' also gets highlighted which I don't want.&#xA;How should I address this problem?</p>&#xA;
<p>You can specify the query to use for highlights via <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-highlighting.html#_highlight_query" rel="nofollow">highlight_query</a>.</p>&#xA;&#xA;<p>So you can take advantage of that by updating the highlight aspect of your query to something like this:</p>&#xA;&#xA;<pre><code>"highlight" : {&#xA;    "fields" : {&#xA;        "policy_content" : {&#xA;            "highlight_query" : {&#xA;                "match_phrase" : {&#xA;                    "policy_content" : "health"&#xA;                }&#xA;            }&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;