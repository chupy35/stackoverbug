32389445
How Can I check which field parse error from elastic log
<p>my error log in elasticsearch like that:</p>&#xA;&#xA;<pre><code>[2015-09-04 10:59:49,531][DEBUG][action.bulk              ] [baichebao-node-2] [questions][0] failed to execute bulk item (index) index {[questions][baichebao][AU-WS7qZwHwGnxdqIztg], source[_na_]}&#xA;org.elasticsearch.index.mapper.MapperParsingException: failed to parse&#xA;    at org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:565)&#xA;    at org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:493)&#xA;    at org.elasticsearch.index.shard.IndexShard.prepareCreate(IndexShard.java:466)&#xA;    at org.elasticsearch.action.bulk.TransportShardBulkAction.shardIndexOperation(TransportShardBulkAction.java:418)&#xA;    at org.elasticsearch.action.bulk.TransportShardBulkAction.shardOperationOnPrimary(TransportShardBulkAction.java:148)&#xA;    at org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$PrimaryPhase.performOnPrimary(TransportShardReplicationOperationAction.java:574)&#xA;    at org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$PrimaryPhase$1.doRun(TransportShardReplicationOperationAction.java:440)&#xA;    at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:36)&#xA;    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&#xA;    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&#xA;    at java.lang.Thread.run(Thread.java:745)&#xA;Caused by: org.elasticsearch.ElasticsearchParseException: Failed to derive xcontent&#xA;    at org.elasticsearch.common.xcontent.XContentFactory.xContent(XContentFactory.java:195)&#xA;    at org.elasticsearch.common.xcontent.XContentHelper.createParser(XContentHelper.java:75)&#xA;    at org.elasticsearch.common.xcontent.XContentHelper.createParser(XContentHelper.java:53)&#xA;    at org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:507)&#xA;    ... 10 more&#xA;</code></pre>&#xA;&#xA;<p>and my mapping like that:</p>&#xA;&#xA;<pre><code>{&#xA;            "mappings" : {&#xA;                "baichebao" : {&#xA;                    "dynamic" : false,&#xA;                    "_all" : { "enable" : false },&#xA;                    "_id" : {&#xA;                        "store" : true,&#xA;                        "path" : "id"&#xA;                    },&#xA;                    "properties" : {&#xA;                        "id" : {&#xA;                            "type" : "long"&#xA;                        },&#xA;                        "content" : {&#xA;                            "type" : "string",&#xA;                            "analyzer" : "ik_syno_smart"&#xA;                        },&#xA;                        "uid" : {&#xA;                            "type" : "integer"&#xA;                        },&#xA;                        "all_answer_count" : {&#xA;                            "type" : "integer"&#xA;                        },&#xA;                        "answer_users" : {&#xA;                            "type" : "integer"&#xA;                        },&#xA;                        "best_answer" : {&#xA;                            "type" : "long"&#xA;                        },&#xA;                        "status" : {&#xA;                            "type" : "short"&#xA;                        },&#xA;                        "created_at" : {&#xA;                            "type" : "long"&#xA;                        },&#xA;                        "distrust" : {&#xA;                            "type" : "short"&#xA;                        },&#xA;                        "is_expert" : {&#xA;                            "type" : "boolean"&#xA;                        },&#xA;                        "series_id" : {&#xA;                            "type" : "integer"&#xA;                        },&#xA;                        "is_closed" : {&#xA;                            "type" : "boolean"&#xA;                        },&#xA;                        "closed_at" : {&#xA;                            "type" : "long"&#xA;                        },&#xA;                        "tags" : {&#xA;                            "type" : "string"&#xA;                        },&#xA;                        "channel_type" : {&#xA;                            "type" : "integer"&#xA;                        },&#xA;                        "channel_sub_type" : {&#xA;                            "type" : "integer"&#xA;                        }&#xA;                    }&#xA;                }&#xA;            }&#xA;        }&#xA;</code></pre>&#xA;&#xA;<p>But I can not find out which field parse error?</p>&#xA;&#xA;<p>How can i resolve this problem?</p>&#xA;
<p>This error typically indicates that the document that was sent to elasticsearch cannot be identified as JSON or SMILE document by checking the first 20 bytes. For example, you would get this error if you omit the leading "{" in a JSON document:</p>&#xA;&#xA;<pre><code>curl -XPUT localhost:9200/test/doc/1 -d 'I am not a json document'&#xA;</code></pre>&#xA;&#xA;<p>or prepend valid JSON with 20+ whitespace characters:</p>&#xA;&#xA;<pre><code>curl -XPUT localhost:9200/test/doc/1 -d '                    {"foo": "bar"}'&#xA;</code></pre>&#xA;