32208677
ElasticSearch sort by field
<p>i have this query:</p>&#xA;&#xA;<pre><code> GET /_search&#xA;    {&#xA;    "from" : 0, "size" : 30,&#xA;    "query": {&#xA;    "filtered": { &#xA;       "query" : {&#xA;        "query_string": {&#xA;          "query": "((categoria.id:1752) AND (cidadeId:7300)) &#xA;           OR ((categoria.id:1752) and (estadoId:13)) "&#xA;        }&#xA;      }&#xA;    }&#xA;    },&#xA;    "sort": [&#xA;        { "img":   { "order": "desc" } }&#xA;    ]&#xA; }&#xA;</code></pre>&#xA;&#xA;<p>I would like to order by cidadeId = 7300 and then the other but do not know how to do this in the sort</p>&#xA;
<p>I have considered a small example :</p>&#xA;&#xA;<pre><code>PUT test/test/1&#xA;{&#xA;  "categoria.id":1752,&#xA;  "cidadeId":7300&#xA;}&#xA;&#xA;PUT test/test/2&#xA;{&#xA;  "categoria.id":1752,&#xA;  "estadoId":13&#xA;}&#xA;&#xA;PUT test/test/3&#xA;{&#xA;  "categoria.id":175,&#xA;  "cidadeId":1&#xA;  "estadoId":13&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>With the few information you are giving in your answer, I can give you the following solution for ascendant sorting on cidadeId</p>&#xA;&#xA;<pre><code>GET test/_search&#xA;{&#xA;  "from": 0,&#xA;  "size": 30,&#xA;  "query": {&#xA;    "filtered": {&#xA;      "query": {&#xA;        "query_string": {&#xA;          "query": "((categoria.id:1752) AND (cidadeId:7300)) OR ((categoria.id:1752) and (estadoId:13))"&#xA;        }&#xA;      }&#xA;    }&#xA;  },&#xA;  "sort": [&#xA;    {&#xA;      "cidadeId": {&#xA;        "order": "asc"&#xA;      }&#xA;    }&#xA;  ]&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>I hope this will help</p>&#xA;