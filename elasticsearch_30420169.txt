30420169
Elasticsearch wildcard and sort it by how exact the query
<p>I have a document like this </p>&#xA;&#xA;<p><code>[{ name : 'Mark'}, { name : 'Aaron Mark'}, { name : 'Jane'}, { name : 'Mary'}, {'Mark Joseph'}]</code></p>&#xA;&#xA;<p>every time i do a wildcard search of name : 'Mar*" it always return this</p>&#xA;&#xA;<p><code>[{ name : 'Mark'}, {name : 'Aaron Mark'}, { name : 'Mary'}, {name :'Mark Joseph'}]</code></p>&#xA;&#xA;<p>but the result that i want is like this </p>&#xA;&#xA;<p><code>[{name : 'Mark'}, {name:'Mark Joseph'}, {name:'Mary'}, {name:'Aaron Mark'}]</code></p>&#xA;&#xA;<p>Thanks</p>&#xA;
<p>You can try a combination of query as below to get the desired order</p>&#xA;&#xA;<pre><code>"bool": {&#xA;    "should": [&#xA;        {&#xA;            "wildcard": {&#xA;                "name": {&#xA;                    "value": "*Mar*"&#xA;                }&#xA;            }&#xA;        },&#xA;        {&#xA;            "prefix": {&#xA;                "name": {&#xA;                    "value": "Mar*",&#xA;                    "boost": 2&#xA;                }&#xA;            }&#xA;        },           &#xA;        {&#xA;            "term": {&#xA;                "name": {&#xA;                    "value": "Mar",&#xA;                    "boost": 4&#xA;                }&#xA;            }&#xA;        }&#xA;&#xA;    ]&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>This may not exactly give the result as you specified 'coz "Mar*" cannot differentiate between "Mark" and "Mary". But it is to give you an idea about what can be done.</p>&#xA;