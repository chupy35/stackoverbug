32469088
Creating document in elasticsearch
<p>How do I create a document in elastic search?&#xA;I am using curl to create a document. However, I get the following error</p>&#xA;&#xA;<pre><code>{"error":"MapperParsingException[failed to parse]; nested:  JsonParseException[Unexpected character (''' (code 39)): expected a valid value (number, String,    array, object, 'true', 'false' or 'null')\n at [Source: [B@39312db4; line: 1, column: 2]]; ","status":400}&#xA;</code></pre>&#xA;&#xA;<p>This is the CURL command</p>&#xA;&#xA;<pre><code>curl -XPUT localhost:9200/hello1/equipment/1 -d '{"hi":"val1"}'&#xA;</code></pre>&#xA;
<p>You should try this by enclosing single inverted comma '<a href="http://localhost:9200/hello1/equipment/1" rel="nofollow">http://localhost:9200/hello1/equipment/1</a>' instead of localhost:9200/hello1/equipment/1....It should work!</p>&#xA;&#xA;<p>So appropriate way to create document is, First of all you need to create an index, So in your case in order to put document steps are following:</p>&#xA;&#xA;<p>Create an index</p>&#xA;&#xA;<pre><code>curl -XPUT 'http://localhost:9200/hello1'&#xA;</code></pre>&#xA;&#xA;<p>Create an mapping ( If you won't provide, it will create dynamically)</p>&#xA;&#xA;<pre><code>curl -XPUT 'http://localhost:9200/hello1/equipment/_mapping' -d '{"equipment":{"text":{"type":string}}"}'&#xA;</code></pre>&#xA;&#xA;<p>Putting document</p>&#xA;&#xA;<pre><code>curl -XPUT 'http://localhost:9200/hello1/equipment/1' -d '{"hi":"val1"}'&#xA;</code></pre>&#xA;
<p><strong>there is no need to create index and mapping separately for this</strong>. I think you are trying to create by command line (cmd prompt of windows etc).</p>&#xA;&#xA;<p>use this statement:</p>&#xA;&#xA;<pre><code>curl -XPUT "http://localhost:9200/hello1/equipment/1" -d"{\"hi\":\"val1\"}"&#xA;</code></pre>&#xA;&#xA;<p>In cmd prompt quoting character is <code>"</code> hence in place of <code>'</code> you will have to use double quotes to quote and inside the json body you have to <strong>escape</strong> your double quotes using <code>\</code> to tell prompt <strong>not to treat them as quotes</strong>.</p>&#xA;