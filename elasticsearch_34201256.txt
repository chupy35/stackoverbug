34201256
How about the performance by using date or int in ElasticSearch?
<p>I have an index with 20million docs. The index have 4 fields like this:</p>&#xA;&#xA;<pre><code>id &#xA;title &#xA;type &#xA;created_time&#xA;</code></pre>&#xA;&#xA;<p>I query this index and sort by <code>created_time</code>. And here is my question:</p>&#xA;&#xA;<p>What's the difference by using <code>created_time</code> as date or timestamp? Since there isn't timestamp in ES, I use int to describe <code>created_time</code>.</p>&#xA;&#xA;<p>Thank you.</p>&#xA;
<p>There are many advantages of using a <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/date.html" rel="nofollow"><code>date</code> type</a> for <code>created_time</code> instead of an integer:</p>&#xA;&#xA;<ol>&#xA;<li>you'll be able to make powerful <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-datehistogram-aggregation.html" rel="nofollow"><code>date_histogram</code></a> and <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-daterange-aggregation.html" rel="nofollow"><code>date_range</code></a> aggregations on that field</li>&#xA;<li>you'll be able to properly chart your documents on the Kibana timeline</li>&#xA;<li>you'll be able to use <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/date-math-index-names.html?q=date%20math" rel="nofollow">date math in index names</a> if you ever want/need to create daily/weekly/monthly indices</li>&#xA;<li>you'll be able to use <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/common-options.html#date-math" rel="nofollow">date math</a> in <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-range-query.html?q=range%20query#ranges-on-dates" rel="nofollow"><code>range</code> queries</a></li>&#xA;<li>you'll be able to use powerful groovy date math in scripts (query, aggregation and/or sorting)</li>&#xA;</ol>&#xA;&#xA;<p>Note, however, that since date are stored as long, you can still specify your <code>created_time</code> field as a <code>date</code> field, but send it as a long (= milliseconds since the epoch) or as an integer (= seconds since the epoch) timestamp and the field will still be considered as a date and benefit from all the goodies I enumerated above.</p>&#xA;