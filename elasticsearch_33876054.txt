33876054
disable _ttl for old documents
<p>I have an index and enabled automatic retention of documents using the "_ttl"-feature. The ttl works as a charm but it has been discovered that the data was quite valuable and has to be kept.</p>&#xA;&#xA;<p>I've tried to make a snapshot and then restore it but with no luck.&#xA;My last resort would be to fetch all documents and re-insert them, but that is a bit cumbersome. Can I disable _ttl in any nicer way for my old documents? </p>&#xA;&#xA;<p>Elasticsearch version: 1.7.3</p>&#xA;
<p>It seems that <code>IndicesTTLService</code> class has a property called <code>index.ttl.disable_purge</code> (<a href="https://github.com/elastic/elasticsearch/blob/dcfdc0dbf32f766aba2af5c0e5fd7f2d302f4af2/core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java#L70" rel="nofollow">link to the code</a>). Try to set that property to true. If you don't know how to update indices settings <a href="https://www.elastic.co/guide/en/elasticsearch/reference/1.7/indices-update-settings.html" rel="nofollow">this is the link to the api doc</a></p>&#xA;&#xA;<p>A plan B would be set the refresh interval (property <code>indices.ttl.interval</code>) to a really big value.</p>&#xA;