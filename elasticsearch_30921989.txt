30921989
ElasticSearch - Get extra field in aggregation
<p>I am trying to get extra field with aggregation. Below is the query&#xA;GET /iacmpi/_search?_source=false</p>&#xA;&#xA;<pre><code>{    &#xA;  "query": {        &#xA;        "match": {            &#xA;            "Document_Type": "INVOICEDoc"&#xA;        }&#xA;    },&#xA;  "aggs": {&#xA;    "GroupByCDMInvoiceID": {       &#xA;        "terms":{ "field" : "INVOICE_ID" },&#xA;        "aggs":{&#xA;            "LatestVersion":{&#xA;                "max":{&#xA;                "field":"DocVersion"&#xA;                }&#xA;        }        &#xA;        }&#xA;  }&#xA;}&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>So at the level of INVOICE_ID field aggregation, i need to fetch one more field 'NAME'. I dont want that in query part as it will show me all hits and i have to traverse the hits and get a match.</p>&#xA;&#xA;<p>Is it possible?</p>&#xA;&#xA;<p>Thanks,&#xA;Sameer</p>&#xA;
<p>I think <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-top-hits-aggregation.html" rel="nofollow">top hits</a> is what you're looking for.</p>&#xA;