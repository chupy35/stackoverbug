32633354
Is there a way to instruct Elasticsearch to only return matches from one node
<p>We are designing a large framework around Elasticsearch and are investigating a few options. </p>&#xA;&#xA;<p>For some complex analysis jobs, we are looking for a way to retrieve data from only the currently connected Elasticsearch node, i.e. only data from the primary shard on the node that I am connected to via the client or no result if there is no primary shard located on this node?</p>&#xA;&#xA;<p>Is this possible via some search attribute or via more specialized setup? </p>&#xA;&#xA;<p>We want to use the normal Elasticsearch functionality as much as possible, naturally, but sometimes there might be queries that need this type of access, is this doable with Elasticsearch?</p>&#xA;
<p>You can restrict the search to specific shards using the <em>preference</em> query string parameter (see <a href="https://www.elastic.co/guide/en/elasticsearch/reference/1.7/search-request-preference.html" rel="nofollow">https://www.elastic.co/guide/en/elasticsearch/reference/1.7/search-request-preference.html</a>).</p>&#xA;&#xA;<p>e.g. by sending your query to <code>http://ES-NODE:9200/INDEXNAME/_search?preference=_shards:1</code></p>&#xA;&#xA;<p>you should be able to restrict the query to shard 1</p>&#xA;