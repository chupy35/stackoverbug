24140773
Could not simulate mouseEnter event using React Test Utils
<p>I was able to simulate click events using React test utils, but I couldn't  simulate mouseEnter events</p>&#xA;&#xA;<p>I added sample component and it tests in jsfiddle to show this problem&#xA;<a href="http://jsfiddle.net/kirana/Uf4e2/2/">http://jsfiddle.net/kirana/Uf4e2/2/</a></p>&#xA;&#xA;<pre><code>var Events = React.createClass({&#xA;    getInitialState: function () {&#xA;        return {&#xA;            event: ''&#xA;        };&#xA;    },&#xA;    clickHandler: function () {&#xA;        this.setState({&#xA;            event: 'click'&#xA;        });&#xA;    },&#xA;    mouseEnterHandler: function () {&#xA;        this.setState({&#xA;            event: 'mouseenter'&#xA;        });&#xA;    },&#xA;    render: function () {&#xA;        return React.DOM.div(null, React.DOM.button({&#xA;            ref: 'button',&#xA;            onClick: this.clickHandler,&#xA;            onMouseEnter: this.mouseEnterHandler&#xA;        }, 'click or mouseenter'), React.DOM.div(null, this.state.event));&#xA;    }&#xA;});&#xA;&#xA;&#xA;var ReactTestUtils = React.addons.TestUtils;&#xA;&#xA;describe('Events', function () {&#xA;    it('should have click event state', function (done) {&#xA;        var events = Events();&#xA;        ReactTestUtils.renderIntoDocument(events);&#xA;        ReactTestUtils.Simulate.click(events.refs.button.getDOMNode());&#xA;        events.state.event.should.equal('click');&#xA;        done();&#xA;    });&#xA;&#xA;    // This test is failing &#xA;    it('should have mouseenter event state', function (done) {&#xA;        var events = Events();&#xA;        ReactTestUtils.renderIntoDocument(events);&#xA;        ReactTestUtils.Simulate.mouseEnter(events.refs.button.getDOMNode());&#xA;        events.state.event.should.equal('mouseenter');&#xA;        done();&#xA;    });&#xA;&#xA;});&#xA;</code></pre>&#xA;&#xA;<p>I couldn't figure out what I am missing to simulate mouseEnter.</p>&#xA;
<p>Currently mouseenter/mouseleave can't be simulated directly using ReactTestUtils; see this open issue:</p>&#xA;&#xA;<p><a href="https://github.com/facebook/react/issues/1297">https://github.com/facebook/react/issues/1297</a></p>&#xA;&#xA;<p>As a workaround for now, you can use <code>SimulateNative.mouseOver</code> and <code>SimulateNative.mouseOut</code> (making sure to specify <code>relatedTarget</code> appropriately on each) and together they will cause React to fire onMouseEnter and onMouseLeave events.</p>&#xA;
<p>This answer is a bit different now as the mouseOver event works in React since v0.11.1 - see <a href="http://qiita.com/kimagure/items/cf5200b0a2a516ca68f8" rel="nofollow">here</a></p>&#xA;&#xA;<p>That means you can now use </p>&#xA;&#xA;<pre><code>ReactTestUtils.Simulate.mouseEnter(events.refs.button.getDOMNode());&#xA;</code></pre>&#xA;&#xA;<p>just as you tried in your example. </p>&#xA;