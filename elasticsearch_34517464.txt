34517464
Terms Include elastic search numeric values
<p>The question I have is if there is a way to use a <code>terms include</code> on a <code>numeric field</code> in an <code>elasticsearch aggregation</code>. </p>&#xA;&#xA;<p>I am using a generic query for multiple fields in elastic search and this is fine as most of my fields are <code>string values</code> and I can specify the unique field with an <code>include</code>. However one of my fields is a <code>numeric value</code> and is throwing this error:</p>&#xA;&#xA;<pre><code>"cannot support regular expression style include/exclude settings as &#xA;they can only be applied to string fields"&#xA;</code></pre>&#xA;&#xA;<p>So my question is, is there a an <strong>equivalent to string matching include</strong> for numeric values? I have tried using a <code>range set</code> from say 9 to 9 to match but it is not returning anything and unfortunately is keyed by the specified range and not the value of the <code>specified field</code> which is what I desire. Any input would be appreciated!</p>&#xA;&#xA;<p>Thanks!</p>&#xA;
<p>You can pass numbers inside an <code>array</code> like <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-terms-aggregation.html#_filtering_values_2" rel="nofollow">this</a> for exact match</p>&#xA;&#xA;<pre><code>{&#xA;  "size": 0,&#xA;  "aggs": {&#xA;    "numeric_agg": {&#xA;      "terms": {&#xA;        "field": "my_field",&#xA;        "include": [1,2,3]&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Hope this helps!</p>&#xA;