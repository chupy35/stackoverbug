31770247
Term Filter in array only consider the last item?
<p>I want to search document in elastic search which has either tag a or b or c with the following query. But it always return the document which has only c and ignore a or b. Any one can help it out?</p>&#xA;&#xA;<pre><code>"filtered": {&#xA;            "filter": {&#xA;                "term": {&#xA;                    "tags": ['a','b','c']&#xA;                }&#xA;            },&#xA;            "query": {&#xA;                match: {&#xA;                    rawText: 'filter'&#xA;                }&#xA;&#xA;            }&#xA;        }&#xA;</code></pre>&#xA;
<p>In Elasticsearch, there is a difference between the term and the terms filter.</p>&#xA;&#xA;<p>Term Filter:</p>&#xA;&#xA;<pre><code>{&#xA;    "constant_score" : {&#xA;        "filter" : {&#xA;            "term" : { "user" : "kimchy"}&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Terms Filter:</p>&#xA;&#xA;<pre><code>{&#xA;    "constant_score" : {&#xA;        "filter" : {&#xA;            "terms" : {&#xA;                "user" : ["kimchy", "elasticsearch"],&#xA;                "execution" : "bool",&#xA;                "_cache": true&#xA;            }&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Try using the terms filter.</p>&#xA;
<blockquote>&#xA;  <p>With <em>term</em>: All given elements must match</p>&#xA;  &#xA;  <p>See the official documentation: <a href="https://www.elastic.co/guide/en/elasticsearch/reference/1.6/query-dsl-term-filter.html" rel="nofollow">https://www.elastic.co/guide/en/elasticsearch/reference/1.6/query-dsl-term-filter.html</a></p>&#xA;</blockquote>&#xA;&#xA;<p>Or this:</p>&#xA;&#xA;<blockquote>&#xA;  <p>With <em>terms</em>: Min. one of the given elements must match</p>&#xA;  &#xA;  <p>See the official documentation: <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-terms-filter.html" rel="nofollow">https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-terms-filter.html</a></p>&#xA;</blockquote>&#xA;&#xA;<p>You asked for term/terms filter. Using term/terms in queries has another interpretation!</p>&#xA;