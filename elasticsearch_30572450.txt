30572450
Get specific fields from index in elasticsearch
<p>I have an index in elastic-search.</p>&#xA;&#xA;<p>Sample structure :</p>&#xA;&#xA;<pre><code>{&#xA;    "Article": "Article7645674712",&#xA;    "Genre": "Genre92231455",&#xA;    "relationDesc": [&#xA;        "Article",&#xA;        "Genre"&#xA;    ],&#xA;    "org": "user",&#xA;    "dateCreated": {&#xA;        "date": "08/05/2015",&#xA;        "time": "16:22 IST"&#xA;    },&#xA;    "dateModified": "08/05/2015"&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>From this index i want to retrieve selected fields: <strong>org</strong> and <strong>dateModified</strong>.</p>&#xA;&#xA;<p>I want result like this</p>&#xA;&#xA;<pre><code>{&#xA;    "took": 265,&#xA;    "timed_out": false,&#xA;    "_shards": {&#xA;        "total": 5,&#xA;        "successful": 5,&#xA;        "failed": 0&#xA;    },&#xA;    "hits": {&#xA;        "total": 28,&#xA;        "max_score": 1,&#xA;        "hits": [&#xA;            {&#xA;                "_index": "couchrecords",&#xA;                "_type": "couchbaseDocument",&#xA;                "_id": "3",&#xA;                "_score": 1,&#xA;                "_source": {&#xA;                    "doc": {&#xA;                        "org": "user",&#xA;                        "dateModified": "08/05/2015"&#xA;                    }&#xA;                }&#xA;            },&#xA;            {&#xA;                "_index": "couchrecords",&#xA;                "_type": "couchbaseDocument",&#xA;                "_id": "4",&#xA;                "_score": 1,&#xA;                "_source": {&#xA;                    "doc": {&#xA;                        "org": "user",&#xA;                        "dateModified": "10/05/2015"&#xA;                    }&#xA;                }&#xA;            }&#xA;        ]&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>How to query elastic-search to get only selected specific fields ?</p>&#xA;
<p>You can retrieve only a specific set of fields in the result hits using the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-uri-request.html#_parameters_4" rel="nofollow">_source</a> parameter like this:</p>&#xA;&#xA;<pre><code>curl -XGET localhost:9200/couchrecords/couchbaseDocument/_search?_source=org,dateModified&#xA;</code></pre>&#xA;&#xA;<p>Or in this format:</p>&#xA;&#xA;<pre><code>curl -XPOST localhost:9200/couchrecords/couchbaseDocument/_search -d '{&#xA;    "_source": ["doc.org", "doc.dateModified"],  &lt;---- you just need to add this&#xA;    "query": {&#xA;        "match_all":{}   &lt;----- or whatever query you have&#xA;    }&#xA;}'&#xA;</code></pre>&#xA;
<p>That's easy. Considering any query of this format :</p>&#xA;&#xA;<pre><code>{&#xA;  "query": {&#xA;  ...&#xA;  },&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>You'll just need to add the <code>fields</code> field into your query which in your case will result in the following :</p>&#xA;&#xA;<pre><code>{&#xA;  "query": {&#xA;  ...&#xA;  },&#xA;  "fields" : ["org","dateModified"]&#xA;}&#xA;</code></pre>&#xA;