34414539
ElasticSearch filtering mulitple documents with same term
<p>I'm not sure how to describe this query so don't know what to look for in the documentation. I will try and demonstrate with a made up example.</p>&#xA;&#xA;<p>You have an inventory of electronic devices with serial numbers&#xA;<code>"serial": "xyz"</code></p>&#xA;&#xA;<p>they all have a status e.g</p>&#xA;&#xA;<p><code>"status": "faulty"</code></p>&#xA;&#xA;<p>or</p>&#xA;&#xA;<p><code>"status": "repaired"</code></p>&#xA;&#xA;<p>There can be multiple documents with the same serial number. E.g.</p>&#xA;&#xA;<p><code>{&#xA; "serial": "xyz"&#xA; "status": "faulty"&#xA; "date": 01-01-2015&#xA;}</code></p>&#xA;&#xA;<p>and then another doc at a later date</p>&#xA;&#xA;<p><code>{&#xA; "serial": "xyz"&#xA; "status": "repaired"&#xA; "date": 01-02-2015&#xA;}</code></p>&#xA;&#xA;<p>So i want to search my index to show me all serial numbers where there exists a document with status "faulty" AND a document with status "repaired". What is the type of query for that?</p>&#xA;
<p>just curious to check if this query satisfies your need:</p>&#xA;&#xA;<pre><code>{&#xA;  "query": {&#xA;    "query_string": {&#xA;      "query": "status:faulty OR status:repaired"&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;