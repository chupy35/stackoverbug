34415098
Elastic search multi index search with different attribute
<p>Facing issue while query with multi index queries. I have multiple indices with different attributes. I want a query which return result from all indices and filter result only if one attribute present. </p>&#xA;&#xA;<p>Currently If attribute is not present it does not return the response for that index. </p>&#xA;&#xA;<p>Example: </p>&#xA;&#xA;<pre><code>FirstIndex {&#xA;    attribute: {&#xA;         type: type1&#xA;         flag: false&#xA;    }&#xA;}&#xA;&#xA;SecondIndex{&#xA;    attribute: {&#xA;         type: type1&#xA;   }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>above flag the <code>attribute:flag</code> is not there so if search is on <code>flag=false</code> it should return both matching as well as <code>secondIndex</code>. Something like outer join in dbms.</p>&#xA;
<p>probably you can give a try with the following query:</p>&#xA;&#xA;<pre><code>{&#xA;  "query": {&#xA;    "filtered": {&#xA;      "filter": {&#xA;        "bool": {&#xA;          "should": [&#xA;            {&#xA;              "exists": {&#xA;                "field": "user"&#xA;              }&#xA;            },&#xA;            {&#xA;              "missing": {&#xA;                "field": "user"&#xA;              }&#xA;            }&#xA;          ]&#xA;        }&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>In the field column add the fields required.</p>&#xA;