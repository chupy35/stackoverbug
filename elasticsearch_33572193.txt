33572193
Elasticsearch: Can a Nested Object Have a _parent?
<p>In elasticsearch, each document can specify a <a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/parent-child-mapping.html" rel="nofollow"><code>_parent</code> document, creating a one-to-many relationship</a>. Can the same relationship be created with nested documents?</p>&#xA;&#xA;<p>It does not appear so. Below are commands that create an index, with a mapping that has a <code>_parent</code> defined for a nested property. After executing these commands, the mapping is successfully created, but the <code>_parent</code> relationship is not. Am I doing something wrong or is this not possible?</p>&#xA;&#xA;<pre><code>curl -XPUT localhost:9200/my_index&#xA;curl -XPUT localhost:9200/my_index/_mapping/new_obj -d '{&#xA;  "new_obj" : {&#xA;    "properties" : {&#xA;      "my_prop" : { "type" : "string"},&#xA;      "my_nested_prop" : {&#xA;        "type" : "nested",&#xA;        "_parent" : { "type" : "new_obj"},&#xA;        "properties" : {&#xA;          "amount" : { "type" : "integer" },&#xA;          "description" : { "type" : "string" }&#xA;        }&#xA;      }&#xA;&#xA;    }&#xA;  }&#xA;}'&#xA;</code></pre>&#xA;