33153449
Elastic aggregate on multiple value
<p>I've a Elastic index <code>Posts</code> where I've a nested field <code>Tags</code> then I've an index <code>Category</code> which also have a nested field <code>tags</code>. </p>&#xA;&#xA;<p>Is there a way to find the number of <code>Posts</code> connected to each <code>Category</code> via <code>tags</code> ? </p>&#xA;&#xA;<p>To be clear, for each category I need the number of the post that have at least one tags that the category has. </p>&#xA;&#xA;<p><code>PostA</code> has <code>Tag3</code><br>&#xA;<code>PostB</code> has <code>Tag2</code><br>&#xA;<code>PostC</code> has <code>Tag1</code>, <code>Tag3</code>  </p>&#xA;&#xA;<p><code>Cat1</code> has <code>Tag1</code><br>&#xA;<code>Cat2</code> has <code>Tag2</code>, <code>Cat3</code></p>&#xA;&#xA;<p>So &#xA;<code>Cat1</code> has 1 post<br>&#xA;<code>Cat2</code> has 3 post (1 from <code>Tag2</code> and 2 from <code>Tag3</code>) </p>&#xA;