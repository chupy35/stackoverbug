30890533
How to have multiple regex based on or condition in elasticsearch?
<p>I want to get all <code>000ANT</code> and <code>0BBNTA</code> from id, is there something similar to <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-terms-filter.html" rel="nofollow">terms</a> which works with regexp or is there any other way? Otherwise I will have to query elasticsearch for each item say 000ANT and 0BBNTA. Please help.</p>&#xA;&#xA;<p>Below is something that I am trying out for 1 i.e., <code>000ANT</code> but I also want to have a or condition so regex can also match <code>0BBNTA</code>.</p>&#xA;&#xA;<pre><code>GET dc/ma/_search&#xA;{&#xA;   "fields": [&#xA;       "host"&#xA;    ],&#xA;   "filter": {&#xA;      "bool": {&#xA;         "must": [&#xA;            {&#xA;               "regexp": {&#xA;                  "_uid": {&#xA;                     "value": ".*000ANT.*"&#xA;                  }&#xA;               }&#xA;            }&#xA;         ]&#xA;      }&#xA;   }&#xA;}&#xA;</code></pre>&#xA;
<p>Use a <code>should</code> instead of a <code>must</code>:</p>&#xA;&#xA;<pre><code>{&#xA;   "fields": [&#xA;       "host"&#xA;    ],&#xA;   "filter": {&#xA;      "bool": {&#xA;         "should": [&#xA;            {&#xA;               "regexp": {&#xA;                  "_uid": {&#xA;                     "value": ".*000ANT.*"&#xA;                  }&#xA;               }&#xA;            },&#xA;            {&#xA;               "regexp": {&#xA;                  "_uid": {&#xA;                     "value": ".*0BBNTA.*"&#xA;                  }&#xA;               }&#xA;            }&#xA;         ]&#xA;      }&#xA;   }&#xA;}&#xA;</code></pre>&#xA;