33804359
Elasticsearch crashes when updated data path
<p>Elasticsearch setup works fine with default configurations.&#xA;  But when updated its path.data setting from elasticsearch.yml file it crashes with below error</p>&#xA;&#xA;<pre><code>[2015-11-19 12:39:56,194][ERROR][bootstrap                ] Exception&#xA;java.lang.IllegalStateException: Unable to access 'path.data' (/home/hadoop/bigdata/data/elasticsearch)&#xA;        at org.elasticsearch.bootstrap.Security.addPath(Security.java:197)&#xA;        at org.elasticsearch.bootstrap.Security.createPermissions(Security.java:170)&#xA;        at org.elasticsearch.bootstrap.Security.configure(Security.java:100)&#xA;        at org.elasticsearch.bootstrap.Bootstrap.setupSecurity(Bootstrap.java:181)&#xA;        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:159)&#xA;        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:270)&#xA;        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:35)&#xA;Caused by: java.nio.file.AccessDeniedException: /home/hadoop/bigdata/data&#xA;        at sun.nio.fs.UnixException.translateToIOException(UnixException.java:84)&#xA;        at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)&#xA;        at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)&#xA;        at sun.nio.fs.UnixFileSystemProvider.checkAccess(UnixFileSystemProvider.java:308)&#xA;        at java.nio.file.Files.createDirectories(Files.java:702)&#xA;        at org.elasticsearch.bootstrap.Security.ensureDirectoryExists(Security.java:218)&#xA;        at org.elasticsearch.bootstrap.Security.addPath(Security.java:195)&#xA;        ... 6 more&#xA;</code></pre>&#xA;&#xA;<p>I have copied elasticsearch directory from /var/lib location with preserved mode. But no success.&#xA;Can anybody please help me to come out of this error</p>&#xA;&#xA;<p>Thanks,&#xA;Sanjay Bhosale</p>&#xA;
<p>This error is coming because of not setting permissions for user "elasticsearch" to access the folder.</p>&#xA;&#xA;<p>Try making "elasticsearch" user(default user of elasticsearch) the owner of the folder using below commands -</p>&#xA;&#xA;<pre><code>sudo chown elasticsearch: /home/hadoop/bigdata/data/elasticsearch&#xA;</code></pre>&#xA;