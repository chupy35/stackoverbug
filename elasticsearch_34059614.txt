34059614
range query using date intervals
<p>There is a document with timestamp as <code>2015-05-18T19:08:35Z</code>. This is correctly returned in the following query.&#xA;But if I increase the time interval from 5 minutes to 10 minutes the same row does not show up in the results.</p>&#xA;&#xA;<pre><code>curl -XGET "http://localhost:9200/enwiki_content/page/_search?&amp;pretty=true" -d' {&#xA;  "query": {&#xA;    "range": {&#xA;      "timestamp": {&#xA;        "gte": "2015-05-18T19:04:00Z",&#xA;        "lte": "2015-05-18T19:09:00Z"&#xA;      }&#xA;    }&#xA;}  } ' &gt; out2.txt&#xA;&#xA;&#xA;&#xA;curl -XGET "http://localhost:9200/enwiki_content/page/_search?&amp;pretty=true" -d' {&#xA;  "query": {&#xA;    "range": {&#xA;      "timestamp": {&#xA;        "gte": "2015-05-18T19:01:00Z",&#xA;        "lte": "2015-05-18T19:09:00Z"&#xA;      }&#xA;    }&#xA;}  } ' &gt; out2.txt&#xA;</code></pre>&#xA;&#xA;<p>The second query above should return all the rows from first query + any other matching rows. Right?&#xA;(This is wikipedia 5 million data (more than 100 GB) if that matters.)</p>&#xA;
<p>The reason is because the second query probably returns more results and you're only getting the first 10 (by default). </p>&#xA;&#xA;<p>Try increasing the size of the second query and you should get the expected record.</p>&#xA;&#xA;<pre><code>curl -XGET "http://localhost:9200/enwiki_content/page/_search?&amp;pretty=true" -d' {&#xA;  "size": 100,              &lt;--- add this line&#xA;  "query": {&#xA;    "range": {&#xA;      "timestamp": {&#xA;        "gte": "2015-05-18T19:01:00z",&#xA;        "lte": "2015-05-18T19:09:00z"&#xA;      }&#xA;    }&#xA;}  } ' &gt; out2.txt&#xA;</code></pre>&#xA;&#xA;<p>or</p>&#xA;&#xA;<pre><code>                                                             add size&#xA;                                                                |&#xA;                                                                V&#xA;curl -XGET "http://localhost:9200/enwiki_content/page/_search?size=100&amp;pretty=true" -d' {&#xA;  "query": {&#xA;    "range": {&#xA;      "timestamp": {&#xA;        "gte": "2015-05-18T19:01:00z",&#xA;        "lte": "2015-05-18T19:09:00z"&#xA;      }&#xA;    }&#xA;}  } ' &gt; out2.txt&#xA;</code></pre>&#xA;