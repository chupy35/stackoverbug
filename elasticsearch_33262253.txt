33262253
Data corruption on 1 node, unassigned shards
<p>I have an index on 5 nodes with 2 shards on each, all shards are primary, without replica. Some hours ago one node failed and I loose all data stored on it. Cluster became red, all shards from this node become unassigned. When I turned on failed node, node joined to the cluster, but nothing happened and shards were unassigned (I've expected they will become empty and cluster will become green with empty shards rather then they stay unassigned and cluster stays red).</p>&#xA;&#xA;<p>I wonder how I can make a cluster green without recreating index(so I do not want to loose other 80% of data)?</p>&#xA;&#xA;<p>In logs I see </p>&#xA;&#xA;<ul>&#xA;<li>"...marking and sending shard failed due to [failed recovery]"</li>&#xA;<li>"failed to send failed shard to ... (master)"</li>&#xA;</ul>&#xA;&#xA;<p>And then normal node startup info...</p>&#xA;