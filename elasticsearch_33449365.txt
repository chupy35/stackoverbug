33449365
How to filter using any of the full text queries?
<p>I've tried numerous ways to filter using a full text query, but to no avail.&#xA;Here's what I've attempted:</p>&#xA;&#xA;<pre><code>{&#xA;    "_source": "_id",&#xA;    "query": {&#xA;        "filtered": {&#xA;            "multi_match": {&#xA;                "query": "test search query",&#xA;                "fields": ["title"]&#xA;            },&#xA;            "filter": {&#xA;                "term": {"user_id": "1"}&#xA;            }&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;
<p>The <a href="https://www.elastic.co/guide/en/elasticsearch/reference/1.7/query-dsl-filtered-query.html" rel="noreferrer"><code>filtered</code> query</a> takes a <code>filter</code> and a <code>query</code>, you're missing a <code>query</code> part which wraps your <code>multi_match</code>:</p>&#xA;&#xA;<pre><code>{&#xA;    "_source": "_id",&#xA;    "query": {&#xA;        "filtered": {&#xA;            "query": {               &lt;-- add this&#xA;                "multi_match": {&#xA;                    "query": "test search query",&#xA;                    "fields": ["title"]&#xA;                }&#xA;            },&#xA;            "filter": {&#xA;                "term": {"user_id": "1"}&#xA;            }&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;