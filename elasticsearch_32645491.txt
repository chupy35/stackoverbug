32645491
How to avoid elasticsearch break value up into individual terms
<p>There has a field used to sort, and the value likes <code>a-b-c</code>, but I sort by this field, it does not work.</p>&#xA;&#xA;<p>Here is some response</p>&#xA;&#xA;<pre><code>{&#xA;  "msg":"a-b-c",&#xA;  "ti":"b18265be-67a0-4fa7-974f-8198edd1252a"},&#xA;  "sort":["c"]&#xA;} &#xA;</code></pre>&#xA;
<p>Create a sub-field for <code>msg</code> which will be not analyzed or using <code>keyword</code> analyzer. Then, when sorting use the sub-field.</p>&#xA;&#xA;<p>Something like this:</p>&#xA;&#xA;<pre><code>{&#xA;  "mappings": {&#xA;    "test": {&#xA;      "properties": {&#xA;        "msg": {&#xA;          "type": "string",&#xA;          "fields": {&#xA;            "raw": {&#xA;              "type": "string", &#xA;              "analyzer": "keyword" &#xA;            }&#xA;          }&#xA;        }&#xA;</code></pre>&#xA;&#xA;<p>And when sorting:</p>&#xA;&#xA;<pre><code>GET /test/test/_search&#xA;{&#xA;  "sort": [&#xA;    {&#xA;      "msg.raw": {&#xA;        "order": "asc"&#xA;      }&#xA;    }&#xA;  ]&#xA;</code></pre>&#xA;