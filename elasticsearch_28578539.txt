28578539
Per user behavior based scoring in Elasticsearch
<p>We do understand the behavior of user by analyzing the tags he usually search for.&#xA;Now we need to give higher precedence for such tags for these users. I would like to know how we can achieve this using Elasticsearch in an elegant manner.</p>&#xA;
<p>Well the best approach for this would be to </p>&#xA;&#xA;<ol>&#xA;<li>Analyse the behavior of the user</li>&#xA;<li>See which all keywords are of his interests</li>&#xA;<li>Maintain one document per user in another index which have all these keywords.</li>&#xA;<li>On the searches for that user , boost the occurrence of these keywords using <a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/query-dsl-function-score-query.html" rel="nofollow">function_score query</a></li>&#xA;<li>You can use terms filter inside boost function to achieve this.Add the boost function under functions in the function score query</li>&#xA;<li>In <a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/query-dsl-terms-filter.html#_terms_lookup_twitter_example" rel="nofollow">terms filter</a> , you can point to this users document and get the values dynamically</li>&#xA;<li>Use custom filter key so that the cache key constructed wont eat too much memory</li>&#xA;</ol>&#xA;&#xA;<p>In this approach , you can avoid lots of code paths in client code.</p>&#xA;