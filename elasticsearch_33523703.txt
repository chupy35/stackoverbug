33523703
How about using body and GET parameters at the same time?
<p>I am passing here some parameters via get to limit query result and also query_string is passed in url. Although, I am also giving request body to filter results.</p>&#xA;&#xA;<pre><code>curl -XGET 'http://localhost:9200/books/fantasy/_search?from=0&amp;size=10&amp;q=%2A' -d '{&#xA;    "query":{&#xA;        "filtered":{&#xA;            "filter":{&#xA;                "exists":{&#xA;                    "field":"speacial.ean"&#xA;                }&#xA;            }&#xA;        }&#xA;    }&#xA;}'&#xA;</code></pre>&#xA;&#xA;<p>I just want to check is this approach okay? is there any downsides doing it like this? Or should I pass any parameters in url when body is used?</p>&#xA;&#xA;<p>This seems to work, but is it bad practice?</p>&#xA;
<p>GET requests are not supposed to use a body ( more information on this <a href="https://stackoverflow.com/questions/978061/http-get-with-request-body">here</a>). While curl might convert your GET requests with a body to POST, many tools might simply drop the body, or it might be sent to Elastic but ignored because you used GET.</p>&#xA;&#xA;<p>When executing this query in my SENSE, I get all the documents instead of just the document matching my query, proving that the body has been ignored:</p>&#xA;&#xA;<pre><code>GET myIndex/_search&#xA;{&#xA;    "query": {&#xA;        "match": {&#xA;            "zlob": true&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>This example shows that you should avoid to use GET to make requests with a body, because the result will depend on the tool you use for your rest queries.</p>&#xA;