32351441
Elastic search Multi_field type optimal search
<p><strong>Usecase:</strong> Typeahead search:&#xA;I have a question with <strong>Multi_field search</strong>, the property with type I have is:</p>&#xA;&#xA;<pre><code>content: {&#xA;       type: "string"&#xA;       fields: {&#xA;             raw: {&#xA;                     type: "string"&#xA;                     index: "not_analyzed"&#xA;                    }&#xA;      }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>So as and when I type I must be able to fetch the results, now <strong>what is optimal way to search against content and content.raw field?</strong></p>&#xA;&#xA;<p>I was thinking of a query like this?  </p>&#xA;&#xA;<pre><code>    "bool" : {&#xA;        "should" : [ &#xA;            "match" : { &#xA;                "content" : { "query" : "post", "operator" : "and" } &#xA;            }, &#xA;            "match" : { &#xA;                "content.raw" : { "query" : "postin", "operator" : "and" } &#xA;            }&#xA;        ]&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Is there any other better ways to search?&#xA;Right now I'm assuming its doing more like a 2 separate column search. Well actually its just one column (analyzed in 2 ways). &#xA;So I assumed there could be a better way to search the multi_field types. (I know multi-fields are dead, but did not find better term)</p>&#xA;
<p>Yes This is the right way to query,&#xA;<a href="https://discuss.elastic.co/t/search-in-multi-field-type/28516" rel="nofollow">https://discuss.elastic.co/t/search-in-multi-field-type/28516</a>&#xA;I posted the same is elastic and got an answer.</p>&#xA;