28482449
how to run multiple instances of elasticsearch on one host
<p>I have several machines each with 128 GB of ram, each host is running a single instance of Elasticsearch. &#xA;I would like to run another data node on each host and allocate around 30 GB to the jvm heap.</p>&#xA;&#xA;<p>I know I have to create a separate config file .yml and data directory..etc. My question is do I need to modify the service wrapper so that each node will be started/ stopped seperatly?</p>&#xA;&#xA;<p>I am running ES version 1.3 on Centos 6.5</p>&#xA;&#xA;<p>thank you</p>&#xA;
<p>You need to prepare two elasticsearch.yml config files to configure settings accordingly and specify these files when startup up the two nodes.</p>&#xA;&#xA;<pre><code>bin/elasticsearch -Des.config=$ES_HOME/config/elasticsearch.1.yml&#xA;bin/elasticsearch -Des.config=$ES_HOME/config/elasticsearch.2.yml&#xA;</code></pre>&#xA;&#xA;<p>At least the following should be set differently for the two nodes:</p>&#xA;&#xA;<pre><code>http.port&#xA;transport.tcp.port&#xA;path_data&#xA;path_logs&#xA;path_pid&#xA;node.name&#xA;cluster.name&#xA;</code></pre>&#xA;&#xA;<p>The following needs to point to the <strong>other</strong> in both files to allow the nodes to find each other:</p>&#xA;&#xA;<pre><code>discovery.zen.ping.unicast.hosts: '127.0.0.1:9302'&#xA;</code></pre>&#xA;&#xA;<p>See <a href="https://codeascraft.com/2014/12/04/juggling-multiple-elasticsearch-instances-on-a-single-host/" rel="nofollow noreferrer">this blog</a> and <a href="https://discuss.elastic.co/t/can-i-run-multiple-elasticsearch-nodes-on-the-same-machine/67" rel="nofollow noreferrer">this discussion</a></p>&#xA;