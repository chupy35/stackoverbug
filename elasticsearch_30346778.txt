30346778
Can you get dynamic mapping on some object fields?
<p>I have docs of the form:</p>&#xA;&#xA;<pre><code>user:&#xA;  id: 'X'&#xA;  profile: &#xA;    name: 'A B'&#xA;    foo: 'a string' or 3&#xA;</code></pre>&#xA;&#xA;<p>I create an index with</p>&#xA;&#xA;<pre><code>   "mappings": {&#xA;      "users": {&#xA;         "properties": {&#xA;            "profile": {&#xA;               "type": "object",&#xA;               "properties": {&#xA;                  "foo": {&#xA;                     "type": "string"&#xA;                  }&#xA;               }&#xA;            }&#xA;         }&#xA;      }&#xA;   }&#xA;</code></pre>&#xA;&#xA;<p>to coerce the docs that have <code>profile.foo</code> as an int into Strings. When I  ingest docs however, the mapping gets changed to the first doc type, which has a number for <code>profile.foo</code>. How do I get it to not override the mapping I set? Is it necessary to specify all properties of the <code>profile</code> object?</p>&#xA;
<p>I don't know what was wrong, but the answer is yes, you can, and my example should have worked, and works now. </p>&#xA;