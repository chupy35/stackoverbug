29644013
How to (persistently) update the index.number_of_replicas setting in Elasticsearch without restarting the cluster?
<p>In a running Elasticsearch cluster, the index.number_of_replicas setting in the configuration file is 1.</p>&#xA;&#xA;<p>I could update this to 2 on a running cluster, by running</p>&#xA;&#xA;<pre><code># curl -XPUT "http://127.0.0.1:9200/_settings?pretty" \&#xA;   -d '{ "index": {"number_of_replicas":2}}'&#xA;{&#xA;  "acknowledged" : true&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Elasticsearch immediately creates the extra replicas for existing indexes.</p>&#xA;&#xA;<p>However, newly created indexes have only 1 replica. How can the setting be persisted for newly created indexes too?</p>&#xA;
<p>The API you used is to dynamically update the replica settings for existing indices.&#xA;If you want to apply them for the indices to be created in future , a better approach would be to use  index template.&#xA;You can find more information on it <a href="http://www.elastic.co/guide/en/elasticsearch/reference/1.3/indices-templates.html" rel="nofollow">here</a>.</p>&#xA;&#xA;<pre><code>curl -XPUT localhost:9200/_template/template_1 -d '&#xA;{&#xA;    "template" : "*",&#xA;    "settings" : {&#xA;        "number_of_replicas" : 2&#xA;    }&#xA;}'&#xA;</code></pre>&#xA;&#xA;<p>The above should work find for your case.</p>&#xA;