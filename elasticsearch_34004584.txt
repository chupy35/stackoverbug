34004584
Query which will match exact word but not match compound phrases which this word is part of
<p>I have a post town field in my document.</p>&#xA;&#xA;<p>One document is indexed with <code>City</code>.</p>&#xA;&#xA;<p>The second one is indexed with <code>City Station</code>.</p>&#xA;&#xA;<p>Those are different towns.</p>&#xA;&#xA;<p>If I use match or term query with query string "City" I will get both documents as a result. Is there a way to make a query so it returns the documents which contains ONLY this query string? Need a generic way of handling those.&#xA;Comparing scores is not very reliable.</p>&#xA;&#xA;<p>Any help appreciated.</p>&#xA;
<p>If I understand correctly, this can be easily done with <code>mapping</code> your <em>town</em> field with <code>"index" : "not_analyzed"</code> , Then with following query</p>&#xA;&#xA;<pre><code>{&#xA;  "query": {&#xA;    "term": {&#xA;      "town": {&#xA;        "value": "City"&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>will match only <em>city</em> and not <em>city station</em>. Alternatively you could use <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-keyword-analyzer.html?q=keywo" rel="nofollow">keyword analyzer</a> with <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-lowercase-tokenfilter.html?q=lower" rel="nofollow">lowercase token filter</a> to handle case insensitive search</p>&#xA;