31823299
Elasticsearch: Replacement for Fuzzy Like This Query Deprecation
<p>Reference to this <a href="https://www.elastic.co/guide/en/elasticsearch/reference/1.7/query-dsl-flt-query.html">link</a> it said that the Fuzzy Like This (also Fuzzy Like This Query) will be deprecated in ES version > 1.6, and completely remove in version 2.&#xA;I'm using Elasticsearch version 1.5.1 and using a lot of FLT statement in my search query. I would like to upgrade the ES version to the current latest (1.7), but I could not find any suggest about FLT replacement when move to newer version? So I would like to ask, if any. And is it possible to use it when it is deprecated?</p>&#xA;
<p>I found the following recommendation in the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/query-dsl-flt-query.html">Elasticseach reference</a>&#xA;:</p>&#xA;&#xA;<blockquote>&#xA;  <p>The fuzzy_like_this or flt query has been removed. Instead use the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/common-options.html#fuzziness">fuzziness parameter</a> with the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/query-dsl-match-query.html?q=match%20quer">match query</a> or the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/query-dsl-mlt-query.html">More Like This Query</a>. </p>&#xA;</blockquote>&#xA;&#xA;<p>Deprecated means that you can still use this feature without issues as long as you don't upgrade to version 2 or higher. I'm using version 1.7.1 and flt works fine. But the feature will no longer exist in version 2.x. For more details why they decided to remove it you can have a look at the <a href="https://github.com/elastic/elasticsearch/pull/10391">relevant github thread</a>.</p>&#xA;
<p>I've run into the same problem.  I borrowed a solution discussed on github <a href="https://github.com/elastic/elasticsearch/pull/10391" rel="nofollow">https://github.com/elastic/elasticsearch/pull/10391</a></p>&#xA;&#xA;<pre><code>{ &#xA;    "multi_match" : {  &#xA;        "fields" : ["_all"],&#xA;        "query" : "your search text",&#xA;        "fuzziness" : "AUTO"}&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>multi_match has a number of other parameters you can use to improve the result. </p>&#xA;