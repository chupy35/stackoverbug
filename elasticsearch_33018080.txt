33018080
Multiple language support: add all language mappings now or later?
<p>I am doing a web application, which uses Elasticsearch for search and was designed to support multiple languages. In the mapping, I have a few fields that look like this: </p>&#xA;&#xA;<pre><code>"myfield": {"properties": {"en": {}, "zh_TW": {}, "ar": {}, ....}} &#xA;</code></pre>&#xA;&#xA;<p>However, when it is launched, it will support only one language (English). The support for other languages will be added later, and we plan to add support for many languages in the future. </p>&#xA;&#xA;<p>Should I add all possible language codes (such as "en", "zh_TW", ...) in the mapping now (obviously this is a very long list)? Or should I add a language code only when its language is introduced into the system? </p>&#xA;&#xA;<p>For the second approach, what is the extra work or operational impact? Do I have re-index of all documents? What other things I have to know now?</p>&#xA;&#xA;<p>Thanks for any input!</p>&#xA;
<p>Having to reindex the documents is not a concern because you'll have to update the documents anyway to add the content in the new language, won't you?</p>&#xA;&#xA;<p>So, put the mapping for each newly supported language just before putting the first text in that language.</p>&#xA;&#xA;<p>I suggest that you duplicate your fields for each supported language, like:</p>&#xA;&#xA;<pre><code>"myfield_en" : ...,&#xA;"myfield_zh_TW" : ...,&#xA;"myfield_ar" : ...&#xA;</code></pre>&#xA;&#xA;<p>beacuse it's easier to put the mappings. </p>&#xA;&#xA;<p>When you start supporting , say, German, put a mapping with German Analyzer for a new field <code>"myfield_de"</code>. After that, every time you insert or update a document with German translation the German field will be analyzed.</p>&#xA;&#xA;<p>If you have documents without German translation, they're not going to need a reindex.</p>&#xA;&#xA;<p>Conclusion: pointless to put a mapping for a field when you don't have any text to write there yet.</p>&#xA;