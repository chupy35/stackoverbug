31948346
Get documents whose text field contains only a number value in Elasticsearch
<p>Does there exist any query or filter that gives me only the documents where specific text field contains only a number value?</p>&#xA;&#xA;<p>I have a text field (called "guess", feel free to use another name) that contain only one number in most cases ("guess":"333" for example, and not "guess":"34 34")  or free text ("guess":"blah blah blah" for example, and "guess":"34 34" is free text too).</p>&#xA;&#xA;<p>Best Regards!</p>&#xA;
<p>Use a <a href="https://www.elastic.co/guide/en/elasticsearch/reference/1.6/query-dsl-regexp-filter.html" rel="nofollow noreferrer">Regexp Filter</a> (or Query)</p>&#xA;&#xA;<pre><code>{&#xA;    "query": {&#xA;        "filtered": {&#xA;            "query": {&#xA;                "match_all": {}&#xA;            },&#xA;            "filter": {&#xA;                "regexp":{&#xA;                    "guess": "[0-9]*"&#xA;                }&#xA;            }&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>If you need to match more complex number formats, reference <a href="https://stackoverflow.com/questions/5917082/regular-expression-to-match-numbers-with-or-without-commas-and-decimals-in-text">this post</a></p>&#xA;