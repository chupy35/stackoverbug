29514583
FInd a document several times
<p>I have a list of events in a city, and I display for the city all incoming events, sorted by the start date of the event.</p>&#xA;&#xA;<p>Today I need to add a new feature : some events can be repeated over time, for exemple a flea all wednesday and friday during 2 month. In this case, I'll need to display this event X times.</p>&#xA;&#xA;<p>E.g. what should be displayed on the timeline :</p>&#xA;&#xA;<pre><code>The flea - today 2015-04-08 - id = 42&#xA;Justin Bieber concert - today 2015-04-08 - id = 43&#xA;An other concert - thursday 2015-04-09 - id = 44&#xA;The flea - friday 2015-04-10 - id = 42&#xA;</code></pre>&#xA;&#xA;<p>The problem I have is that today, each document in Elasticsearch has the same <code>_id</code> than the one in MySQL.</p>&#xA;&#xA;<p>I know i could stop using <code>_id</code> and add a <code>idEvent</code> field in the mapping, but this whould change a lot of things in the programm. Is there an elegant way to handle this problem ?</p>&#xA;&#xA;<p>Edit :&#xA;Here is a sample of my mapping :</p>&#xA;&#xA;<pre><code>"event": {&#xA;    "properties": {&#xA;        "title": {&#xA;            "type": "string"&#xA;        },&#xA;        "dateStart": {&#xA;            "type": "date",&#xA;            "format": "yyyy-MM-dd"&#xA;        },&#xA;        "dateEnd": {&#xA;            "type": "date",&#xA;            "format": "yyyy-MM-dd"&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>And I wonder if with something like that I would be able to display several times the event in results, according to its <code>dateStart</code> :</p>&#xA;&#xA;<pre><code>"event": {&#xA;    "properties": {&#xA;        "title": {&#xA;            "type": "string"&#xA;        },&#xA;        "dates": {&#xA;            "type": "nested",&#xA;            "properties": {&#xA;                "dateStart": {&#xA;                    "type": "date",&#xA;                    "format": "yyyy-MM-dd"&#xA;                },&#xA;                "dateEnd": {&#xA;                    "type": "date",&#xA;                    "format": "yyyy-MM-dd"&#xA;                }&#xA;            }&#xA;        }&#xA;    }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Regards,</p>&#xA;