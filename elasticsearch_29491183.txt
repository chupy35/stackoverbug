29491183
How to define number of primary and replica shards in elastic search Javascript api?
<p>I wrote some node script to create and populate an index in elastic search (<a href="https://github.com/tgirotto/Elasticsearch" rel="nofollow">https://github.com/tgirotto/Elasticsearch</a>); however, now I want to be able to customise the index by defining the number of primary shards and replica shards. I looked it up in the elastic search javascript api docs, but didn't find anything. Any ideas?</p>&#xA;
<p>It is not possible to change the number of primary shards after having created an index. You can however change the number of replicas per primary shard.</p>&#xA;&#xA;<p><a href="http://www.elastic.co/guide/en/elasticsearch/guide/current/_index_settings.html" rel="nofollow">http://www.elastic.co/guide/en/elasticsearch/guide/current/_index_settings.html</a></p>&#xA;&#xA;<pre><code>PUT /my_temp_index/_settings&#xA;{&#xA;    "number_of_replicas": 1&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>So you will have to carefully determine the number of primary shards you need before creating your index and then do something like this:</p>&#xA;&#xA;<pre><code>curl -XPUT 'http://localhost:9200/twitter/' -d '{&#xA;    "settings" : {&#xA;        "number_of_shards" : 3,&#xA;        "number_of_replicas" : 2&#xA;    }&#xA;}'&#xA;</code></pre>&#xA;&#xA;<p><strong>Edit:</strong> Excuse my reading skills... I thought you were asking for how to make changes after already creating an index, not how to set the shards/replicas beforehand.</p>&#xA;&#xA;<p>Anyway, as you can see above, it is fairly easy to specify the number of replicas/shards. Please consult the definite guide on elasticsearch.org, such as:</p>&#xA;&#xA;<p><a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/indices-create-index.html" rel="nofollow">http://www.elastic.co/guide/en/elasticsearch/reference/current/indices-create-index.html</a></p>&#xA;