26007743
What's the best way to remember instance variables in reactjs
<p>I have a basic class in <code>react</code> that draws a rectangle when I click</p>&#xA;&#xA;<pre><code>Conq.R.Canvas = React.createClass&#xA;&#xA;  displayName: 'Canvas'&#xA;&#xA;  componentDidMount: -&gt;&#xA;    @setState $(@getDOMNode()).offset()&#xA;&#xA;  onMouseDown: (e) -&gt;&#xA;&#xA;    canvas = @getDOMNode()&#xA;    context = canvas.getContext('2d')&#xA;    context.fillRect e.clientX - @state.left, e.clientY - @state.top, 10, 10&#xA;&#xA;  render: -&gt;&#xA;&#xA;    &lt;canvas onMouseDown={@onMouseDown}&gt;&lt;/canvas&gt;&#xA;</code></pre>&#xA;&#xA;<p>It works fine.  Is it typical to store things like <code>offset</code> in state, or should I just set it to <code>this</code> or put it in <code>props</code>?  What's the convention and why?</p>&#xA;&#xA;<p>Don't knock me for storing it, if it wasn't offset, it could be some other value that I store.  My basic question is where do I put local variables that are only used within an instance, and why?</p>&#xA;
<p>It should be state/props if changing it causes either:</p>&#xA;&#xA;<ul>&#xA;<li>render to output a different result</li>&#xA;<li>componentWillUpdate to behave differently</li>&#xA;<li>componentDidUpdate to behave differently</li>&#xA;</ul>&#xA;&#xA;<p>In this case <code>this.top</code> would be fine.</p>&#xA;