33727756
How to get specific sized result from fields?
<p>AS I know that We can control the size of the highlighted fragment.&#xA;But I want to control the size of the specific field result.</p>&#xA;&#xA;<p>ex) &#xA;I can control size highlighted by using <code>fragment_size</code>, <code>number_of_fragments</code>.</p>&#xA;&#xA;<pre class="lang-json prettyprint-override"><code>highlight: {&#xA;    "CONTEXT": [&#xA;        "I am leaving today.I want to be a part of it New York, New York These &lt;b&gt;vagabond&lt;/b&gt; shoes They are"&#xA;    ]&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>But I want to get result as like this;</p>&#xA;&#xA;<pre class="lang-json prettyprint-override"><code>fields: {&#xA;    "CONTEXT": [&#xA;        "I am leaving today.I want to be a part of it New York, New York These vagabond shoes They are longing to stray Right through the very heart of it New York, New York ..."&#xA;    ],&#xA;    "TITLE": [&#xA;         "new york new york"&#xA;    ]&#xA;},&#xA;</code></pre>&#xA;&#xA;<p>Because, Sometimes This context field is too long to display result Web Page.&#xA;So, I want to control size CONTEXT field result.</p>&#xA;
<p>You can do something like the following, but I'd suggest if you can to do this on the client side.</p>&#xA;&#xA;<pre><code>{&#xA;  "settings": {&#xA;    "analysis": {&#xA;      "filter": {&#xA;        "truncate_filter": {&#xA;          "type": "truncate",&#xA;          "length": 20&#xA;        }&#xA;      },&#xA;      "analyzer": {&#xA;        "my_truncate_analyzer": {&#xA;          "type": "custom",&#xA;          "tokenizer": "keyword",&#xA;          "filter": [&#xA;            "truncate_filter"&#xA;          ]&#xA;        }&#xA;      }&#xA;    }&#xA;  }, &#xA;  "mappings": {&#xA;    "test": {&#xA;      "properties": {&#xA;        "context": {&#xA;          "type": "string",&#xA;          "fields": {&#xA;            "truncated": {&#xA;              "type": "string",&#xA;              "analyzer": "my_truncate_analyzer"&#xA;            }&#xA;          }&#xA;        }&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>And in your query you'd need to add a <code>fielddata_fields</code> to see the truncated field:</p>&#xA;&#xA;<pre><code>{&#xA;  "query": {&#xA;    ...&#xA;  }, &#xA;  "fielddata_fields": ["context.truncated"]&#xA;}&#xA;</code></pre>&#xA;