34431743
ElasticSearch Date Math find out what it's calculating
<p>So I would like to know what <code>now-1y</code> is producing as a result. So is it:</p>&#xA;&#xA;<ol>&#xA;<li><code>now - 365days</code></li>&#xA;<li><code>now - 365.25days</code></li>&#xA;<li>now with the year part subtracted, so <code>2014-12-23T08:46:00</code></li>&#xA;</ol>&#xA;&#xA;<p>I've read this <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/common-options.html#date-math" rel="nofollow">documentation</a> but can't find any more information.</p>&#xA;
<p>After some testing it appears that the third proposition is correct (ie "now with the year part subtracted, so 2014-12-23T08:46:00"</p>&#xA;&#xA;<p>If 2 was correct the following example should have return 2 results.&#xA;<a href="https://www.found.no/play/gist/828b4ccb3b8dc9c8a51c" rel="nofollow">example1</a></p>&#xA;&#xA;<p>As 2012 is a leap year. The following example should return 0 result if 1 was correct.&#xA;<a href="https://www.found.no/play/gist/faf92ffe7da4d8e08549" rel="nofollow">example2</a></p>&#xA;&#xA;<p>Note: example only worked as expected when I wrote this answer, in order to make it work for you, you have to update the date field of the indexed document.</p>&#xA;