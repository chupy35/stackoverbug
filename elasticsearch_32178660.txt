32178660
Create Multi-Node Elasticsearch service environment in Centos
<p>I want to create a multi-node elasticsearch environment on my Centos dev machine...RAM not an issue here...</p>&#xA;&#xA;<p>I had search online for the solution and I had conclude to these steps to setup:</p>&#xA;&#xA;<ol>&#xA;<li><p>cd /etc/init.d</p></li>&#xA;<li><p>cp --preserve elasticsearch elasticsearch2</p></li>&#xA;<li><p>Execute: gedit elasticsearch2</p></li>&#xA;<li><p>Edit elasticsearch2 script:</p>&#xA;&#xA;<ul>&#xA;<li>change # elasticsearch to # elasticsearch2</li>&#xA;<li>add node="2" after line prog="elasticsearch"</li>&#xA;<li>change pidfile=/var/run/elasticsearch/${prog}.pid to pidfile=/var/run/elasticsearch/${prog}${node}.pid</li>&#xA;<li>change lockfile=/var/lock/subsys/$prog to lockfile=/var/lock/subsys/$prog$node</li>&#xA;<li>change echo -n $"Starting $prog: " to echo -n $"Starting $prog: (node $node)"</li>&#xA;<li>change echo -n $"Stopping $prog: " to echo -n $"Stopping $prog: (node $node)"</li>&#xA;</ul></li>&#xA;<li><p>Save the file. Execute</p></li>&#xA;</ol>&#xA;&#xA;<p>chkconfig --add elasticsearch2</p>&#xA;&#xA;<ol start="5">&#xA;<li><p>Repeat Step 1 to 4 for every node create.</p></li>&#xA;<li><p>Go to: /etc/elasticsearch</p></li>&#xA;<li><p>cp --preserve elasticsearch.yml elasticsearch2.yml</p></li>&#xA;<li><p>Repeat Step 7 for every node creation. (change to elasticsearch3.yml etc...)</p></li>&#xA;<li><p>Run: service elasticsearch start -Des.config=/etc/elasticsearch/elasticsearch.yml</p></li>&#xA;</ol>&#xA;&#xA;<p>I intend to run ES as service, so far I had create individual init.d file and also yml file, but when I run both service and use HEAD plugin to view my nodes, no matter how many service I start, it'll only have one node...But with all other ES service running...</p>&#xA;&#xA;<p>So may I know how to run multi-node ES? Is my steps wrong?</p>&#xA;&#xA;<p>Side note: If I open 2 service, port 9200 will detect one node and 9201 will detect one node, but what I want is port 9200 detect all my nodes, or is my understanding wrong as well...</p>&#xA;&#xA;<p>Please enlighten me, thank you. </p>&#xA;
<p>They should be on different ports, several instances can't ran on the same port...&#xA;Is the cluster name is same in all configs?</p>&#xA;