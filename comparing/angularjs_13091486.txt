13091486
Angular.js adding values to an modelarray with ng-init
<p>I'm new to Angular and still learning. I read alot about generating static HTML with a CMS but then transform this into Angular Models/Scopes to then process it further and further.</p>&#xA;&#xA;<p>Now I'm trying to add values to a array of a model in the ng-init directive like this:</p>&#xA;&#xA;<pre><code>&lt;div ng-init="art[0].anzahl=3"&gt;...&lt;/div&gt;&#xA;&lt;div ng-init="art[1].anzahl=2"&gt;...&lt;/div&gt;&#xA;&lt;div ng-init="art[2].anzahl=9"&gt;...&lt;/div&gt;&#xA;</code></pre>&#xA;&#xA;<p>But it won't work, does anyone can see my dumb mistake or am I totaly wrong about how I use ng-init?</p>&#xA;&#xA;<p>Here's the link to the complete example: <a href="http://jsfiddle.net/Preexo/xVUty/" rel="nofollow">http://jsfiddle.net/Preexo/xVUty/</a></p>&#xA;&#xA;<p>Thanks for any help in advance :)</p>&#xA;
<p>You'll need to make sure your <code>art</code> array is declared first (uncommenting out your commented code) before you try and set default values using <code>ngInit</code>. See <a href="http://jsfiddle.net/xVUty/2/" rel="nofollow">this fiddle</a> as an example.</p>&#xA;&#xA;<pre><code>$scope.art = [&#xA;    {'anzahl': 0},&#xA;    {'anzahl': 0},&#xA;    {'anzahl': 0}        &#xA;];&#xA;&#xA;$scope.addOne = function(artIndex) {&#xA;    $scope.art[artIndex].anzahl += 1;&#xA;}&#xA;</code></pre>&#xA;&#xA;<p><strong>Update: here are some other options</strong> </p>&#xA;&#xA;<p>1) In case this helps at all with your understanding you can use an <code>ng-repeat</code> and declare default values in your controller code for <code>anzahl</code> like in <a href="http://jsfiddle.net/fzDjr/" rel="nofollow">this fiddle</a>. This will reduce the code in the markup and move the declaration of the model into the controller which can be cleaner depending on what you're going for.</p>&#xA;&#xA;<p>2) If you still wanted to use <code>ngInit</code> you can push each item into the <code>art</code> array in your markup like in <a href="http://jsfiddle.net/HAj3q/" rel="nofollow">this fiddle</a>.</p>&#xA;