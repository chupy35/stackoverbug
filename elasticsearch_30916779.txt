30916779
Elasticsearch Access Log
<p>I'm trying to track down who is issuing queries to an ElasticSearch Cluster.  Elastic doesn't appear to have an access log.</p>&#xA;&#xA;<p>Is there a place where I can find out which IP is hitting the cluster?</p>&#xA;
<p>Elasticsearch doesn't provide any security out of the box, and that is <strong>on purpose and by design</strong>.</p>&#xA;&#xA;<p>So you have a couple solutions out there:</p>&#xA;&#xA;<ol>&#xA;<li><p>Don't let your ES cluster exposed to the open world, but put it <a href="https://stackoverflow.com/questions/26127388/elasticsearch-clustering-behind-ufw-firewall">behind a firewall</a> (i.e. whitelist the hosts that can access ports 9200/9300 on your nodes)</p></li>&#xA;<li><p>Look into the <a href="https://www.elastic.co/products/shield" rel="nofollow noreferrer">Shield plugin</a> for Elasticsearch in order to secure your environment. </p></li>&#xA;<li><p>Put an <a href="http://brudtkuhl.com/securing-elasticsearch" rel="nofollow noreferrer">nginx server</a> in front of your cluster to act as a reverse proxy.</p></li>&#xA;<li><p>Add simple basic authentication with either the <a href="https://github.com/sonian/elasticsearch-jetty" rel="nofollow noreferrer">elasticsearch-jetty plugin</a> or simply the <a href="https://github.com/Asquera/elasticsearch-http-basic" rel="nofollow noreferrer">elasticsearch-http-basic plugin</a>, which also allowws you to whitelist the client IPs that are allowed to access your cluster.</p></li>&#xA;</ol>&#xA;&#xA;<p>If you want to have access logs, you need either 2 or 3, but all solutions above will allow you to secure your ES environment.</p>&#xA;