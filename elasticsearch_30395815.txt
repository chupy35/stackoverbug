30395815
Partial word match does not work with elasticsearch
<p>I've just downloaded version 1.5.2, and created a simple index:</p>&#xA;&#xA;<pre><code>curl 127.0.0.1:9200/relman/users/ -d '{ "name": "ooppoopp" }'&#xA;</code></pre>&#xA;&#xA;<p>But when I search for <code>oo</code> I got empty result:</p>&#xA;&#xA;<pre><code>curl 127.0.0.1:9200/relman/users/_search?q=oo&#xA;{"took":2,"timed_out":false,"_shards":{"total":5,"successful":5,"failed":0},&#xA; "hits":{"total":0,"max_score":null,"hits":[]}}&#xA;</code></pre>&#xA;&#xA;<p>Any ideas? It should work with default configuration</p>&#xA;&#xA;<p>P.S From the mapping it looks like analyzer is active,</p>&#xA;&#xA;<pre><code>{&#xA;   "relman" : {&#xA;      "mappings" : {&#xA;         "users" : {&#xA;            "properties" : {&#xA;               "name" : {&#xA;                  "type" : "string"&#xA;               }&#xA;            }&#xA;         }&#xA;      }&#xA;   }&#xA;}&#xA;</code></pre>&#xA;
<p>As per  <strong><a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/partial-matching.html" rel="nofollow">partial matching</a></strong> documentation you changed your query as </p>&#xA;&#xA;<pre><code>curl -XGET http://localhost:9200/relman/users/_search?q=oo* //first&#xA;</code></pre>&#xA;&#xA;<p>this check query which <strong>starts with oo</strong></p>&#xA;&#xA;<pre><code>curl -XGET http://localhost:9200/relman/users/_search?q=*oo* // second &#xA;</code></pre>&#xA;&#xA;<p>this check query which <strong>contain oo</strong></p>&#xA;&#xA;<p>for example if inserted this </p>&#xA;&#xA;<pre><code>curl -XPOST http://localhost:9200/relman/users/ -d '{ "name": "ppoopp" }'&#xA;</code></pre>&#xA;&#xA;<p>first query return only <code>ooppoopp</code> and second query return both <code>ooppoopp, ppoopp</code> respectively.</p>&#xA;&#xA;<p>Another way to using <strong><a href="https://www.elastic.co/guide/en/elasticsearch/reference/1.4/query-dsl-wildcard-query.html" rel="nofollow">wildcard</a></strong> as </p>&#xA;&#xA;<pre><code>curl -XGET http://localhost:9200/relman/users/_search -d '&#xA;{&#xA;    "query": {&#xA;        "wildcard": {&#xA;            "name": {&#xA;                "value": "oo*" // "*oo*"&#xA;            }&#xA;        }&#xA;    }&#xA;}'&#xA;</code></pre>&#xA;