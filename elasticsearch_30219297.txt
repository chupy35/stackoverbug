30219297
ElasticSearch What analyzer to use for searching code
<p>I'm writing a search tool for searching code but I'm having a hard time finding the right analyzer to use. I've tried doing a whitespace analyzer but you end up with issues where you might have <code>dbo.My_Procedure</code> and searching "my_procedure" should work as well as searching ".My_Procedure". My idea is to split on special characters but store them into their own tokens as well. But then if you write my_procedure as a search it will just look for my, _ and procedure anywhere in the file unless you wrap it in quotes (even though to the user it looks like it's just one word). What approach have people taken for analyzing code?</p>&#xA;
<p>If your code is in Java, according to Java naming conventions your methods and classes should be camel-case so you should not run into names like <code>my_search</code> but rather <code>mySearch</code>.</p>&#xA;&#xA;<p>If that is the case - you can use the (default) <a href="http://www.elastic.co/guide/en/elasticsearch/guide/master/analysis-intro.html" rel="nofollow noreferrer">standard analyzer</a> which uses word boundaries as delimiters for split.</p>&#xA;&#xA;<p>That said, if there's no way around it and you have to consider names like <code>my_search</code> in the tokenizing part, you can implement your own <a href="http://www.elastic.co/guide/en/elasticsearch/reference/1.4/analysis-custom-analyzer.html" rel="nofollow noreferrer">custom analyzer</a>.</p>&#xA;&#xA;<p><a href="https://stackoverflow.com/a/18238269/1057429">This answer</a> shows an example of setting a custom-analyzer.</p>&#xA;