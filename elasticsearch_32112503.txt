32112503
Cross match multiple occurences in elasticsearch
<p>Let's say I have an elastic search data structure like this:</p>&#xA;&#xA;<pre><code>{"sender": "ab",&#xA; "receiver": "cd",&#xA; "tag": "case1"}&#xA;&#xA;{"sender": "ef",&#xA; "receiver": "gh",&#xA; "tag": "case1"}&#xA;&#xA;{"sender": "ab",&#xA; "receiver": "ij",&#xA; "tag": "case2"}&#xA;&#xA;{"sender": "vw",&#xA; "receiver": "xy",&#xA; "tag": "case2"}&#xA;&#xA;{"sender": "xy",&#xA; "receiver": "ab",&#xA; "tag": "case3"}&#xA;&#xA;...&#xA;</code></pre>&#xA;&#xA;<p>Now I want to find all senders or receivers that occur in more than one case. For example, if I query for a "cross match" for <strong>case1</strong>, <strong>case2</strong> and <strong>case3</strong>, I should get <strong>ab</strong> as a result, since <strong>ab</strong> was a sender or receiver in documents of all three cases. </p>&#xA;&#xA;<p>Another example: A cross-match-query for <strong>case2</strong> and <strong>case3</strong> should return <strong>ab</strong> and <strong>xy</strong>, since both appeared as senders or receivers in the specified cases.</p>&#xA;&#xA;<p>How would I query this in elasticsearch - or even better directly in kibana?</p>&#xA;&#xA;<p>Thank you very much :-)</p>&#xA;