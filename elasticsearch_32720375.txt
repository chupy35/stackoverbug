32720375
Elastic Search: score as percentage
<p>Is it possible to make a query for Elastic Search that returns a score as a percentage of the maximum score? Until now it returns a value like <code>"_score": 0.00786336,</code> and also a maximum score like <code>max_score": 0.13435546</code>, so I could try to convert my <strong>result</strong> but I want the result to be already in percentages, so I could use a minimum score, for example of 40 percent.</p>&#xA;&#xA;<p>In short: Is there a way to get the _score in percentages of the max score, or is there another way of setting a minimum score? (seems to be hard because the max_score seems random)</p>&#xA;
<p><code>max_score</code> is not random, it's simply the <code>max</code> of all the scores of the result set from your query.</p>&#xA;&#xA;<blockquote>&#xA;  <p><a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/empty-search.html#_hits" rel="nofollow">The <code>max_score</code> value is the highest <code>_score</code> of any document that matches our query.</a></p>&#xA;</blockquote>&#xA;&#xA;<p>For example, if your <code>_score</code> values are: <code>[0.00786336, 0.0123, 0.0813523, 0.13435546]</code>, then your <code>max_score</code> is <code>0.13435546</code>.</p>&#xA;&#xA;<p>There is also no limit to how high the <code>_score</code> may be based on the relevance of your matches (i.e. it can be in excess of <code>1</code>)</p>&#xA;&#xA;<p>If you're trying to represent a "percentage match" using a ratio of <code>_score</code> from a hit to a <code>max_score</code>, you're going to get unreliable results, especially if you have a lot of low-score hits with little to no relevance, yet the <code>max_score</code> is close to those low scores.</p>&#xA;&#xA;<p>If you're trying to filter out by a minimum score, you should use <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/search-request-min-score.html" rel="nofollow"><code>min_score</code></a></p>&#xA;&#xA;<p>Also see <a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/relevance-intro.html" rel="nofollow">"What is Relevance?"</a></p>&#xA;
<p>One way to do it can be to store the query hashes and the min_score (calculated as a percentage of max score). For example if the max_score is 1.1 the min_score can be 0.44 for that query which can help cut off irrelevant results.</p>&#xA;