31733965
Strange es query string?
<p>My documents are indexed with the following field "fruitName":</p>&#xA;&#xA;<pre><code>pear-fruit&#xA;apple-fruit&#xA;jack-fruit&#xA;</code></pre>&#xA;&#xA;<p>I want to use a QueryString query to be able to look up "pear-fruit". When I enter in my querystring query: "pear-fruit", I do not get any documents back. If I query for "fruit", I get all documents back.</p>&#xA;&#xA;<p>How can I just query for:&#xA;<strong>pear-fruit</strong></p>&#xA;&#xA;<p>to make sure that I only get that one document? Can I "escape" the dash or do something in my query to make it pick up? Or set up some other mapping? Note that fruitName is not analyzed, and is a string.</p>&#xA;
<p>I guess you're doing it like below, and it returns you all documents.</p>&#xA;&#xA;<pre><code>curl -XGET localhost:9200/fruits/fruit/_search?q=pear-fruit&#xA;</code></pre>&#xA;&#xA;<p>Since <code>fruitName</code> is a <code>not_analyzed</code> string, you can simply query it like this (i.e. with double quotes)</p>&#xA;&#xA;<pre><code>curl -XGET localhost:9200/fruits/fruit/_search?q="pear-fruit"&#xA;</code></pre>&#xA;&#xA;<p>or like this (with the field name)</p>&#xA;&#xA;<pre><code>curl -XGET localhost:9200/fruits/fruit/_search?q=fruitName:"pear-fruit"&#xA;</code></pre>&#xA;&#xA;<p>More info about what can be achieved in a <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#_field_names" rel="nofollow">query string query</a></p>&#xA;