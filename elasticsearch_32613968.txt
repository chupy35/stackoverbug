32613968
Paging support for aggregations
<p>Ever had the need, or know how the paging aggregates.</p>&#xA;&#xA;<p>I saw that with sub-aggregate top_hits is possible but I am using the terms > top_hits.</p>&#xA;&#xA;<p>There is an open issue: <a href="https://github.com/elastic/elasticsearch/issues/4915" rel="nofollow">https://github.com/elastic/elasticsearch/issues/4915</a> and apparently the discussion is open, which unfortunately from what I understand is not a definition.</p>&#xA;&#xA;<p>Many people have recommended page on the client side.</p>&#xA;&#xA;<p>Query:</p>&#xA;&#xA;<pre><code>{&#xA;  "size": 0,&#xA;  "sort": [{&#xA;    "_score": {&#xA;      "order": "desc"&#xA;    }&#xA;  }]&#xA;  "query": {&#xA;    "match": {&#xA;      "name": "something"&#xA;    }&#xA;  },&#xA;  "aggs": {&#xA;    "keywords": {&#xA;      "terms": {&#xA;        "field": "supplier",&#xA;        "size": 10&#xA;      },&#xA;      "aggs": {&#xA;        "top_keywords_hits": {&#xA;          "top_hits": {&#xA;            "sort": [{&#xA;              "_score": {&#xA;                "order": "desc"&#xA;              }&#xA;            }],&#xA;            "_source": {&#xA;              "include": ["name", "supplier"]&#xA;            },&#xA;            "size": 1&#xA;          }&#xA;        }&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;