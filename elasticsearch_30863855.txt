30863855
Elasticsearch standard analyser stopwords
<p>I am trying to guess what is the default stopwords list in standard analyzer in elasticsearch. I run version 1.3.1, and it seems to me that the English list is used, because running a wildcard query like this</p>&#xA;&#xA;<pre><code>{&#xA;      "wildcard" : {&#xA;        "name" : {&#xA;          "wildcard" : "*in*"&#xA;        }&#xA;      }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Gives me no results (I sure have documents names containing "in", and they are returned when using not_analyzed mapping). However, on the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/_stopwords.html" rel="nofollow">1.0 breaking changes</a> they say the default is now Empty, and the same is stated in the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-standard-analyzer.html" rel="nofollow">Standard Analyzer documentation for the latest version</a>. On the other hand, when clicking on the given link for more details, i end up to the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-stop-analyzer.html" rel="nofollow">Stop Analyzer documentation</a>, saying that the default is still English.</p>&#xA;&#xA;<p>Any Help? Thanks</p>&#xA;
<p>This would be the list of stopwords for the standard analyzer: <a href="http://grepcode.com/file/repo1.maven.org/maven2/org.apache.lucene/lucene-analyzers-common/4.9.0/org/apache/lucene/analysis/core/StopAnalyzer.java?av=f#50" rel="nofollow">http://grepcode.com/file/repo1.maven.org/maven2/org.apache.lucene/lucene-analyzers-common/4.9.0/org/apache/lucene/analysis/core/StopAnalyzer.java?av=f#50</a></p>&#xA;&#xA;&#xA;&#xA;<pre><code>50   static {&#xA;51     final List&lt;String&gt; stopWords = Arrays.asList(&#xA;52       "a", "an", "and", "are", "as", "at", "be", "but", "by",&#xA;53       "for", "if", "in", "into", "is", "it",&#xA;54       "no", "not", "of", "on", "or", "such",&#xA;55       "that", "the", "their", "then", "there", "these",&#xA;56       "they", "this", "to", "was", "will", "with"&#xA;57     );&#xA;58     final CharArraySet stopSet = new CharArraySet(Version.LUCENE_CURRENT, &#xA;59         stopWords, false);&#xA;60     ENGLISH_STOP_WORDS_SET = CharArraySet.unmodifiableSet(stopSet); &#xA;61   }&#xA;</code></pre>&#xA;&#xA;<p>Elasticsearch source code for <code>standard</code>: <a href="https://github.com/elastic/elasticsearch/blob/v1.3.1/src/main/java/org/elasticsearch/index/analysis/StandardAnalyzerProvider.java#L47" rel="nofollow">https://github.com/elastic/elasticsearch/blob/v1.3.1/src/main/java/org/elasticsearch/index/analysis/StandardAnalyzerProvider.java#L47</a></p>&#xA;&#xA;<p>Which links to Lucene's <code>StandardAnalyzer</code>, which in turn references <code>StopAnalyzer</code>'s stopwords list: <a href="http://grepcode.com/file/repo1.maven.org/maven2/org.apache.lucene/lucene-analyzers-common/4.9.0/org/apache/lucene/analysis/standard/StandardAnalyzer.java?av=f#63" rel="nofollow">http://grepcode.com/file/repo1.maven.org/maven2/org.apache.lucene/lucene-analyzers-common/4.9.0/org/apache/lucene/analysis/standard/StandardAnalyzer.java?av=f#63</a></p>&#xA;