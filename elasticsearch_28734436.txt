28734436
What is the ElasticSearch equivalent for an SQL subquery?
<p>Can you nest queries logically in ElasticSearch, so the output of one query is the input to another query.&#xA;Another, way to ask is how can I chain or pipe queries together?</p>&#xA;&#xA;<p>This should be analogous to the IN operator or subqueries in SQL </p>&#xA;&#xA;<p>i.e.:-&#xA;select au_lname, au_fname, title from &#xA;     (select au_lname, au_fname, au_id from pubs.dbo.authors&#xA;          where state = 'CA')&#xA;or</p>&#xA;&#xA;<p>SELECT Name&#xA;FROM AdventureWorks2008R2.Production.Product&#xA;WHERE ListPrice =&#xA;    (SELECT ListPrice&#xA;     FROM AdventureWorks2008R2.Production.Product&#xA;     WHERE Name = 'Chainring Bolts' );</p>&#xA;
<p>Elasticsearch doesn't support subqueries; you would need to perform your first query, then construct a second query using the results of the first query as an input.</p>&#xA;
<p>That is totally correct, you must programm a subquery in your favorite programming language. An example can be found here:</p>&#xA;&#xA;<p><a href="http://www.sebastianviereck.de/en/elasticsearch-subquery-scoring-optimization/" rel="nofollow noreferrer">http://www.sebastianviereck.de/en/elasticsearch-subquery-scoring-optimization/</a></p>&#xA;
<p>this is not supported in elastic-search you must normalize your data and have all field you need in one setting  </p>&#xA;