31003000
Return list of affected indices from in Elastisearch
<p>I need to write a query which will search across all indices in Elastisearch and return me a list of all indices where at least one document meets query requirements.</p>&#xA;&#xA;<p>For now I`m getting top 2000 documents and distinct them by index name.</p>&#xA;
<p>To search across all indices in the elastcsearch, you can use the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-all-field.html" rel="nofollow"><strong>_all</strong></a> option.</p>&#xA;&#xA;<p>You can try similar to following, to get the indices which gets hits for the query</p>&#xA;&#xA;<pre><code>POST _all/_search&#xA;{&#xA;  "query": {&#xA;    "filtered": {&#xA;      "query": {&#xA;        "query_string": {&#xA;          "query": "you search criteia"&#xA;        }&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Most APIs that refer to an index parameter support execution across multiple indices, using simple test1,test2,test3 notation (or <strong>_all</strong> for all indices)</p>&#xA;&#xA;<p>You can extract the index name from the result set which will be present under <strong>_index</strong></p>&#xA;&#xA;<p>sample result: </p>&#xA;&#xA;<pre><code>"hits": [&#xA;         {&#xA;            "_index": "index-name",&#xA;         }&#xA;       ]&#xA;</code></pre>&#xA;