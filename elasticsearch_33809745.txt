33809745
Elasticsearch filter by unique value
<p>i would like to get only results which have a unique value for a field how can i do it ? </p>&#xA;&#xA;<p>I can count it with </p>&#xA;&#xA;<pre><code>$params ['body'] ['aggs']['test_count'] = array(&#xA;            "cardinality" =&gt; array(&#xA;            "field" =&gt; "id",&#xA;            "precision_threshold"=&gt; 00&#xA;        )&#xA;&#xA;    );&#xA;</code></pre>&#xA;&#xA;<p>but the results still appear how can i set a filter to get only value have a distinct id ? </p>&#xA;
<p>If all you need is the unique values, you can use a <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-terms-aggregation.html" rel="nofollow">terms aggregation</a> to get them.</p>&#xA;&#xA;<p>If you want the full document, the closest thing they have is the top hits aggregation. Refer specifically to the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-top-hits-aggregation.html#_field_collapse_example" rel="nofollow">field collapsing example</a>.</p>&#xA;