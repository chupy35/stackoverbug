33439878
Elasticsearch startup: not available immediately
<p>We have a Docker image which contains and starts Elasticsearch (as well as MySQL, etc.).</p>&#xA;&#xA;<p>The problem is that while <code>services elasticsearch start</code> works and succeeds in roughly 1s (when the container starts), the service isn't available immediately.</p>&#xA;&#xA;<p>When we try to <code>wget</code> the status page immediately after, we get a connection error (Elasticsearch is off). If we do <code>sleep 10</code> then Elasticsearch will be availableâ€¦</p>&#xA;&#xA;<p>This is very confusing:</p>&#xA;&#xA;<ul>&#xA;<li>why isn't Elasticsearch up immediately after <code>services elasticsearch start</code>?</li>&#xA;<li>what can we do (except <code>sleep 10</code>)? what's the proper way to handle that?</li>&#xA;</ul>&#xA;&#xA;<p>Note: there is no data, this is an empty container/elasticsearch. There's only 1 shard.</p>&#xA;