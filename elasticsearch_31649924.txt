31649924
Why does this ElasticSearch scan and scroll returns IndexMissingException
<p>I run the following:</p>&#xA;&#xA;<pre><code>curl -XGET 'http://my_address/my_index/_search?scroll=1m&amp;size=10&amp;search_type=scan' -d '{'query':{'match_all':{}}}'&#xA;</code></pre>&#xA;&#xA;<p>It returns a scroll id (very long), and I then use in the first scroll request:</p>&#xA;&#xA;<pre><code>curl -XGET 'http://my_address/my_index/_search/scroll?scroll=1m' -d '&lt;scroll_id&gt;'&#xA;</code></pre>&#xA;&#xA;<p>It returns an error: {"error":"IndexMissingException[[my_index] missing]","status":404}</p>&#xA;&#xA;<p>I do not know why having this error. I follow the guideline in <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-scroll.html" rel="nofollow">https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-scroll.html</a> step by step.</p>&#xA;&#xA;<p>What is going on?</p>&#xA;
<p>Because your second request (i.e. using the <code>scroll_id</code>) should not take any index and read like this instead:</p>&#xA;&#xA;<pre><code>curl -XGET 'http://my_address/_search/scroll?scroll=1m' -d '&lt;scroll_id&gt;'&#xA;</code></pre>&#xA;