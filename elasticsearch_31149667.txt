31149667
Is there a difference between using a type filter vs specifying doc_type in the url/api?
<p>The title says it all: Is there a difference between using a type filter(s) vs specifying doc_type(s) in the url/api, ie</p>&#xA;&#xA;<pre><code>...&#xA;"filter" : {&#xA;    'type': {&#xA;        'value': 'my_doc_type'&#xA;    }&#xA;}&#xA;....&#xA;</code></pre>&#xA;&#xA;<p>vs </p>&#xA;&#xA;<pre><code>GET /my_index/my_doc_type/_search&#xA;</code></pre>&#xA;&#xA;<p><strong>EDIT</strong>:&#xA;I meant as a <em>filter</em> in a <em>filtered</em> query; however, I'm going to leave the question as is, so that there's more information to be gleaned from the responses.</p>&#xA;
<p>Yes.</p>&#xA;&#xA;<p>Specifying the type in the URL will apply <strong>before</strong> the query is run.</p>&#xA;&#xA;<p>Specifying the type as a filter will apply <strong>after</strong> the query is run.</p>&#xA;&#xA;<p>As a side note, using a filtered query instead of a filter will function similarly to specifying the type in the URL, as it will apply <strong>before</strong> the query is run.</p>&#xA;&#xA;<p>Do be careful with the functionality of Filters vs Filtered queries if you are using facets as they function differently on facets.</p>&#xA;&#xA;<p>Filtered query:</p>&#xA;&#xA;<pre><code>{&#xA;  "query":{&#xA;    "filtered":{&#xA;      "query":{&#xA;        "term":{"name":"franky"}&#xA;      },&#xA;      "filter":{&#xA;        "term":{"age":73}&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Filter:</p>&#xA;&#xA;<pre><code>{&#xA;  "query":{&#xA;    "term":{"name":"franky"}&#xA;  },&#xA;  "filter":{&#xA;    "term":{"age":73}&#xA;  }&#xA;}&#xA;</code></pre>&#xA;