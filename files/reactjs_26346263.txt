26346263
React click handlers and binding this
<p>I have a react component where I am iterating over a list and creating rows. In each row, there is a delete button. When the delete button is clicked, I want to pass a reference to the element in that row.</p>&#xA;&#xA;<pre><code>var TagTable = React.createClass({&#xA;&#xA;        onTagDelete: function(tagName) {&#xA;            this.props.onTagDelete(tagName);&#xA;        },&#xA;&#xA;        render: function () {&#xA;            return R.table({className: "bg-box padded"}, [&#xA;                R.thead({},&#xA;                    R.tr({}, [&#xA;                        R.th({}, ""),&#xA;                        R.th({}, "Tag"),&#xA;                        R.th({}, "Regexes")&#xA;                    ])),&#xA;                R.tbody({},&#xA;                    this.props.tags.map(function (tag) {&#xA;                        return R.tr({}, [&#xA;                            R.td({}, R.button({onClick: function() {this.onTagDelete(tag.name)}.bind(this), // BIND&#xA;                                className: "delete"}, "\u2716")),&#xA;                            R.td({key: "name"}, tag.name),&#xA;                            R.td({key: "regexes"}, tag.regexes.join(", "))]);&#xA;                    }.bind(this))) // BIND&#xA;            ])&#xA;        }&#xA;    }&#xA;);&#xA;</code></pre>&#xA;&#xA;<p>So in order to preserve the this-value in the click-handler; I use bind both for the map() and the click-handler. </p>&#xA;&#xA;<p>Is this the proper way to pass arguments to handlers in React or is there a better way?</p>&#xA;
<p>I'm fairly new to react, but I figured I'd throw this out here to help.</p>&#xA;&#xA;<p>I think you need to change this line,</p>&#xA;&#xA;<pre><code>R.td({}, R.button({onClick: function() {this.onTagDelete(tag.name)}.bind(this), // BIND&#xA;                            className: "delete"}, "\u2716")),&#xA;</code></pre>&#xA;&#xA;<p>to</p>&#xA;&#xA;<pre><code>R.td({}, R.button({onClick: function() {this.onTagDelete.bind(this, tag.name)}, // BIND&#xA;                            className: "delete"}, "\u2716")),&#xA;</code></pre>&#xA;&#xA;<p>I'm pretty sure that this should now pass the tag name to the function. Another way of getting data from the clicked subject is through refs, but with lists of items I don't think this works well because of repeated ref names. So I would just do what you are doing now.</p>&#xA;
<p>You can do less verbose:</p>&#xA;&#xA;<pre><code> R.td({}, R.button({onClick: this.onTagDelete.bind(this, tag.name), // BIND&#xA;                                className: "delete"}, "\u2716")),&#xA;</code></pre>&#xA;