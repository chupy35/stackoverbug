22702664 Elastic search using aggregations instead of facets

I am trying to figure out how I would do the following query, but instead of
using facets use the new aggregation. The reason for my change is then I would
like to take it further and instead of just showing 10 tags, show all tags
with a count over 0.

    
    
    {
        "query" : { "query_string" : {"query" : "T*"} },
        "facets" : {
          "tags" : { "terms" : {"field" : "tags"} }
        }
    }
    

Any help would be greatly appreciated

Most facet types have an equivalent aggregation type. The equivalent of the
`terms` facet type is the [`terms` aggregation
type](http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/search-
aggregations-bucket-terms-aggregation.html).

