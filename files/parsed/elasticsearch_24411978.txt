24411978 Global Script Filter, ElasticSearch

I'm using the following script filter:

    
    
    {
      "query": {
        "filtered": {
          "filter": {
            "and": [
              {
                "or": [
                  {
                    "term": {
                      "states": "co"
                    }
                  }
                ]
              },
              {
    
            "script" : {
                "script" : "count++; count <= 3",
                "params" : {
                    "count" : 0
                }
            }
              }
            ]
          }
    
        }
      }
    }
    

With this query, I'm expecting to get one results back. But since we have 5
shards set up on our ES server, I actually get back 15 results.

Is there a way with a script filter to make the count variable global, or so
that the variable is not reset when searching another shard?

