b'AngularJS is throwing "Error: key.charAt is not a function" on Firefox when $filter is iterating over some kind of strange Object'
b"**Summary**\r\nWhen $filter is used against an array of custom objects, I received this console error in 1.5:\r\nError: key.charAt is not a function\r\ndeepCompare@https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.11/angular.js:20587:16\r\ndeepCompare@https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.11/angular.js:20587:42\r\ndeepCompare@https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.11/angular.js:20587:42\r\ncreatePredicateFn/predicateFn@https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.11/angular.js:20562:12\r\nfilterFilter/<@https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.11/angular.js:20526:12\r\n\r\nAnd in 1.6:\r\nError: key.charAt is not a function\r\ndeepCompare@https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.js:20564:16\r\ndeepCompare@https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.js:20564:42\r\ndeepCompare@https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.js:20564:42\r\ncreatePredicateFn/predicateFn@https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.js:20539:12\r\nfilterFilter/<@https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.js:20503:12\r\nanonymous/fn@https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.js line 15156 > Function:2:489\r\nregularInterceptedExpression@https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.js:16264:55\r\n\r\n\r\n**Steps to repro:**\r\nI saw this bug when iterating over a goog.structs.Map, and noticed that `key` was actually a number. Sorry, I can't reproduce this without figuring out how to pull in closure on plnkr. And it is still hard for me to believe that a `for (var key in obj)` loop can produce non-string keys, so I don't know how else to possibly reproduce it.\r\n\r\nThe best I can say is that this definitely was an issue on >= Angular 1.5 on Firefox (but not Chrome). I'm not sure about IE.\r\n\r\n**Possible fix:**\r\nchecking for `typeof key === 'string'` \r\nhere: https://github.com/angular/angular.js/blob/master/src/ng/filter/filter.js#L229"