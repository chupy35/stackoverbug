28303495
React: Integrate external libraries that have lots of DOM building in js
<p>Some of the non-react libraries I'm using perform some DOM generation with javascript. Ideally, I'd like this to occur in react's render cycle but react doesn't implement some DOM functions.</p>&#xA;&#xA;<p>ie. one library wants to create a fragment for showing a title (using jQuery) which in turn ends up calling document.createDocumentFragment.</p>&#xA;&#xA;<p>A simple work around is to have the library do it's rendering on component mount or update. But I'm trying to render using the virtual DOM. Is there a better approach to re-creating or porting the library?</p>&#xA;
<p>You need a "Portal".&#xA;Take a look at <a href="https://github.com/ryanflorence/react-training/blob/gh-pages/lessons/05-wrapping-dom-libs.md" rel="noreferrer">https://github.com/ryanflorence/react-training/blob/gh-pages/lessons/05-wrapping-dom-libs.md</a>&#xA;This explains the solution very well, like so:</p>&#xA;&#xA;<p>Methodology:</p>&#xA;&#xA;<ol>&#xA;<li>DOM libs usually manipulate the DOM</li>&#xA;<li>React tries to re-render and finds a different DOM than it had last time and freaks out</li>&#xA;<li>We hide the DOM manipulation from React by breaking the rendering tree and then reconnecting around the DOM the lib manipulates.</li>&#xA;<li>Consumers of our component can stay in React-land.</li>&#xA;</ol>&#xA;