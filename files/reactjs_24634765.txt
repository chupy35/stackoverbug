24634765
React js equivalent for ng-include
<p>i am using Reactjs. i want to include partial html in my view. something like ng-include.&#xA;what is the best way doing it?</p>&#xA;&#xA;<pre><code>&lt;div&gt;&#xA;    &lt;ng-include src="myPageUrl"&gt;&lt;/ng-include&gt;&#xA;&lt;/div&gt;&#xA;</code></pre>&#xA;&#xA;<p>i tried the following with no luck -- got </p>&#xA;&#xA;<pre><code>'Uncaught Error: Invariant Violation: traverseAllChildren(...): &#xA;Encountered an invalid child; &#xA;DOM elements are not valid children of React components'&#xA;</code></pre>&#xA;&#xA;<p>my code looks like this (based on <a href="http://benalpert.com/react/tips/initial-ajax.html" rel="noreferrer">http://benalpert.com/react/tips/initial-ajax.html</a>)</p>&#xA;&#xA;<pre><code>var PageContainer = React.createClass({&#xA;  getInitialState: function() {&#xA;   return {&#xA;    page: "loading page ..." &#xA;   };&#xA;  },&#xA;  componentDidMount : function(){&#xA;   $.get(url, function(result) {&#xA;   var data = result;&#xA;   this.setState({&#xA;    page: data&#xA;   });&#xA;  }.bind(this));&#xA; },&#xA; render: function () {&#xA;  return (&#xA;    &lt;div id="page" className="PageContainer"&gt;&#xA;        {this.state.page}&#xA;    &lt;/div&gt;&#xA; );&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>});</p>&#xA;
<p>According to <a href="http://facebook.github.io/react/docs/jsx-gotchas.html" rel="nofollow">React documentation</a>:  </p>&#xA;&#xA;<blockquote>&#xA;  <p>As a last resort, you always have the ability to insert raw HTML.</p>&#xA;  &#xA;  <p><code>&lt;div dangerouslySetInnerHTML={{__html: 'First &amp;middot; Second'}} /&gt;</code></p>&#xA;</blockquote>&#xA;&#xA;<p>So for you that could be:</p>&#xA;&#xA;<pre><code>render: function () {&#xA;  return (&#xA;    &lt;div id="page" className="PageContainer"&#xA;      dangerouslySetInnerHTML={{__html: this.state.page}}&#xA;     &gt;&#xA;    &lt;/div&gt;&#xA; );&#xA;</code></pre>&#xA;