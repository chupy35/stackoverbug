28258465
How to add logical if statement when rendering React components?
<p>if I have code that looks like this...</p>&#xA;&#xA;<pre><code>var Lounge = React.createClass({displayName: "Lounge",&#xA;  render: function() {&#xA;    return (&#xA;            React.createElement("a", {href:"/lounge/detail/" + this.props.id +  "/"},&#xA;            React.createElement("div", {className: "lounge"},&#xA;            React.createElement("h2", {className: "loungeAuthor"},&#xA;              this.props.author.name&#xA;            ),&#xA;            React.createElement("p", {className: "loungeArticle"},&#xA;              this.props.article&#xA;            ),&#xA;            React.createElement("img", {className: "loungeImage", src: this.props.image})&#xA;          )&#xA;        )&#xA;    );&#xA;  }&#xA;});&#xA;</code></pre>&#xA;&#xA;<p>I need to do a logical if check to only render the "img" component if the image data exists.  Does anybody know the best way to go about this using React? </p>&#xA;
<p>Okay so this may be clear to a lot of people, for some reason I didn't see it, then again I'm quickly scanning through the documents and I'm not using JSX (really don't like it)</p>&#xA;&#xA;<p>Therefore the JavaScript way of adding logical if checks when rendering react components would be done like this.  (keep in mind undefined works just fine, so assuming the if statement is not hit it will still render just fine)</p>&#xA;&#xA;<pre><code>var Lounge = React.createClass({displayName: "Lounge",&#xA;  render: function() {&#xA;    if (this.props.image != "") {&#xA;       var imageElement = React.createElement("img", {className: "loungeImage", src: this.props.image});&#xA;    }&#xA;    return (&#xA;            React.createElement("a", {href:"/lounge/detail/" + this.props.id +  "/"},&#xA;            React.createElement("div", {className: "lounge"},&#xA;            React.createElement("h2", {className: "loungeAuthor"},&#xA;              this.props.author.name&#xA;            ),&#xA;            React.createElement("p", {className: "loungeArticle"},&#xA;              this.props.article&#xA;            ),&#xA;            imageElement&#xA;          )&#xA;        )&#xA;    );&#xA;  }&#xA;});&#xA;</code></pre>&#xA;
<p>If you want to do it inline, you can do:</p>&#xA;&#xA;<pre><code>{this.props.image &amp;&amp; &lt;img className="loungeImage" src={this.props.image}/&gt;}&#xA;&#xA;this.props.image &amp;&amp; React.createElement("img", {className: "loungeImage", src: this.props.image})&#xA;</code></pre>&#xA;&#xA;<p>If the value you want to check is falsy but would result in <em>something</em> being rendered by React, like an empty string, you might want to convert it to its boolean equivalent in the check by using <code>!!</code>:</p>&#xA;&#xA;<pre><code>{!!this.props.image &amp;&amp; &lt;img className="loungeImage" src={this.props.image}/&gt;}&#xA;&#xA;!!this.props.image &amp;&amp; React.createElement("img", {className: "loungeImage", src: this.props.image})&#xA;</code></pre>&#xA;
<p>Keeping this logic inline as well as using JSX may help with readability</p>&#xA;&#xA;<pre class="lang-js prettyprint-override"><code>import React from 'react';&#xA;import PropTypes from 'prop-types';&#xA;import s from './Lounge.css'; // See CSS Modules&#xA;&#xA;// Stateless functional component (since there is no state)&#xA;function Lounge({ id, article, author, imageUrl }) {&#xA;  return (&#xA;    &lt;a href={`/lounge/detail/${id}/`}&gt;&#xA;      &lt;span className={s.lounge}&gt;&#xA;        &lt;span className={s.author}&gt;{author.name}&lt;/span&gt;&#xA;        &lt;span className={s.article}&gt;{article}&lt;/span&gt;&#xA;        {imageUrl &amp;&amp; &lt;img className={s.image} src={imageUrl} /&gt;} // &lt;==&#xA;      &lt;/span&gt;&#xA;    &lt;/a&gt;&#xA;  );&#xA;}&#xA;&#xA;// Props validation&#xA;Lounge.propTypes = {&#xA;  id: PropTypes.number.isRequired,&#xA;  article: PropTypes.string.isRequired,&#xA;  imageUrl: PropTypes.string,&#xA;  author: PropTypes.shape({&#xA;    name: PropTypes.string.isRequired&#xA;  }).isRequired&#xA;};&#xA;&#xA;export default Lounge;&#xA;</code></pre>&#xA;
<p>You can use <a href="https://github.com/gfdev/javascript-react-if-component" rel="nofollow">React if component</a>:</p>&#xA;&#xA;<pre><code>var Node = require('react-if-comp');&#xA;&#xA;var Lounge = React.createClass({&#xA;    displayName: 'Lounge',&#xA;    render: function() {&#xA;        return (&#xA;            &lt;a href={'/lounge/detail/' + this.props.id + '/'}&gt;&#xA;                &lt;div className='lounge'&gt;&#xA;                    &lt;h2 className='loungeAuthor'&gt;{author.name}&lt;/h2&gt;&#xA;                    &lt;p className='loungeArticle'&gt;{article}&lt;/p&gt;&#xA;                    &lt;Node if={this.props.image}&#xA;                        then={&lt;img className='loungeImage'&#xA;                        src={this.props.image} /&gt;} /&gt;&#xA;                &lt;/div&gt;&#xA;            &lt;/a&gt;&#xA;        );&#xA;    }&#xA;});&#xA;</code></pre>&#xA;
<p>Using JSX + IIFE (Immediately-Invoked function) can come pretty handy and explicit:</p>&#xA;&#xA;<pre><code>{(() =&gt; {&#xA;  if (isEmpty(routine.queries)) {&#xA;    return &lt;Grid devices={devices} routine={routine} configure={() =&gt; this.setState({configured: true})}/&gt;&#xA;  } else if (this.state.configured) {&#xA;    return &lt;DeviceList devices={devices} routine={routine} configure={() =&gt; this.setState({configured: false})}/&gt;&#xA;  } else {&#xA;    return &lt;Grid devices={devices} routine={routine} configure={() =&gt; this.setState({configured: true})}/&gt;&#xA;  }&#xA;})()}&#xA;</code></pre>&#xA;