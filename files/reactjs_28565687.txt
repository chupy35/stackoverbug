28565687
Reactjs - create factory, passing props into component
<p>Trying to achieve the following:</p>&#xA;&#xA;<pre><code>if(typeof window === 'undefined'){&#xA;    return React.renderToString(React.createFactory(AppComponent)());&#xA;}&#xA;React.render(&lt;AppComponent component={component} /&gt;, document.body);&#xA;</code></pre>&#xA;&#xA;<p>How exactly can I pass in the <code>component</code> prop to the component when it's being put through the <code>createFactory</code> method?</p>&#xA;&#xA;<p>EDIT:</p>&#xA;&#xA;<p>Got it working:</p>&#xA;&#xA;<pre><code>renderApp: function(component){&#xA;    if(typeof window === 'undefined'){&#xA;        var appComponentFactory = React.createFactory(AppComponent);&#xA;        return React.renderToString(appComponentFactory({&#xA;            component: component&#xA;        }));&#xA;    }&#xA;    React.render(&lt;AppComponent component={component} /&gt;, document.body);&#xA;}&#xA;</code></pre>&#xA;
<p>If you're already transpiling JSX for the <code>React.render()</code> call, you don't need to jump through hoops with factories...</p>&#xA;&#xA;<pre><code>renderApp: function(component){&#xA;    var app = &lt;AppComponent component={component}/&gt;&#xA;    if (typeof window === 'undefined') {&#xA;      return React.renderToString(app);&#xA;    }&#xA;    React.render(app, document.body);&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>...since it's just sugar for:</p>&#xA;&#xA;<pre><code>var app = React.createElement(AppComponent, {component: component})&#xA;</code></pre>&#xA;&#xA;<hr>&#xA;&#xA;<p>This may not apply, but If your <code>AppComponent</code> isn't doing anything but rendering the <code>component</code> prop it's given, you could also just render the component directly:</p>&#xA;&#xA;<pre><code>renderApp: function(Component) {&#xA;    var app = &lt;Component/&gt;&#xA;    if (typeof window === 'undefined') {&#xA;      return React.renderToString(app);&#xA;    }&#xA;    React.render(app, document.body);&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>...showing the desugaring again:</p>&#xA;&#xA;<pre><code>var app = React.createElement(Component)&#xA;</code></pre>&#xA;