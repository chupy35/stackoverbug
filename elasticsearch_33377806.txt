33377806
Elasticsearch search body from URL search
<p>If I do a search directly to elasticsearch in a browser, such as:</p>&#xA;&#xA;<p><a href="http://localhost:9200/mydocs/_search?q=Awesome%20Search" rel="nofollow">http://localhost:9200/mydocs/_search?q=Awesome%20Search</a></p>&#xA;&#xA;<p>What does the search body data actually look like? Is it doing a <code>multi_match</code> and including all fields?  I've tried writing a <code>multi_match</code> including all the fields and I get different results from doing it right in the browser. </p>&#xA;
<p><code>?q=....</code> is not a <code>multi_match</code> query, this is <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-uri-request.html" rel="nofollow">URI query</a> and it's using <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html" rel="nofollow"><code>query_string</code> query</a>.</p>&#xA;&#xA;<p>So your search is "translated" to:</p>&#xA;&#xA;<pre><code>{&#xA;  "query": {&#xA;    "query_string": {&#xA;      "query": "Awesome Search"&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;
<p>You need to pass <code>multi_match</code> query as request body like this</p>&#xA;&#xA;<pre><code>curl -XGET 'http://localhost:9200/your_index/_search?pretty=true' -d '{"query":{"multi_match":{"query":"keyword","fields":["field1","field2"]}}}'&#xA;</code></pre>&#xA;