30511164
ElascticSearch subfield search appears to stop on first occurence
<p>In the following document I would like to query all 'name' fields that contain 'bill'.</p>&#xA;&#xA;<pre><code>PUT /my_index/blogpost/2&#xA;{&#xA;  "vendor":     {&#xA;    "name":     "bill" &#xA;  },&#xA;  "user":     {&#xA;    "name":     "bob"&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>The following query properly returns the document:</p>&#xA;&#xA;<pre><code>GET /my_index/blogpost/_search&#xA;{&#xA;  "query": {&#xA;    "bool": {&#xA;      "must": [&#xA;        { "match": {&#xA;            "name": "bill"&#xA;            }&#xA;        }&#xA;      ]&#xA;    }&#xA;  }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>But searching for 'bob' instead does not return the document.</p>&#xA;&#xA;<p>Where is my wrong?</p>&#xA;
<p>You need to specify the full path to the field against which you are searching:</p>&#xA;&#xA;<pre><code>POST /my_index/blogpost/_search&#xA;{&#xA;   "query": {&#xA;      "bool": {&#xA;         "must": [&#xA;            {&#xA;               "match": {&#xA;                  "user.name": "bob"&#xA;               }&#xA;            }&#xA;         ]&#xA;      }&#xA;   }&#xA;}&#xA;</code></pre>&#xA;&#xA;<p>Here is some code I used for testing:</p>&#xA;&#xA;<p><a href="http://sense.qbox.io/gist/74b124fd90aa3c7d422b3ef13933ce419b44714e" rel="nofollow">http://sense.qbox.io/gist/74b124fd90aa3c7d422b3ef13933ce419b44714e</a></p>&#xA;